<!DOCTYPE html>

<html lang="de">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Anamneseraster ‚Äì Tomedo-kompatibel (Option 2, mit erweiterter 8000-Logik)</title>
<style>
  :root{--bg:#f5f6f7;--card:#ffffff;--text:#1f2937;--muted:#6b7280;--border:#9ca3af;--blue:#1e3a8a;--focus:#0ea5e9;--radius:14px;--pad:1rem;--gap:1rem;}
  html,body{height:100%} body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
  header,main{max-width:1000px;margin:0 auto;padding:var(--pad)} header{margin-top:1rem}
  .card{background:var(--card);border:1px solid #9ca3af;border-radius:var(--radius);padding:calc(var(--pad) + .25rem)}
  .q{display:grid;gap:.75rem;scroll-margin-top:2rem} .q[hidden]{display:none!important} h2{font-size:1.25rem;margin:.25rem 0}
  fieldset{border:1px solid #9ca3af;border-radius:12px;padding:.75rem} legend{font-weight:600}
  .choices{display:grid;gap:.5rem} @media(min-width:560px){.choices{grid-template-columns:repeat(2,minmax(0,1fr))}}
  .choice{position:relative;display:flex;align-items:center;gap:.75rem;border:2px solid #9ca3af;border-radius:12px;padding:.8rem;cursor:pointer}
  .choice input{position:absolute;inset:0;opacity:0} .choice .lbl{font-weight:600}
  .choice:has(input:checked){border-color:var(--blue);box-shadow:inset 0 0 0 3px var(--blue)}
  label{display:block} .row{display:grid;grid-template-columns:1fr;gap:.75rem} @media(min-width:700px){.row.two{grid-template-columns:repeat(2,minmax(0,1fr))}}
  input[type=text],input[type=number],input[type=date],select,textarea{width:100%;padding:.8rem .9rem;border:1.5px solid #9ca3af;border-radius:12px;min-height:44px;box-sizing:border-box;font-size:1rem;background:#fff;color:var(--text)}
  input:focus,select:focus,textarea:focus{outline:3px solid transparent;box-shadow:0 0 0 3px rgba(14,165,233,.35);border-color:var(--focus)}
  .actions{display:flex;flex-wrap:wrap;gap:.5rem} .btn{appearance:none;border:0;background:#1e3a8a;color:#fff;border-radius:12px;padding:.85rem 1rem;font-weight:700;cursor:pointer}
  .freitext-blue{border:2px solid #1e3a8a!important;box-shadow:inset 0 0 0 1px rgba(30,58,138,.2)} .freitext-spacer{margin-top:.35rem;display:block}
  .accent{background:#eef2ff;border:1.5px solid #1e3a8a;border-radius:12px;padding:.5rem}
  small.hint{color:var(--muted)}

.row.three{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem;}

  .actions {
    margin-top: 0.75rem;
  }

  form .actions {
    margin-top: 1rem;
  }

  #wrap2005, #wrap2004 {
    border: 3px solid #0056b3;
    background-color: #f0f8ff;
    padding: 0.9rem;
    border-radius: 0.6rem;
    margin-top: 0.75rem;
  }
  #wrap2005 label, #wrap2004 label {
    font-weight: bold;
    color: #003366;
  }

  #wrap2001 label, #wrap2002 label {
    font-weight: bold;
  }

  .btn-danger {
    background-color: #c53030;
    color: #fff;
    font-weight: bold;
  }
  .btn-danger:hover {
    background-color: #9b2c2c;
  }

/* helper: full-width choices */
.choices.full{grid-template-columns:1fr!important;}
</style>
<!-- Merge contact and body measurement sections into single accordion blocks by hiding their headers -->
<style id="accordion-contact-body-merge">
  /* Hide accordion headers for all contact blocks so the legend acts as label */
  #q3000 .q-accordion-header,
  #q3001 .q-accordion-header,
  #q3002 .q-accordion-header,
  #q3003 .q-accordion-header,
  #q3004 .q-accordion-header,
  #q4001 .q-accordion-header,
  #q4002 .q-accordion-header,
  /* Multi-Select Bl√∂cke dauerhaft ge√∂ffnet halten */
  #q1005 .q-accordion-header,
  #q1006 .q-accordion-header,
  #q1105 .q-accordion-header,
  #q1205 .q-accordion-header,
  #q1305 .q-accordion-header,
  #q1405 .q-accordion-header,
  #q1605 .q-accordion-header,
  #q1705 .q-accordion-header {
    display: none;
  }
  /* Ensure contact bodies and body-measurement bodies are always visible */
  #q3000 .q-body,
  #q3001 .q-body,
  #q3002 .q-body,
  #q3003 .q-body,
  #q3004 .q-body,
  #q4001 .q-body,
  #q4002 .q-body,
  /* Ensure Multi-Select bodies always visible */
  #q1005 .q-body,
  #q1006 .q-body,
  #q1105 .q-body,
  #q1205 .q-body,
  #q1305 .q-body,
  #q1405 .q-body,
  #q1605 .q-body,
  #q1705 .q-body {
    display: block !important;
    margin-top: 0;
    border-top: 0;
  }
</style>
<style>
.vh{position:absolute!important;left:-10000px!important;top:auto!important;width:1px!important;height:1px!important;overflow:hidden!important;}
</style>
<style>
.hint-8990{font-size:.95rem;margin-top:.35rem;line-height:1.3;color:#374151}
</style>
<style>
  #btnSendMail {
    background-color: #1e7e34;
    color: #fff;
    font-weight: bold;
    font-size: 1.1rem;
    padding: 0.6rem 1.2rem;
    border-radius: 0.75rem;
    box-shadow: 0 0 6px rgba(0,0,0,0.2);
    transition: background-color 0.2s ease;
  }
  #btnSendMail:hover { background-color: #155d27; }
  #btnSendMail:disabled { filter: grayscale(0.4); opacity: .6; cursor: not-allowed; }
</style>
<style>
/* === Option 2: Responsive Grid & Gruppierung (override) === */

/* 1) Gr√∂√üere Breakpoints f√ºr bessere Desktop-Aufteilung */
@media (min-width: 840px){
  .row.two{ grid-template-columns: 1fr 1fr; }
  .row.three{ grid-template-columns: 1fr 1fr 1fr; }
}

/* 2) Sekund√§re Bl√∂cke optisch leichter */
.accent{
  background: #f8fafc;
  border-color: #9ca3af;
}

/* 3) Termin-Wraps 2001‚Äì2005 vereinheitlichen */
[id^="wrap200"]{
  border: 2px solid #9ca3af;
  border-radius: 12px;
  padding: .9rem;
}
[id^="wrap200"] label{ font-weight: 700; }

/* 4) Button-Leiste konsistent */
.actions{ justify-content: flex-start; gap: .75rem; }
.btn{ min-height: 44px; }

/* 5) Dezentere Kacheln f√ºr Auswahl */
.choice{ gap: .6rem; padding: .75rem; }
.choice:has(input:checked){ box-shadow: inset 0 0 0 3px var(--blue); }

/* 6) Hinweise unter Feldern konsistent */
label > .hint{ display:block; margin-top:.35rem; color: var(--muted); }
</style>
<style>
/* === Option 1: Lesbarkeit & Rhythmus (override) === */

/* Typografie-Basis */
body { line-height: 1.6; }
h2 { font-size: 1.35rem; margin: 0 0 .5rem; }
label { font-weight: 600; }

/* Vertikaler Rhythmus */
.q { gap: 1rem; }
.q + .q { margin-top: 1.25rem; }
fieldset { padding: 1rem; }
.row { gap: 1rem; }

/* Hinweise unter Feldern */
label > .hint,
small.hint { display:block; margin-top:.35rem; font-size:.9rem; color:#6b7280; line-height:1.4; }

/* Freitext konsistent */
.freitext-blue { border-width: 2px; }
.freitext-spacer { margin-top:.35rem; display:block; }
</style>
<style>.freitext-full input[type=text]{width:100%!important;display:block;}</style>
<style id="neutralize-first-choice">
/* Variante 2: Neutralisiere optische Voreinstellung */
.choices label:first-child {
  background: none !important;
}
.choices input[type="checkbox"]:focus + .lbl,
.choices input[type="radio"]:focus + .lbl {
  outline: none !important;
  background: none !important;
}
</style>
<style id="q9000_slim_style">
  /* One border only: fieldset light border, no inner card */
  #q9000_confirm_wrap { background: #fff; border: 1px solid #9ca3af; padding: .75rem; }
  #q9000_confirm_wrap .choice { border: 2px solid #9ca3af; padding: .9rem; border-radius: 12px; }
  #q9000_confirm_wrap .choice:has(input:checked){ border-color: var(--blue); box-shadow: inset 0 0 0 3px var(--blue); }
  /* Align inputs for q9001/q9002 with global sizing */
  #q9001 input[name="9001" required], #q9001 input[name="9002" required] { width: 100%; min-height: 44px; font-size: 1rem; }
</style>
<style id="q3003_3004_style">
  #q3003 input[name="3003"], #q3003 textarea[name="3003"],
  #q3004 input[name="3004"], #q3004 textarea[name="3004"] {
    width: 100%;
    min-height: 44px;
    font-size: 1rem;
    box-sizing: border-box;
  }
</style>
<style id="q9001_9002_style">
  #q9001 input[name="9001" required],
  #q9001 input[name="9002" required],
  #q9002 input[name="9001" required],
  #q9002 input[name="9002" required] {
    width: 100%;
    min-height: 44px;
    font-size: 1rem;
    box-sizing: border-box;
  }
</style>
<style id="scale_1114_1183_1173_css">  /* Vollbreite Skalen + saubere Ausgabe */
  [name^="1114"], [name^="1183"], [name^="1173"] {
    width: 100% !important;
    min-height: 44px;
    box-sizing: border-box;
  }
  .scale-row{position:relative; display:block;}
  .scale-row input[type=range]{display:block; width:100%;}
  .scale-row output.scale-val {
    position:absolute; right:0; top:50%; transform:translateY(-50%);
    min-width:2.5ch; font-weight:700; text-align:right;
    pointer-events:none;
  }
</style>
<style id="q1003_1004_fix_twocol_override">
  #q1003 .choices.full, #q1004 .choices.full {
    display: grid !important;
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    gap: .6rem 1.2rem !important;
    align-items: start;
  }
  /* Freitext unterhalb in voller Breite */
  #q1003 input[name="1003_freitext"],
  #q1004 input[name="1004_freitext"] {
    width: 100%;
    box-sizing: border-box;
    margin-top: .5rem;
  }
</style>
<style id="q9001_9002_layout_css">
  input[name="9001"],
  input[name="9002"]{
    display:block;
    width:100%;
    box-sizing:border-box;
    line-height: var(--input-line-height, 1.25);
    min-height: var(--input-min-height, 44px);
    padding: var(--input-padding, 10px 12px);
    margin-top: 6px;
  }
</style>
<style id="q4140_small_layout">
  #q4140 .lbl small{display:block; line-height:1.2; opacity:.85; font-size:.9em}
</style>
<style id="stars-compact-css">
  .stars{
    display:inline-flex;
    flex-direction: row-reverse;
    gap:.2rem;
    font-size:1.6rem;
    line-height:1;
  }
  .stars input{ display:none; }
  .stars label{ cursor:pointer; user-select:none; color:#ccc; }
  .stars label:hover,
  .stars label:hover ~ label{ color:gold; }
  .stars input:checked ~ label{ color:gold; }
</style>
<style>
.field-error{color:#b00020;font-size:1.05rem;margin-top:6px;display:none;font-weight:600}
.field-error.show{display:block}
</style>
<style id="sticky-header-progress">
/* Sticky header + progress */
header{
  position: sticky;
  top: 0;
  z-index: 100;
  background: var(--bg);
  backdrop-filter: saturate(1.1) blur(2px);
  border-bottom: 1px solid #9ca3af;
}
#progressWrap{
  position: relative;
  width: 100%;
  height: 6px;
  background: #9ca3af;
  border-radius: 999px;
  overflow: hidden;
  margin-top: .5rem;
}
#progressBar{
  width: 0%;
  height: 100%;
  background: #1e3a8a;
  transition: width .15s linear;
}
/* Back button per section */
.q .section-actions{
  display: flex;
  justify-content: flex-end;
  margin-bottom: .25rem;
}
.btn-back{
  appearance: none;
  border: 0;
  background: #334155;
  color: #fff;
  border-radius: 10px;
  padding: .5rem .75rem;
  font-weight: 700;
  cursor: pointer;
  font-size: .9rem;
}
.btn-back[hidden]{ display:none; }
</style>
<style id="progress-framed-css">
:root{ --progress-h: 20px; } /* doubled height */
#progressWrap{
  position: fixed !important;
  top: 0; left: 0;
  width: 100%;
  height: var(--progress-h);
  z-index: 2147483647 !important;
  pointer-events: none;
  background: transparent !important;
}
#progressBar{
  height: 100%;
  width: 100%;
  box-sizing: border-box;
  border: 1px solid #334155;
  border-radius: 999px;
  background: rgba(255,255,255,0.2);
  overflow: hidden;
  position: relative;
  font-family: system-ui, sans-serif;
  font-size: 0.85rem;            /* slightly larger for readability */
  font-weight: 700;              /* bold percentage text */
  color: #fff;
  text-align: center;
}
#progressFill{
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #1e3a8a, #0b1f52);
  transition: width .15s ease-out;
}
#progressFill.complete{
  background:
    repeating-linear-gradient(-45deg, rgba(255,255,255,.35) 0 8px, rgba(255,255,255,0) 8px 16px),
    linear-gradient(90deg, #1e3a8a, #0b1f52);
  box-shadow: 0 0 0 1px #0b1f52 inset, 0 0 6px rgba(14,32,82,.35);
}
#progressText{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  user-select: none;
  white-space: nowrap;
  text-shadow: 0 0 3px rgba(0,0,0,0.7);
}
/* Layout offset so content does not hide under the bar */
body{ padding-top: var(--progress-h); }
header{ position: sticky; top: var(--progress-h); z-index: 100; }
</style>
<style id="freitext-blue-style">
input.freitext-blue, textarea.freitext-blue{
  border: 2px solid #1e3a8a;
  background: #ffffff !important;
  padding: 0.4rem 0.6rem;
  margin-top: 0.25rem;
  border-radius: 6px;
  color: inherit;
  -webkit-text-fill-color: inherit;
}
input.freitext-blue::placeholder, textarea.freitext-blue::placeholder{ opacity: 0.6; }
/* Hide placeholder once user types */
input.freitext-blue:not(:placeholder-shown)::placeholder,
textarea.freitext-blue:not(:placeholder-shown)::placeholder{ opacity: 0; }
/* Neutralize browser autofill yellow */
input.freitext-blue:-webkit-autofill,
textarea.freitext-blue:-webkit-autofill{
  -webkit-box-shadow: 0 0 0px 1000px #ffffff inset !important;
  box-shadow: 0 0 0px 1000px #ffffff inset !important;
  -webkit-text-fill-color: inherit !important;
}
input.freitext-blue:-webkit-autofill:focus,
textarea.freitext-blue:-webkit-autofill:focus{
  -webkit-box-shadow: 0 0 0px 1000px #ffffff inset !important;
  box-shadow: 0 0 0px 1000px #ffffff inset !important;
}
</style>
<style id="contact-error-css">
#contact-error{display:none;margin-top:.75rem;padding:.6rem .8rem;border:2px solid #c53030;background:#fee2e2;color:#7f1d1d;border-radius:10px;font-weight:700}
#contact-error.show{display:block}
</style>
<style id="new-section-highlight-css">
.section-new{ position:relative; background:#fff7ed; outline:3px solid #fb923c; transition:background 1.2s ease; border-radius:12px; }
.section-new::before{
  content:"NEU"; position:absolute; top:.4rem; right:.6rem;
  font:700 .75rem/1 system-ui; color:#7c2d12; background:#fdba74; padding:.2rem .4rem; border-radius:.4rem;
}
@media (prefers-reduced-motion: no-preference){
  .section-pulse{ animation: newPulse 1.2s ease-in-out 2; }
  @keyframes newPulse { 0%{ outline-offset:0 } 50%{ outline-offset:4px } 100%{ outline-offset:0 } }
}
</style>
<style id="q1005_q1006_visuals_min">
  #q1005 fieldset.accent{
    border-width: 3px !important;
    border-color: var(--blue) !important;
    box-shadow: inset 0 0 0 2px rgba(30,58,138,.15);
    background: #eef2ff;
  }
  #q1006.noaccent fieldset.accent{
    background: transparent !important;
    border-color: transparent !important;
  }
</style>

<style id="q-accordion-ux">
/* Accordion layout & visual states */
form .q{
  position: relative;
  border-radius: 14px;
  border: 1.5px solid #9ca3af;
  background: #ffffff;
  padding: 0.5rem 0.75rem 0.75rem;
  margin-top: 0.85rem;
  display: grid;
  gap: 0.75rem;
}
.q-accordion-header{
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .5rem;
  padding: .55rem .75rem;
  margin: 0;
  border: 0;
  border-radius: 10px;
  background: #e5e7eb;
  font: 600 .98rem/1.3 system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  cursor: pointer;
  text-align: left;
}
.q-accordion-header span.q-accordion-title{
  flex: 1 1 auto;
}
.q-accordion-icon{
  flex: 0 0 auto;
  font-size: 1rem;
  transition: transform .15s ease-out;
}
.q-accordion-header[aria-expanded="true"] .q-accordion-icon{
  transform: rotate(180deg);
}
.q-body{
  border-radius: 10px;
  padding-top: .35rem;
}

/* Visual state: error vs complete */
.q.section-error-active,
.q.q-error{
  border-color: #dc2626 !important;
  background: #fef2f2;
}
.q.q-complete{
  border-color: #16a34a !important;
  box-shadow: 0 0 0 1px rgba(22,163,74,.25);
}

/* Inline error box inside section */
.section-error{
  display:none;
  margin:.35rem .1rem .25rem;
  padding:.5rem .75rem;
  border-radius:10px;
  border:1.5px solid #b91c1c;
  background:#fee2e2;
  color:#7f1d1d;
  font-size:.9rem;
  font-weight:600;
}
.section-error.show{
  display:block;
}

/* Block type coloring */
.q.q-type-basis{
  background:#eff6ff;
}
.q.q-type-beschwerden{
  background:#fef2f2;
}
.q.q-type-screening{
  background:#ecfdf3;
}
.q.q-type-geriatrie{
  background:#fffbeb;
}

/* Larger click targets for choices */
.choice{
  min-height: 44px;
}

/* Only one block visually separated */
form .q + .q{
  margin-top: 1rem;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .q-accordion-icon{ transition:none; }
}
</style>

</head>
<body>
<div aria-hidden="true" id="progressWrap"><div id="progressBar"><div id="progressFill"></div><div id="progressText">0%</div></div></div>
<h1 aria-label="Fragebogen - Gesundheitsfragen">üìù Fragebogen - Gesundheitsfragen</h1>
<p>Dieser Bogen dauert etwa 6‚Äì10 Minuten und hilft uns, Ihren Besuch optimal vorzubereiten. Ob Termin bereits gebucht oder nur angefragt ‚Äì dieses Formular erhebt wichtige Daten f√ºr Erstkontakt und Folgeprobleme. Unterfragen √∂ffnen sich automatisch je nach Auswahl.</p>

<main>
<form autocomplete="off" class="card" id="form" novalidate="">
<!-- Basisdaten -->
<section class="q" id="q0000">
<h2 aria-label="Basisdaten">üë§ Basisdaten</h2>
<div class="row two">
<label>Nachname
      <input autocomplete="family-name" name="0000" required="" type="text"/>
</label>
<label>Vorname
      <input autocomplete="given-name" name="0001" required="" type="text"/>
</label>
</div>
<div class="row two">
<label>Geschlecht
      <select name="0002" required="">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>m√§nnlich</option>
<option>weiblich</option>
<option>divers/wei√ü nicht</option>
</select>
</label>
<label>Geburtsdatum
      <div class="row three">
<select name="0003_tag" required="">
<option value="">Tag</option>
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
<option>6</option>
<option>7</option>
<option>8</option>
<option>9</option>
<option>10</option>
<option>11</option>
<option>12</option>
<option>13</option>
<option>14</option>
<option>15</option>
<option>16</option>
<option>17</option>
<option>18</option>
<option>19</option>
<option>20</option>
<option>21</option>
<option>22</option>
<option>23</option>
<option>24</option>
<option>25</option>
<option>26</option>
<option>27</option>
<option>28</option>
<option>29</option>
<option>30</option>
<option>31</option>
</select>
<select name="0003_monat" required="">
<option value="">Monat</option>
<option value="1">Januar</option><option value="2">Februar</option><option value="3">M√§rz</option>
<option value="4">April</option><option value="5">Mai</option><option value="6">Juni</option>
<option value="7">Juli</option><option value="8">August</option><option value="9">September</option>
<option value="10">Oktober</option><option value="11">November</option><option value="12">Dezember</option>
</select>
<select name="0003_jahr" required="">
<option value="">Jahr</option>
<option>2025</option>
<option>2024</option>
<option>2023</option>
<option>2022</option>
<option>2021</option>
<option>2020</option>
<option>2019</option>
<option>2018</option>
<option>2017</option>
<option>2016</option>
<option>2015</option>
<option>2014</option>
<option>2013</option>
<option>2012</option>
<option>2011</option>
<option>2010</option>
<option>2009</option>
<option>2008</option>
<option>2007</option>
<option>2006</option>
<option>2005</option>
<option>2004</option>
<option>2003</option>
<option>2002</option>
<option>2001</option>
<option>2000</option>
<option>1999</option>
<option>1998</option>
<option>1997</option>
<option>1996</option>
<option>1995</option>
<option>1994</option>
<option>1993</option>
<option>1992</option>
<option>1991</option>
<option>1990</option>
<option>1989</option>
<option>1988</option>
<option>1987</option>
<option>1986</option>
<option>1985</option>
<option>1984</option>
<option>1983</option>
<option>1982</option>
<option>1981</option>
<option>1980</option>
<option>1979</option>
<option>1978</option>
<option>1977</option>
<option>1976</option>
<option>1975</option>
<option>1974</option>
<option>1973</option>
<option>1972</option>
<option>1971</option>
<option>1970</option>
<option>1969</option>
<option>1968</option>
<option>1967</option>
<option>1966</option>
<option>1965</option>
<option>1964</option>
<option>1963</option>
<option>1962</option>
<option>1961</option>
<option>1960</option>
<option>1959</option>
<option>1958</option>
<option>1957</option>
<option>1956</option>
<option>1955</option>
<option>1954</option>
<option>1953</option>
<option>1952</option>
<option>1951</option>
<option>1950</option>
<option>1949</option><option>1948</option><option>1947</option><option>1946</option><option>1945</option><option>1944</option><option>1943</option><option>1942</option><option>1941</option><option>1940</option><option>1939</option><option>1938</option><option>1937</option><option>1936</option><option>1935</option><option>1934</option><option>1933</option><option>1932</option><option>1931</option><option>1930</option><option>1929</option><option>1928</option><option>1927</option><option>1926</option><option>1925</option></select>
</div>
<input id="id_0003_iso" name="0003" type="hidden"/>
</label>
</div>
</section><section class="q" hidden="" id="q1000">
<fieldset class="accent">
<legend>Haben Sie aktuell Beschwerden?</legend>
<div class="choices" role="radiogroup">
<label class="choice"><input data-next="#q1001" name="1000" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q2000" name="1000" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section><section class="q" hidden="" id="q1001">
<fieldset class="accent">
<legend>Wie lange bestehen Ihre Beschwerden?</legend>
<select data-toggle="#q1002" name="1001_select">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>wenige Tage</option>
<option>weniger als 1 Woche</option>
<option>wenige Wochen</option>
<option>wenige Monate</option>
<option>l√§nger als ein halbes Jahr</option>
<option>seit Jahren</option>
<option>wei√ü nicht</option>
</select>
</fieldset>
</section><section class="q" hidden="" id="q1002">
<fieldset class="accent">
<legend>Wie h√§ufig treten diese Beschwerden auf?</legend>
<select data-toggle="#q1003" name="1002_select">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>selten</option>
<option>unregelm√§√üig</option>
<option>episodisch</option>
<option>periodisch / regelm√§√üig</option>
<option>t√§glich</option>
<option>st√§ndig / ununterbrochen</option>
</select>
</fieldset>
</section><section class="q" hidden="" id="q1003"><h3 aria-label="Wodurch werden Ihre Beschwerden ausgel√∂st?" class="q-title">Wodurch werden Ihre Beschwerden ausgel√∂st?</h3>
<fieldset class="accent"><legend>Wodurch werden Ihre Beschwerden ausgel√∂st?</legend><div class="choices full"><label class="choice"><input data-toggle="#q1004" name="1003" type="checkbox" value="Belastung/Gehen"/><span class="lbl">Belastung/Gehen</span></label><label class="choice"><input data-toggle="#q1004" name="1003" type="checkbox" value="K√§lteexposition"/><span class="lbl">K√§lteexposition</span></label><label class="choice"><input data-toggle="#q1004" name="1003" type="checkbox" value="L√§ngeres Stehen oder Sitzen"/><span class="lbl">L√§ngeres Stehen oder Sitzen</span></label><label class="choice"><input data-toggle="#q1004" name="1003" type="checkbox" value="Nahrungsaufnahme"/><span class="lbl">Nahrungsaufnahme</span></label><label class="choice"><input data-toggle="#q1004" name="1003" type="checkbox" value="W√§rme"/><span class="lbl">W√§rme</span></label><label class="choice"><input data-toggle="#q1004" name="1003" type="checkbox" value="ohne Ausl√∂ser"/><span class="lbl">ohne Ausl√∂ser</span></label></div><span class="freitext-spacer"></span><input class="freitext-blue" data-toggle="#q1004" name="1003_freitext" placeholder="_ Tragen Sie hier weitere Symptome und Beobachtungen" type="text"/></fieldset>
</section><section class="q" hidden="" id="q1004">
<h3 aria-label="Haben sich Ihre Beschwerden ver√§ndert?" class="q-title">Haben sich Ihre Beschwerden ver√§ndert?</h3><fieldset class="accent"><legend>Haben sich Ihre Beschwerden ver√§ndert?</legend><select data-next="#q1005,#q1006,#q2000" name="1004_select"><option value="">Bitte w√§hlen‚Ä¶</option><option>abgeklungen</option><option>gebessert</option><option>unver√§ndert</option><option>wechselnd</option><option>zunehmend</option></select></fieldset>
</section><section class="q" hidden="" id="q1005">
<h3 aria-label="Haben Sie sonstige Auff√§lligkeiten?" class="q-title">Haben Sie sonstige Auff√§lligkeiten?</h3><fieldset class="accent"><legend>Haben Sie sonstige Auff√§lligkeiten?</legend><div class="choices full"><label class="choice"><input name="1005" type="checkbox" value="Fieber"/><span class="lbl">Fieber</span></label><label class="choice"><input name="1005" type="checkbox" value="Kraftlosigkeit"/><span class="lbl">Kraftlosigkeit</span></label><label class="choice"><input name="1005" type="checkbox" value="Nachtschwei√ü"/><span class="lbl">Nachtschwei√ü</span></label><label class="choice"><input name="1005" type="checkbox" value="ungewollter Gewichtsverlust"/><span class="lbl">ungewollter Gewichtsverlust</span></label></div><span class="freitext-spacer"></span><input class="freitext-blue" name="1005_freitext" placeholder="_ (andere Auff√§lligkeiten )" type="text"/></fieldset>
</section><!-- ===== Additions: Fieber-Unterfragen 1105‚Äì1405 ===== -->
<section class="q" hidden="" id="q1105">
<fieldset class="accent">
<legend>Fieber ‚Äì Tagesprofil</legend>
<div class="row two">
<label>Tagesprofil
        <div class="choices">
<label class="choice"><input name="1105_tagesprofil" type="radio" value="kontinuierlich"/><span class="lbl">kontinuierlich</span></label>
<label class="choice"><input name="1105_tagesprofil" type="radio" value="remittierend"/><span class="lbl">remittierend</span></label>
<label class="choice"><input name="1105_tagesprofil" type="radio" value="intermittierend"/><span class="lbl">intermittierend</span></label>
</div>
</label>
<label>Sch√ºttelfrost
        <div class="choices">
<label class="choice"><input name="1105_schuettelfrost" type="radio" value="ja"/><span class="lbl">ja</span></label>
<label class="choice"><input name="1105_schuettelfrost" type="radio" value="nein"/><span class="lbl">nein</span></label>
</div>
</label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1205">
<fieldset class="accent">
<legend>Fieber ‚Äì H√∂chsttemperatur &amp; Messmethode</legend>
<div class="row two">
<label>H√∂chsttemperatur (¬∞C)
        <input max="43.5" min="35.0" name="1205_tmax_c" placeholder="z. B. 39.2" step="0.1" type="number"/>
</label>
<label>Messmethode
        <div class="choices">
<label class="choice"><input name="1205_methode" type="radio" value="rektal"/><span class="lbl">rektal</span></label>
<label class="choice"><input name="1205_methode" type="radio" value="oral"/><span class="lbl">oral</span></label>
<label class="choice"><input name="1205_methode" type="radio" value="Geh√∂rgang"/><span class="lbl">Geh√∂rgang</span></label>
</div>
</label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1305">
<fieldset class="accent">
<legend>Fieber ‚Äì Begleitsymptome</legend>
<div class="choices row two">
<label class="choice"><input name="1305_begleit" type="checkbox" value="Nackensteifigkeit"/><span class="lbl">Nackensteifigkeit</span></label>
<label class="choice"><input name="1305_begleit" type="checkbox" value="Lichtempfindlichkeit"/><span class="lbl">Lichtempfindlichkeit</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1405">
<fieldset class="accent">
<legend>Fieber ‚Äì Ausl√∂sende Ursachen / Exposition</legend>
<div class="choices row two">
<label class="choice"><input name="1405_expo" type="checkbox" value="Reise (letzte 4‚Äì6 Wochen)"/><span class="lbl">Reise (letzte 4‚Äì6 Wochen)</span></label>
<label class="choice"><input name="1405_expo" type="checkbox" value="Tier-/Zeckenkontakt"/><span class="lbl">Tier-/Zeckenkontakt</span></label>
<label class="choice"><input name="1405_expo" type="checkbox" value="Insektenstiche"/><span class="lbl">Insektenstiche</span></label>
<label class="choice"><input name="1405_expo" type="checkbox" value="Rohmilch"/><span class="lbl">Rohmilch</span></label>
<label class="choice"><input name="1405_expo" type="checkbox" value="Meeresfr√ºchte"/><span class="lbl">Meeresfr√ºchte</span></label>
<label class="choice"><input name="1405_expo" type="checkbox" value="Sexuelle Kontakte"/><span class="lbl">Sexuelle Kontakte</span></label>
<label class="choice"><input name="1405_expo" type="checkbox" value="i.v.-Drogen"/><span class="lbl">i.v.-Drogen</span></label>
</div>
</fieldset>
</section>
<!-- ===== End Additions: 1105‚Äì1405 ===== -->
<!-- ===== Additions: Ungewollter Gewichtsverlust 1505‚Äì1705 ===== -->
<section class="q" hidden="" id="q1505">
<fieldset class="accent">
<legend>Gewichtsverlust ‚Äì Appetit</legend>
<div class="choices">
<label class="choice"><input name="1505_appetit" type="radio" value="normal"/><span class="lbl">normal</span></label>
<label class="choice"><input name="1505_appetit" type="radio" value="vermindert"/><span class="lbl">vermindert</span></label>
<label class="choice"><input name="1505_appetit" type="radio" value="fr√ºhe S√§ttigung"/><span class="lbl">fr√ºhe S√§ttigung</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1605">
<fieldset class="accent">
<legend>Gewichtsverlust ‚Äì Nahrungsaufnahme</legend>
<div class="row three">
<label>Kalorienzufuhr / Tag
        <input min="0" name="1605_kcal_tag" placeholder="kcal/Tag" step="50" type="number"/>
</label>
<label>Mahlzeiten / Tag
        <input min="0" name="1605_mahlzeiten_tag" placeholder="z. B. 3" step="1" type="number"/>
</label>
<label>Trinkmenge / Tag (Liter)
        <input min="0" name="1605_trinkmenge_l" placeholder="z. B. 1.5" step="0.1" type="number"/>
</label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1705">
<fieldset class="accent">
<legend>Gewichtsverlust ‚Äì Symptome</legend>
<div class="choices row two">
<label class="choice"><input name="1705_sympt" type="checkbox" value="Heiserkeit &gt;3 Wo"/><span class="lbl">Heiserkeit &gt;3 Wo</span></label>
<label class="choice"><input name="1705_sympt" type="checkbox" value="Kauprobleme"/><span class="lbl">Kauprobleme</span></label>
<label class="choice"><input name="1705_sympt" type="checkbox" value="neu aufgetretene Hyperpigmentierung"/><span class="lbl">neu aufgetretene Hyperpigmentierung</span></label>
<label class="choice"><input name="1705_sympt" type="checkbox" value="orthostatische Beschwerden"/><span class="lbl">orthostatische Beschwerden</span></label>
<label class="choice"><input name="1705_sympt" type="checkbox" value="rektale Blutung"/><span class="lbl">rektale Blutung</span></label>
<label class="choice"><input name="1705_sympt" type="checkbox" value="Schluckst√∂rungen"/><span class="lbl">Schluckst√∂rungen</span></label>
<label class="choice"><input name="1705_sympt" type="checkbox" value="Schmerzhafte/tastbare Lymphknoten"/><span class="lbl">Schmerzhafte/tastbare Lymphknoten</span></label>
<label class="choice"><input name="1705_sympt" type="checkbox" value="Soor"/><span class="lbl">Soor</span></label>
<label class="choice"><input name="1705_sympt" type="checkbox" value="TBC-Kontakt"/><span class="lbl">TBC-Kontakt</span></label>
<label class="choice"><input name="1705_sympt" type="checkbox" value="vermehrtes Durstgef√ºhl"/><span class="lbl">vermehrtes Durstgef√ºhl</span></label>
</div>
</fieldset>
</section>
<!-- ===== End Additions: 1505‚Äì1705 ===== -->
<!-- ===== Additions: Kraftlosigkeit Unterfragen 1805‚Äì1835 ===== -->
<section class="q" hidden="" id="q1805">
<fieldset class="accent">
<legend>starkes Ersch√∂pfungsgef√ºhl</legend>
<div class="choices">
<label class="choice"><input name="1805_erschoepfung" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1805_erschoepfung" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1815">
<fieldset class="accent">
<legend>spontanes ungewolltes Einschlafen</legend>
<div class="choices">
<label class="choice"><input name="1815_einschlafen" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1815_einschlafen" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1825">
<fieldset class="accent">
<legend>Aufstehen vom Stuhl ohne Armeinsatz m√∂glich</legend>
<div class="choices">
<label class="choice"><input name="1825_stuhl_ohne_arme" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1825_stuhl_ohne_arme" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1835">
<fieldset class="accent">
<legend>Kraftlosigkeit ‚Äì St√ºrze</legend>
<label>St√ºrze in den vergangenen 4 Wochen
      <input min="0" name="1835_stuerze_4w" placeholder="z. B. 0" step="1" type="number"/>
</label>
</fieldset>
</section>
<!-- ===== End Additions: 1805‚Äì1835 ===== -->
<section class="q" hidden="" id="q1006">
<fieldset class="accent">
<legend>Welche Beschwerden haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q1010" name="1006" type="checkbox" value="Angiologische Beschwerden - Durchblutungsprobleme (Blut und Lymphgef√§√üe)"/><span class="lbl">Angiologische Beschwerden - Durchblutungsprobleme (Blut und Lymphgef√§√üe)</span></label>
<label class="choice"><input data-toggle="#q1020" name="1006" type="checkbox" value="Atemwegs- und Lungenbeschwerden"/><span class="lbl">Atemwegs- und Lungenbeschwerden</span></label>
<label class="choice"><input data-toggle="#q1A00" name="1006" type="checkbox" value="Augenbeschwerden"/><span class="lbl">Augenbeschwerden</span></label>
<label class="choice"><input data-toggle="#q1040" name="1006" type="checkbox" value="Haut und Weichteilbeschwerden (z.B. Wunden/Ekzem)"/><span class="lbl">Haut und Weichteilbeschwerden (z.B. Wunden/Ekzem)</span></label>
<label class="choice"><input data-toggle="#q1050" name="1006" type="checkbox" value="Herz-Kreislaufbeschwerden"/><span class="lbl">Herz-Kreislaufbeschwerden</span></label>
<label class="choice"><input data-toggle="#q1B00" name="1006" type="checkbox" value="HNO Beschwerden"/><span class="lbl">HNO Beschwerden</span></label>
<label class="choice"><input data-toggle="#q1030" name="1006" type="checkbox" value="Magen-Darm-Beschwerden"/><span class="lbl">Magen-Darm-Beschwerden</span></label>
<label class="choice"><input data-toggle="#q1060" name="1006" type="checkbox" value="Metabolische/Hormonelle Beschwerden"/><span class="lbl">Metabolische/Hormonelle Beschwerden</span></label>
<label class="choice"><input data-toggle="#q1070" name="1006" type="checkbox" value="Muskuloskelettale Beschwerden"/><span class="lbl">Muskuloskelettale Beschwerden</span></label>
<label class="choice"><input data-toggle="#q1080" name="1006" type="checkbox" value="Neurologische Beschwerden"/><span class="lbl">Neurologische Beschwerden</span></label>
<label class="choice"><input data-toggle="#q1C00" name="1006" type="checkbox" value="Psychische/Psychosomatische Beschwerden"/><span class="lbl">Psychische/Psychosomatische Beschwerden</span></label>
<label class="choice"><input data-toggle="#q1090" name="1006" type="checkbox" value="Urologische/Gyn√§kologische Beschwerden"/><span class="lbl">Urologische/Gyn√§kologische Beschwerden</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1010">
<fieldset class="accent">
<legend>Welche angiologischen Beschwerden haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q1110" name="1010" type="checkbox" value="Einschr√§nkung der Gehstrecke"/><span class="lbl">Einschr√§nkung der Gehstrecke</span></label>
<label class="choice"><input data-toggle="#q1184" name="1010" type="checkbox" value="Gef√ºhlsst√∂rungen"/><span class="lbl">Gef√ºhlsst√∂rungen</span></label>
<label class="choice"><input data-toggle="#q1111" name="1010" type="checkbox" value="Venenerkrankungen und Gef√§√üfehlbildungen"/><span class="lbl">Venenerkrankungen und Gef√§√üfehlbildungen</span></label>
<label class="choice"><input data-toggle="#q1112" name="1010" type="checkbox" value="√ñdeme"/><span class="lbl">√ñdeme</span></label>
<label class="choice"><input data-toggle="#q1113,#q1114,#q1115" name="1010" type="checkbox" value="Schmerzen"/><span class="lbl">Schmerzen</span></label>
<label class="choice"><input data-toggle="#q1116,#q1117" name="1010" type="checkbox" value="Wunden/Geschw√ºre"/><span class="lbl">Wunden/Geschw√ºre</span></label>
<label class="choice"><input name="1010" type="checkbox" value="Shuntprobleme"/><span class="lbl">Shuntprobleme</span></label></div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1010_freitext" placeholder="_ Bitte schildern Sie Ihre Beschwerden genauer" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q1C00">
<fieldset class="accent">
<legend>F√ºhlten Sie sich in den letzten 2 Wochen h√§ufig traurig oder hoffnungslos?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C01" name="1C00" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C01" name="1C00" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C01">
<fieldset class="accent">
<legend>Hatten Sie deutlich weniger Freude an Aktivit√§ten?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C02" name="1C01" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C02" name="1C01" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C02">
<fieldset class="accent">
<legend>F√ºhlten Sie sich oft antriebslos oder ersch√∂pft?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C03" name="1C02" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C03" name="1C02" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C03">
<fieldset class="accent">
<legend>Leiden Sie unter st√§ndiger Nervosit√§t oder Sorgen?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C04" name="1C03" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C04" name="1C03" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C04">
<fieldset class="accent">
<legend>Hatten Sie schon einmal pl√∂tzliche Angstanf√§lle (Herzrasen, Atemnot, Schwindel)?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C05" name="1C04" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C05" name="1C04" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C05">
<fieldset class="accent">
<legend>Vermeiden Sie Orte oder Situationen aus Angst?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C06" name="1C05" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C06" name="1C05" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C06">
<fieldset class="accent">
<legend>Haben Sie Ein- oder Durchschlafst√∂rungen?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C07" name="1C06" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C07" name="1C06" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C07">
<fieldset class="accent">
<legend>F√ºhlen Sie sich morgens unausgeruht?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C08" name="1C07" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C08" name="1C07" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C08">
<fieldset class="accent">
<legend>Haben Sie Schwierigkeiten, sich zu konzentrieren?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C09" name="1C08" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C09" name="1C08" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C09">
<fieldset class="accent">
<legend>Vergessen Sie h√§ufiger Dinge?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C10" name="1C09" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C10" name="1C09" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C10">
<fieldset class="accent">
<legend>H√∂ren oder sehen Sie Dinge, die andere nicht wahrnehmen?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C11" name="1C10" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C11" name="1C10" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C11">
<fieldset class="accent">
<legend>Haben Sie √úberzeugungen, die andere als ungew√∂hnlich ansehen?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C12" name="1C11" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C12" name="1C11" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C12">
<fieldset class="accent">
<legend>Trinken Sie regelm√§√üig Alkohol oder nehmen Sie Drogen/Medikamente au√üerhalb √§rztlicher Vorgaben?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C13" name="1C12" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C13" name="1C12" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C13">
<fieldset class="accent">
<legend>Haben Sie das Gef√ºhl, die Kontrolle √ºber den Konsum zu verlieren?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C14" name="1C13" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C14" name="1C13" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C14">
<fieldset class="accent">
<legend>Hatten Sie schon einmal Gedanken, nicht mehr leben zu wollen?</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q1C15" name="1C14" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q1C15" name="1C14" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1C15">
<fieldset class="accent">
<legend>Haben Sie konkrete Pl√§ne, sich etwas anzutun?</legend>
<div class="choices row two">
<label class="choice"><input name="1C15" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1C15" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1110">
<fieldset class="accent">
<legend>Gehleistung</legend>
<select name="1110_select">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>Schmerzen beim Gehen ohne notwendige Unterbrechung</option>
<option>Gehstrecke √ºber 200 m</option>
<option>Gehstrecke weniger als 200 m</option>
<option>Schmerzen schon nach wenigen Schritten (weniger als 50 m)</option>
</select>
</fieldset>
</section>
<script id="gate-q0000-q1000">
(function(){
  const $ = (s, r=document)=>r.querySelector(s);
  const reqNames = ["0000","0001","0002"];
  function pad2(n){ const x=parseInt(n,10); return isNaN(x)? "": (x<10?("0"+x):String(x)); }
  function syncBirthISO(){
    const d = $('select[name="0003_tag"]')?.value||"";
    const m = $('select[name="0003_monat"]')?.value||"";
    const y = $('select[name="0003_jahr"]')?.value||"";
    const out = $('#id_0003_iso');
    if(!out) return;
    out.value = (d && m && y) ? `${y}-${pad2(m)}-${pad2(d)}` : "";
  }
  function baseComplete(){
    const okReq = reqNames.every(n => {
      const el = $(`[name="${n}"]`);
      if(!el) return false;
      if(el.tagName === "SELECT") return !!el.value;
      return !!(el.value && el.value.trim());
    });
    const t = $('select[name="0003_tag"]')?.value||"";
    const m = $('select[name="0003_monat"]')?.value||"";
    const y = $('select[name="0003_jahr"]')?.value||"";
    return okReq && !!(t && m && y);
  }
  function applyGate(){
    syncBirthISO();
    const show = baseComplete();
    const blk = $('#q1000');
    if(!blk) return;
    if(show){ blk.hidden = false; blk.removeAttribute('hidden'); }
    else{
      blk.hidden = true;
      blk.querySelectorAll('input[type="radio"][name="1000"]').forEach(r=>{ r.checked = false; });
    }
  }
  ['input','change'].forEach(ev=>{
    document.addEventListener(ev, e=>{
      const n = e.target && e.target.name || "";
      if (["0000","0001","0002","0003_tag","0003_monat","0003_jahr"].includes(n)) applyGate();
    }, {passive:true});
  });
  applyGate();
})();
</script>
<script id="logic-q2005-q2006-bodymeasures">
(function(){
  function q2005val(){
    var c = document.querySelector('input[name="2005"]:checked');
    return c ? (c.value || '') : '';
  }
  function q2006Answered(){
    var sec = document.getElementById('q2006');
    if(!sec) return false;
    var inputs = sec.querySelectorAll('input, textarea');
    for(var i=0; i<inputs.length; i++){
      var inp = inputs[i];
      var type = (inp.type || '').toLowerCase();
      if((type === 'checkbox' || type === 'radio') && inp.checked) return true;
      if(type !== 'checkbox' && type !== 'radio' && inp.value && inp.value.trim() !== '') return true;
    }
    return false;
  }
  function showBody(on){
    ['q4000','q4001','q4002'].forEach(function(id){
      var el = document.getElementById(id);
      if(!el) return;
      el.hidden = !on;
      if(on) el.removeAttribute('hidden');
    });
  }
  function update(){
    var v = q2005val();
    if(v === 'Nein' && q2006Answered()){
      showBody(true);
    } else {
      showBody(false);
    }
  }
  ['change','input'].forEach(function(ev){
    document.addEventListener(ev, function(e){
      var t = e.target;
      if(!t) return;
      if(t.name === '2005' || (t.closest && t.closest('#q2006'))){
        update();
      }
    }, {passive:true});
  });
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', update, {once:true});
  } else {
    update();
  }
})();
</script>
<script id="gate-q1004-q1005-q1006-simple">
(function(){
  const $ = (s, r=document)=>r.querySelector(s);
  const q1004Sel = $('select[name="1004_select"]');
  const sec1005 = $('#q1005');
  const sec1006 = $('#q1006');
  function show(el){ if(el){ el.hidden=false; el.removeAttribute('hidden'); } }
  function focusFirst(section){
    if(!section) return;
    const ctrl = section.querySelector('input,select,textarea,button');
    if(ctrl && ctrl.focus){ setTimeout(()=>ctrl.focus({preventScroll:true}), 10); }
  }
  function onQ1004Change(){
    if(!q1004Sel) return;
    const hasVal = (q1004Sel.value||"")!=="";
    if(hasVal){
      show(sec1005);
      show(sec1006);
      if(sec1006) sec1006.classList.add('noaccent');
      focusFirst(sec1005);
    }
  }
  if(q1004Sel){ q1004Sel.addEventListener('change', onQ1004Change, {passive:true}); }
  // No chain-stepping here. Logic handled by 'gate-q1004-q1005-q1006-scroll'.
})();
</script>
<script id="gate-q1004-q1005-q1006-scroll">
(function(){
  const $ = (s, r=document)=>r.querySelector(s);

  const q1004Sel = $('select[name="1004_select"]');
  const sec1005 = $('#q1005');
  const sec1006 = $('#q1006');
  const sec2000 = $('#q2000');

  const feverSeq   = ["#q1105","#q1205","#q1305","#q1405"];
  const weightSeq  = ["#q1505","#q1605","#q1705"];
  const fatigueSeq = ["#q1805","#q1815","#q1825","#q1835"];

  function show(el){
    if(!el) return;
    el.hidden = false;
    el.removeAttribute('hidden');
  }
  function hide(el){
    if(!el) return;
    el.hidden = true;
  }

  function focusFirst(section){
    if(!section) return;
    const first = section.querySelector('input,select,textarea');
    if(first && typeof first.focus === 'function'){
      first.focus({preventScroll:true});
    }
  }

  function scrollIntoView(section){
    if(!section) return;
    try{
      section.scrollIntoView({behavior:'smooth', block:'center'});
    }catch(e){
      section.scrollIntoView();
    }
  }

  function hasAnyAnswer(section){
    if(!section) return false;
    const inps = section.querySelectorAll('input,select,textarea');
    for(const inp of inps){
      const type = (inp.type || "").toLowerCase();
      if(type === 'checkbox' || type === 'radio'){
        if(inp.checked) return true;
      }else if(String(inp.value || "").trim() !== ""){
        return true;
      }
    }
    return false;
  }

  function onQ1004Change(e){
    if(!q1004Sel) return;
    const val = q1004Sel.value || "";
    if(!val){
      hide(sec1005);
      hide(sec1006);
      return;
    }
    // Immer zuerst q1005 und q1006 einblenden
    show(sec1005);
    show(sec1006);
    focusFirst(sec1005);
    scrollIntoView(sec1005);
    // q2000 wird erst nach Beantwortung von q1005/q1006 eingeblendet (siehe onChange-Handler)
    if(sec2000 && !hasAnyAnswer(sec1005) && !hasAnyAnswer(sec1006)){
      hide(sec2000);
    }
  }

  function onQ1005Change(e){
    // This handler responds to changes on the "Haben Sie sonstige Auff√§lligkeiten" checkboxes.
    const t = e.target;
    if(!t) return;
    // We only react when a checkbox in q1005 has changed.
    if(t.name !== '1005') return;

    // Determine which symptom groups are currently selected by inspecting all checked inputs in q1005.
    const nodes = document.querySelectorAll('input[name="1005"]');
    let hasFever = false;
    let hasWeightLoss = false;
    let hasFatigue = false;
    nodes.forEach(function(n){
      if(!n.checked) return;
      const v = String(n.value || '').toLowerCase();
      if(v.includes('fieber')) hasFever = true;
      if(v.includes('gewichtsverlust')) hasWeightLoss = true;
      if(v.includes('kraftlosigkeit')) hasFatigue = true;
    });

    // Show or hide the corresponding question chains.  Only the first question of
    // a selected group is shown initially; subsequent questions remain hidden
    // until they are answered (stepChain takes care of revealing them).
    const listMap = [
      {flag: hasFever, list: feverSeq},
      {flag: hasWeightLoss, list: weightSeq},
      {flag: hasFatigue, list: fatigueSeq}
    ];
    listMap.forEach(function(item){
      item.list.forEach(function(sel, idx){
        const sec = $(sel);
        if(!sec) return;
        if(item.flag && idx === 0){
          // Show only the first section when the symptom is selected
          show(sec);
        } else {
          // Hide all subsequent sections or all when the symptom is not selected
          hide(sec);
        }
      });
    });


    if(focusList){
      const firstSec = $(focusList[0]);
      if(firstSec){
        focusFirst(firstSec);
        scrollIntoView(firstSec);
      }
    }
  }

  function stepChain(list, target){
    if(!target) return;
    const id = '#' + (target.closest('section')?.id || '');
    const idx = list.indexOf(id);
    if(idx === -1) return;
    const cur = $(list[idx]);
    const next = list[idx+1] ? $(list[idx+1]) : null;
    if(!cur || !next) return;
    if(hasAnyAnswer(cur)){
      show(next);
    }else{
      // Beim Zur√ºcksetzen nach oben hin Folgefragen wieder ausblenden
      for(let i = idx+1; i < list.length; i++){
        const sec = $(list[i]);
        if(sec) hide(sec);
      }
    }
  }

  function updateQ2000Visibility(){
    if(!sec2000) return;
    if(hasAnyAnswer(sec1005) || hasAnyAnswer(sec1006)){
      show(sec2000);
    }
  }

  if(q1004Sel){
    q1004Sel.addEventListener('change', onQ1004Change, {passive:true});
  }

  document.addEventListener('change', function(e){
    onQ1005Change(e);
    stepChain(feverSeq,   e.target);
    stepChain(weightSeq,  e.target);
    stepChain(fatigueSeq, e.target);

    // q2000 erst nach Beantwortung von q1005 oder q1006
    const name = e.target && e.target.name;
    if(name && (name.startsWith('1005') || name.startsWith('1006'))){
      updateQ2000Visibility();
    }
  }, {passive:true});

  // Kein 'input'-Handler, damit beim Tippen nichts verschwindet.
})();
</script>

<!-- ü¶µ Beschwerden -->
<!-- ===== Start Block 1006‚Äì1115 (Beschwerden) ===== -->
<!-- Unterblock: Angiologie -->
<!-- q1110: Gehleistung -->
<!-- q1111: Venenbeschwerden -->
<!-- q1112: √ñdeme -->
<!-- q1113: Schmerzcharakter -->
<!-- q1114: Schmerzskala -->
<!-- q1115: Schmerzlokalisation -->
<!-- q1080: Neurologische Beeintr√§chtigungen -->
<!-- q1181: Kopfschmerzbeschreibung -->
<!-- q1182: Schmerzcharakter Kopfschmerz -->
<!-- q1183: Schmerzskala Kopfschmerz -->
<!-- q1184: Gef√ºhlsst√∂rungen -->
<!-- q1185: Kontrollst√∂rungen -->
<!-- q1186: Schwindelarten -->
<!-- q1187: Ausl√∂ser Schwindel -->
<!-- q1188: Dauer Schwindel -->
<!-- q1189: Begleitsymptome Schwindel -->
<!-- q1190: Mentale Beeintr√§chtigungen -->
<!-- q1090: Urologische/gyn√§kologische St√∂rungen -->
<!-- ===== End Block 1006‚Äì1115 ===== -->
<section class="q" hidden="" id="q1150"><fieldset class="accent"><legend>Schmerzcharakter und Lokalisation</legend><label>Qualit√§t</label><div class="choices row two"><label class="choice"><input name="1150_qualitaet" type="checkbox" value="dr√ºckend"/><span class="lbl">dr√ºckend</span></label><label class="choice"><input name="1150_qualitaet" type="checkbox" value="beklemmend"/><span class="lbl">beklemmend</span></label><label class="choice"><input name="1150_qualitaet" type="checkbox" value="brennend"/><span class="lbl">brennend</span></label><label class="choice"><input name="1150_qualitaet" type="checkbox" value="stechend"/><span class="lbl">stechend</span></label></div><label>Ausstrahlung</label><div class="choices row two"><label class="choice"><input name="1150_ausstrahlung" type="checkbox" value="linker Arm"/><span class="lbl">linker Arm</span></label><label class="choice"><input name="1150_ausstrahlung" type="checkbox" value="rechter Arm"/><span class="lbl">rechter Arm</span></label><label class="choice"><input name="1150_ausstrahlung" type="checkbox" value="Schulter"/><span class="lbl">Schulter</span></label><label class="choice"><input name="1150_ausstrahlung" type="checkbox" value="R√ºcken"/><span class="lbl">R√ºcken</span></label><label class="choice"><input name="1150_ausstrahlung" type="checkbox" value="Hals/Kiefer"/><span class="lbl">Hals/Kiefer</span></label><label class="choice"><input name="1150_ausstrahlung" type="checkbox" value="epigastrisch"/><span class="lbl">epigastrisch</span></label></div><label>Red Flags</label><div class="choices row two"><label class="choice"><input name="1150_redflags" type="checkbox" value="Anhaltender Druck &gt;20 Minuten"/><span class="lbl">Anhaltender Druck &gt;20 Minuten</span></label><label class="choice"><input name="1150_redflags" type="checkbox" value="rasch progredient"/><span class="lbl">rasch progredient</span></label><label class="choice"><input name="1150_redflags" type="checkbox" value="Ruheangina neu"/><span class="lbl">Ruheangina neu</span></label><label class="choice"><input name="1150_redflags" type="checkbox" value="schlimmster Schmerz"/><span class="lbl">schlimmster Schmerz</span></label><label class="choice"><input name="1150_redflags" type="checkbox" value="neu aufgetretene Dyspnoe"/><span class="lbl">neu aufgetretene Dyspnoe</span></label><label class="choice"><input name="1150_redflags" type="checkbox" value="Synkope"/><span class="lbl">Synkope</span></label></div><div class="accent-frame" hidden="" id="q1150_alert" role="alert" style="color:#c00000; font-weight:700;"><strong>Notfallhinweis: Sie sollten sich unverz√ºglich √ºber den Rettungsdienst (112) in das n√§chstgelegene geeignete Krankenhaus begeben.</strong></div>
</fieldset><script id="q1150_alert_logic">
(function(){
  function anyRed(){ return document.querySelector('input[name="1150_redflags"]:checked')!=null; }
  function upd(){ var on = anyRed(); var el = document.getElementById('q1150_alert'); if (!el) return; el.hidden = !on; if(on) el.removeAttribute('hidden'); }
  document.addEventListener('change', function(e){
    if(!e || !e.target) return;
    if(e.target.name==='1150_redflags') upd();
  }, {passive:true});
  if (document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', upd, {once:true}); } else { upd(); }
})();</script></section>
<section class="q" hidden="" id="q1151"><fieldset class="accent"><legend>Trigger/Provokation und Linderung</legend><label>Trigger/Provokation</label><div class="choices row two"><label class="choice"><input name="1151_trigger" type="checkbox" value="k√∂rperliche Belastung"/><span class="lbl">k√∂rperliche Belastung</span></label><label class="choice"><input name="1151_trigger" type="checkbox" value="emotionaler Stress"/><span class="lbl">emotionaler Stress</span></label><label class="choice"><input name="1151_trigger" type="checkbox" value="K√§lte"/><span class="lbl">K√§lte</span></label><label class="choice"><input name="1151_trigger" type="checkbox" value="Wind"/><span class="lbl">Wind</span></label><label class="choice"><input name="1151_trigger" type="checkbox" value="schwere Mahlzeiten"/><span class="lbl">schwere Mahlzeiten</span></label><label class="choice"><input name="1151_trigger" type="checkbox" value="Ruheangina vorhanden"/><span class="lbl">Ruheangina vorhanden</span></label><label class="choice"><input name="1151_trigger" type="checkbox" value="morgens in Ruhe"/><span class="lbl">morgens in Ruhe</span></label><label class="choice"><input name="1151_trigger" type="checkbox" value="nachts in Ruhe"/><span class="lbl">nachts in Ruhe</span></label></div><div class="row two"><label>Besserung in Ruhe?<div class="choices"><label class="choice"><input name="1151_ruhebesserung" type="radio" value="ja"/><span class="lbl">ja</span></label><label class="choice"><input name="1151_ruhebesserung" type="radio" value="nein"/><span class="lbl">nein</span></label></div></label><label>Wirkung von sublingualem Nitroglyzerin?<div class="choices"><label class="choice"><input name="1151_ntg" type="radio" value="ja"/><span class="lbl">ja</span></label><label class="choice"><input name="1151_ntg" type="radio" value="nein"/><span class="lbl">nein</span></label></div><span class="freitext-spacer"></span><input class="freitext-blue" min="0" name="1151_ntg_min" placeholder="Zeit bis Wirkung in Minuten" step="1" type="number"/></label></div></fieldset></section>
<section class="q" hidden="" id="q1152"><fieldset class="accent"><legend>Zeitprofil</legend><div class="row two"><label>Dauer einer Episode (Minuten)<input min="0" name="1152_dauer_min" step="1" type="number"/></label><label>Verlauf<select name="1152_verlauf_select"><option value="">Bitte w√§hlen‚Ä¶</option><option>neu</option><option>progredient</option><option>gleichbleibend</option></select></label></div><label>Erstauftreten seit wann<select name="1152_erstauftreten_select"><option value="">Bitte w√§hlen‚Ä¶</option><option>akut</option><option>wenige Tage</option><option>l√§nger als 1 Woche</option></select></label></fieldset></section>
<section class="q" hidden="" id="q1153"><fieldset class="accent"><legend>Begleitsymptome und nicht-isch√§mische Hinweise</legend><label>Begleitsymptome</label><div class="choices row two"><label class="choice"><input name="1153_begleit" type="checkbox" value="Dyspnoe"/><span class="lbl">Dyspnoe</span></label><label class="choice"><input name="1153_begleit" type="checkbox" value="Schwitzen"/><span class="lbl">Schwitzen</span></label><label class="choice"><input name="1153_begleit" type="checkbox" value="√úbelkeit/Erbrechen"/><span class="lbl">√úbelkeit/Erbrechen</span></label><label class="choice"><input name="1153_begleit" type="checkbox" value="Schwindel/Pr√§synkope/Synkope"/><span class="lbl">Schwindel/Pr√§synkope/Synkope</span></label><label class="choice"><input name="1153_begleit" type="checkbox" value="Palpitationen"/><span class="lbl">Palpitationen</span></label></div><label>Nicht-isch√§mische Hinweise</label><div class="choices row two"><label class="choice"><input name="1153_nicht_isch" type="checkbox" value="atemabh√§ngig"/><span class="lbl">atemabh√§ngig</span></label><label class="choice"><input name="1153_nicht_isch" type="checkbox" value="lageabh√§ngig"/><span class="lbl">lageabh√§ngig</span></label><label class="choice"><input name="1153_nicht_isch" type="checkbox" value="Palpationsschmerz"/><span class="lbl">Palpationsschmerz</span></label><label class="choice"><input name="1153_nicht_isch" type="checkbox" value="Hustenassoziation"/><span class="lbl">Hustenassoziation</span></label><label class="choice"><input name="1153_nicht_isch" type="checkbox" value="Schluckassoziation"/><span class="lbl">Schluckassoziation</span></label><label class="choice"><input name="1153_nicht_isch" type="checkbox" value="Sodbrennen"/><span class="lbl">Sodbrennen</span></label></div></fieldset></section><!-- ===== Block 2000: Terminvereinbarung ===== -->
<!-- ===== Block 3000: Adressdaten ===== -->
<section class="q" hidden="" id="q2044">
<fieldset class="accent">
<legend>Welche Asthma/COPD Probleme sind aufgetreten?</legend>
<div class="choices row two">
<label class="choice"><input name="2044" type="checkbox" value="Verschlechterung der Atemfunktion"/><span class="lbl">Verschlechterung der Atemfunktion</span></label>
<label class="choice"><input name="2044" type="checkbox" value="Inhalationstechnik"/><span class="lbl">Inhalationstechnik</span></label>
<label class="choice"><input name="2044" type="checkbox" value="Nebenwirkungen"/><span class="lbl">Nebenwirkungen</span></label>
<label class="choice"><input name="2044" type="checkbox" value="Rauchstopp-Intervention"/><span class="lbl">Rauchstopp-Intervention</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2044_freitext" placeholder="_ andere Probleme" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2043">
<fieldset class="accent">
<legend>Stoffwechselst√∂rung</legend>
<div class="choices row two">
<label class="choice"><input name="2043" type="checkbox" value="Diabeteseinstellung"/><span class="lbl">Diabeteseinstellung</span></label>
<label class="choice"><input name="2043" type="checkbox" value="Fettstoffwechseleinstellung"/><span class="lbl">Fettstoffwechseleinstellung</span></label>
<label class="choice"><input name="2043" type="checkbox" value="√úberwachung/Kontrolle der Schilddr√ºsenfunktion"/><span class="lbl">√úberwachung/Kontrolle der Schilddr√ºsenfunktion</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2043_freitext" placeholder="_ andere Stoffwechselerkrankungen" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2042">
<fieldset class="accent">
<legend>Gef√§√üerkrankung</legend>
<div class="choices row two">
<label class="choice"><input name="2042" type="checkbox" value="Aneurysma"/><span class="lbl">Aneurysma</span></label>
<label class="choice"><input name="2042" type="checkbox" value="pAVK"/><span class="lbl">pAVK</span></label>
<label class="choice"><input name="2042" type="checkbox" value="Krampfadern"/><span class="lbl">Krampfadern</span></label>
<label class="choice"><input name="2042" type="checkbox" value="Lymph√∂dem"/><span class="lbl">Lymph√∂dem</span></label>
<label class="choice"><input name="2042" type="checkbox" value="Lip√∂dem"/><span class="lbl">Lip√∂dem</span></label>
<label class="choice"><input name="2042" type="checkbox" value="Raynaud-Syndrom"/><span class="lbl">Raynaud-Syndrom</span></label>
<label class="choice"><input name="2042" type="checkbox" value="Thrombose"/><span class="lbl">Thrombose</span></label>
<label class="choice"><input name="2042" type="checkbox" value="Vaskulitis"/><span class="lbl">Vaskulitis</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2042_freitext" placeholder="_ andere Gef√§√üerkrankungen" type="text"/>
</fieldset>
</section>
<!-- q3006: Versicherungsstatus (steht bewusst am Anfang des Blocks 2000) -->
<!-- q2000: Terminbest√§tigung -->
<section class="q" hidden="" id="q1111">
<fieldset class="accent">
<legend>Welche der folgenden Venenbeschwerden haben Sie?</legend>
<div class="choices">
<label class="choice"><input name="1111" type="checkbox" value="Schmerzen entlang geschl√§ngelter Venen"/><span class="lbl">Schmerzen entlang geschl√§ngelter Venen</span></label>
<label class="choice"><input name="1111" type="checkbox" value="Juckreiz oder Brennen"/><span class="lbl">Juckreiz oder Brennen</span></label>
<label class="choice"><input name="1111" type="checkbox" value="Im Tagesverlauf zunehmende Schwellneigung"/><span class="lbl">Im Tagesverlauf zunehmende Schwellneigung</span></label>
<label class="choice"><input name="1111" type="checkbox" value="Schwere Beine"/><span class="lbl">Schwere Beine</span></label>
<label class="choice"><input name="1111" type="checkbox" value="Optisch st√∂rend (Besenreiser)"/><span class="lbl">Optisch st√∂rend (Besenreiser)</span></label>
<label class="choice"><input name="1111" type="checkbox" value="Gef√§√ümalformation (Blutschwamm)"/><span class="lbl">Gef√§√ümalformation (Blutschwamm)</span></label></div>
</fieldset>
</section>
<section class="q" hidden="" id="q1112">
<fieldset class="accent">
<legend>Wo treten die √ñdeme auf?</legend>
<div class="choices">
<label class="choice"><input name="1112" type="checkbox" value="Arme/H√§nde"/><span class="lbl">Arme/H√§nde</span></label>
<label class="choice"><input name="1112" type="checkbox" value="Gesicht"/><span class="lbl">Gesicht</span></label>
<label class="choice"><input name="1112" type="checkbox" value="Fu√ür√ºcken"/><span class="lbl">Fu√ür√ºcken</span></label>
<label class="choice"><input name="1112" type="checkbox" value="Kn√∂chel"/><span class="lbl">Kn√∂chel</span></label>
<label class="choice"><input name="1112" type="checkbox" value="Waden"/><span class="lbl">Waden</span></label>
<label class="choice"><input name="1112" type="checkbox" value="Zehen"/><span class="lbl">Zehen</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1113">
<fieldset class="accent">
<legend>Schmerzcharakter</legend>
<select name="1113_select">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>bohrend</option>
<option>brennend</option>
<option>dr√ºckend</option>
<option>dumpf</option>
<option>einschn√ºrend</option>
<option>elektrisierend</option>
<option>krampfartig</option>
<option>pochend</option>
<option>schneidend</option>
<option>stechend</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q1114">
<fieldset class="accent">
<legend>Ordnen Sie Ihre Schmerzen auf einer Skala von 0 ‚Äì 10 ein</legend>
<input data-target-hidden="h_1114" max="10" min="0" step="1" type="range" value="0"/><output class="scale-val"></output><input id="h_1114" name="1114" type="hidden" value=""/>
<small class="hint">0 = kein Schmerz, 10 = st√§rkster vorstellbarer Schmerz</small>
</fieldset>
</section>
<section class="q" hidden="" id="q1115">
<fieldset class="accent">
<legend>Schmerzlokalisation</legend>
<div class="choices">
<label class="choice"><input data-toggle="#q1181" name="1115" type="checkbox" value="Kopf/Gesicht"/><span class="lbl">Kopf/Gesicht</span></label>
<label class="choice"><input name="1115" type="checkbox" value="Hals/Nacken"/><span class="lbl">Hals/Nacken</span></label>
<label class="choice"><input name="1115" type="checkbox" value="Brustkorb/Thorax"/><span class="lbl">Brustkorb/Thorax</span></label>
<label class="choice"><input data-toggle="#q1131" name="1115" type="checkbox" value="Bauch/Abdomen"/><span class="lbl">Bauch/Abdomen</span></label>
<label class="choice"><input data-toggle="#q1175" name="1115" type="checkbox" value="Lenden-/Kreuzbereich"/><span class="lbl">Lenden-/Kreuzbereich</span></label>
<label class="choice"><input name="1115" type="checkbox" value="Becken/Genitalbereich"/><span class="lbl">Becken/Genitalbereich</span></label>
<label class="choice"><input data-toggle="#q1171" name="1115" type="checkbox" value="Schulter/Arm"/><span class="lbl">Schulter/Arm</span></label>
<label class="choice"><input data-toggle="#q1171" name="1115" type="checkbox" value="Hand/Finger"/><span class="lbl">Hand/Finger</span></label>
<label class="choice"><input data-toggle="#q1171" name="1115" type="checkbox" value="H√ºfte/Oberschenkel"/><span class="lbl">H√ºfte/Oberschenkel</span></label>
<label class="choice"><input data-toggle="#q1171" name="1115" type="checkbox" value="Knie/Unterschenkel"/><span class="lbl">Knie/Unterschenkel</span></label>
<label class="choice"><input name="1115" type="checkbox" value="Fu√ü/Zehen"/><span class="lbl">Fu√ü/Zehen</span></label>
<label class="choice"><input name="1115" type="checkbox" value="diffus/ganzer K√∂rper"/><span class="lbl">diffus/ganzer K√∂rper</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1115_freitext" placeholder="_ machen Sie weitere Angaben z.B. √ºber Ausstrahlung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q1080">
<fieldset class="accent">
<legend>Welche neurologischen Beeintr√§chtigungen haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q1181,#q1182,#q1183" name="1080" type="checkbox" value="Kopfschmerzen"/><span class="lbl">Kopfschmerzen</span></label>
<label class="choice"><input data-toggle="#q1184" name="1080" type="checkbox" value="Gef√ºhlsst√∂rungen"/><span class="lbl">Gef√ºhlsst√∂rungen</span></label>
<label class="choice"><input data-toggle="#q1185" name="1080" type="checkbox" value="Kontrollverlust"/><span class="lbl">Kontrollverlust</span></label>
<label class="choice"><input data-toggle="#q1186,#q1187,#q1188,#q1189" name="1080" type="checkbox" value="Gleichgewicht/Schwindel"/><span class="lbl">Gleichgewicht/Schwindel</span></label>
<label class="choice"><input data-toggle="#q1190" name="1080" type="checkbox" value="Konzentration/Merkf√§higkeit"/><span class="lbl">Konzentration/Merkf√§higkeit</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1181">
<fieldset class="accent">
<legend>Was kennzeichnet den Kopfschmerz?</legend>
<div class="choices row two">
<label class="choice"><input name="1181" type="checkbox" value="Fieber, Nackensteife oder Bewusstseinsst√∂rungen"/><span class="lbl">Fieber, Nackensteife oder Bewusstseinsst√∂rungen</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Halbseitenkopfschmerz"/><span class="lbl">Halbseitenkopfschmerz</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Hinterhauptschmerz"/><span class="lbl">Hinterhauptschmerz</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Krampfanf√§lle"/><span class="lbl">Krampfanf√§lle</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Kopfschmerz nach Trauma"/><span class="lbl">Kopfschmerz nach Trauma</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Licht- oder L√§rmempfindlichkeit w√§hrend des Schmerzes"/><span class="lbl">Licht- oder L√§rmempfindlichkeit w√§hrend des Schmerzes</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Pl√∂tzlicher, heftigster Kopfschmerz (Donnerschlagkopfschmerz)"/><span class="lbl">Pl√∂tzlicher, heftigster Kopfschmerz (Donnerschlagkopfschmerz)</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Sehst√∂rungen, Sprachst√∂rungen oder L√§hmungserscheinungen"/><span class="lbl">Sehst√∂rungen, Sprachst√∂rungen oder L√§hmungserscheinungen</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Spannungsgef√ºhl"/><span class="lbl">Spannungsgef√ºhl</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Stirnkopfschmerz"/><span class="lbl">Stirnkopfschmerz</span></label>
<label class="choice"><input name="1181" type="checkbox" value="Schl√§fenschmerz"/><span class="lbl">Schl√§fenschmerz</span></label>
<label class="choice"><input name="1181" type="checkbox" value="√úbelkeit und Erbrechen"/><span class="lbl">√úbelkeit und Erbrechen</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1182">
<fieldset class="accent">
<legend>Schmerzcharakter</legend>
<select name="1182_select">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>bohrend</option>
<option>dr√ºckend</option>
<option>dumpf</option>
<option>pochend</option>
<option>stechend</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q1183">
<fieldset class="accent">
<legend>Ordnen Sie Ihre Schmerzen auf einer Skala von 0 ‚Äì 10 ein</legend>
<input data-target-hidden="h_1183" max="10" min="0" step="1" type="range" value="0"/><output class="scale-val"></output><input id="h_1183" name="1183" type="hidden" value=""/>
<small class="hint">0 = kein Schmerz, 10 = st√§rkster vorstellbarer Schmerz</small>
</fieldset>
</section>
<section class="q" hidden="" id="q1184">
<fieldset class="accent">
<legend>Beschreiben Sie die Gef√ºhlsst√∂rungen</legend>
<div class="choices row two">
<label class="choice"><input name="1184" type="checkbox" value="herabgesetzte Empfindung"/><span class="lbl">herabgesetzte Empfindung</span></label>
<label class="choice"><input name="1184" type="checkbox" value="vollst√§ndiger Empfindungsausfall/Taubheitsgef√ºhl"/><span class="lbl">vollst√§ndiger Empfindungsausfall/Taubheitsgef√ºhl</span></label>
<label class="choice"><input name="1184" type="checkbox" value="√ºbersteigerte Empfindlichkeit"/><span class="lbl">√ºbersteigerte Empfindlichkeit</span></label>
<label class="choice"><input name="1184" type="checkbox" value="unangenehm ver√§nderte Wahrnehmung (z. B. Ber√ºhrung schmerzhaft)"/><span class="lbl">unangenehm ver√§nderte Wahrnehmung (z. B. Ber√ºhrung schmerzhaft)</span></label>
<label class="choice"><input name="1184" type="checkbox" value="Missempfindungen ohne ad√§quaten Reiz (Kribbeln, Ameisenlaufen)"/><span class="lbl">Missempfindungen ohne ad√§quaten Reiz (Kribbeln, Ameisenlaufen)</span></label>
<label class="choice"><input name="1184" type="checkbox" value="√ºberm√§√üiges Schmerzempfinden durch normalerweise nicht schmerzhafte Reize"/><span class="lbl">√ºberm√§√üiges Schmerzempfinden durch normalerweise nicht schmerzhafte Reize</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1185">
<fieldset class="accent">
<legend>Welche Kontrollst√∂rungen haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="1185" type="checkbox" value="Bewusstseinsverlust"/><span class="lbl">Bewusstseinsverlust</span></label>
<label class="choice"><input name="1185" type="checkbox" value="Gang- und Standunsicherheit"/><span class="lbl">Gang- und Standunsicherheit</span></label>
<label class="choice"><input name="1185" type="checkbox" value="Harn- und/oder Stuhlinkontinenz"/><span class="lbl">Harn- und/oder Stuhlinkontinenz</span></label>
<label class="choice"><input name="1185" type="checkbox" value="Impulskontrollverlust/Enthemmung"/><span class="lbl">Impulskontrollverlust/Enthemmung</span></label>
<label class="choice"><input name="1185" type="checkbox" value="L√§hmungserscheinungen"/><span class="lbl">L√§hmungserscheinungen</span></label>
<label class="choice"><input name="1185" type="checkbox" value="Sprachkontrollverlust"/><span class="lbl">Sprachkontrollverlust</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1186">
<fieldset class="accent">
<legend>Art des Schwindels</legend>
<div class="choices row two">
<label class="choice"><input name="1186" type="checkbox" value="Drehschwindel (wie im Karussell)"/><span class="lbl">Drehschwindel (wie im Karussell)</span></label>
<label class="choice"><input name="1186" type="checkbox" value="Liftschwindel (wie im Aufzug)"/><span class="lbl">Liftschwindel (wie im Aufzug)</span></label>
<label class="choice"><input name="1186" type="checkbox" value="Schwankschwindel (wie auf einem Schiff)"/><span class="lbl">Schwankschwindel (wie auf einem Schiff)</span></label>
<label class="choice"><input name="1186" type="checkbox" value="Benommenheit"/><span class="lbl">Benommenheit</span></label>
<label class="choice"><input name="1186" type="checkbox" value="Schwarzwerden vor den Augen"/><span class="lbl">Schwarzwerden vor den Augen</span></label>
<label class="choice"><input name="1186" type="checkbox" value="Unsicher auf den Beinen"/><span class="lbl">Unsicher auf den Beinen</span></label>
<label class="choice"><input name="1186" type="checkbox" value="Wie auf Watte gehen"/><span class="lbl">Wie auf Watte gehen</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1187">
<fieldset class="accent">
<legend>Was l√∂st Ihren Schwindel aus?</legend>
<div class="choices row two">
<label class="choice"><input name="1187" type="checkbox" value="Dunkelheit"/><span class="lbl">Dunkelheit</span></label>
<label class="choice"><input name="1187" type="checkbox" value="Flackerlicht"/><span class="lbl">Flackerlicht</span></label>
<label class="choice"><input name="1187" type="checkbox" value="Lagewechsel (z. B. Aufstehen)"/><span class="lbl">Lagewechsel (z. B. Aufstehen)</span></label>
<label class="choice"><input name="1187" type="checkbox" value="L√§rm"/><span class="lbl">L√§rm</span></label>
<label class="choice"><input name="1187" type="checkbox" value="Kopfbewegungen"/><span class="lbl">Kopfbewegungen</span></label>
<label class="choice"><input name="1187" type="checkbox" value="k√∂rperliche Anstrengung"/><span class="lbl">k√∂rperliche Anstrengung</span></label>
<label class="choice"><input name="1187" type="checkbox" value="Stress/Schlafmangel"/><span class="lbl">Stress/Schlafmangel</span></label>
<label class="choice"><input name="1187" type="checkbox" value="√úberkopfarbeiten"/><span class="lbl">√úberkopfarbeiten</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1187_freitext" placeholder="_ sonstige z.B. bestimmte Nahrungsmittel" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q1188">
<fieldset class="accent">
<legend>Auftreten und Dauer des Schwindels?</legend>
<div class="choices row two">
<label class="choice"><input name="1188" type="checkbox" value="Pl√∂tzlich einsetzend"/><span class="lbl">Pl√∂tzlich einsetzend</span></label>
<label class="choice"><input name="1188" type="checkbox" value="Langsam, allm√§hlich, schleichend"/><span class="lbl">Langsam, allm√§hlich, schleichend</span></label>
<label class="choice"><input name="1188" type="checkbox" value="Sekunden bis Minuten"/><span class="lbl">Sekunden bis Minuten</span></label>
<label class="choice"><input name="1188" type="checkbox" value="Minuten bis Stunden"/><span class="lbl">Minuten bis Stunden</span></label>
<label class="choice"><input name="1188" type="checkbox" value="Mehrere Tage"/><span class="lbl">Mehrere Tage</span></label>
<label class="choice"><input name="1188" type="checkbox" value="Wochen bis Monate"/><span class="lbl">Wochen bis Monate</span></label>
<label class="choice"><input name="1188" type="checkbox" value="Schwindelattacken"/><span class="lbl">Schwindelattacken</span></label>
<label class="choice"><input name="1188" type="checkbox" value="Dauerschwindel"/><span class="lbl">Dauerschwindel</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1189">
<fieldset class="accent">
<legend>Was begleitet den Schwindel?</legend>
<div class="choices row two">
<label class="choice"><input name="1189" type="checkbox" value="Bewusstseinsverlust"/><span class="lbl">Bewusstseinsverlust</span></label>
<label class="choice"><input name="1189" type="checkbox" value="Gef√ºhlsst√∂rungen"/><span class="lbl">Gef√ºhlsst√∂rungen</span></label>
<label class="choice"><input name="1189" type="checkbox" value="Herzrasen"/><span class="lbl">Herzrasen</span></label>
<label class="choice"><input name="1189" type="checkbox" value="H√∂rminderung"/><span class="lbl">H√∂rminderung</span></label>
<label class="choice"><input name="1189" type="checkbox" value="Kopfschmerzen"/><span class="lbl">Kopfschmerzen</span></label>
<label class="choice"><input name="1189" type="checkbox" value="Kribbelmissempfindungen"/><span class="lbl">Kribbelmissempfindungen</span></label>
<label class="choice"><input name="1189" type="checkbox" value="L√§hmungen"/><span class="lbl">L√§hmungen</span></label>
<label class="choice"><input name="1189" type="checkbox" value="Nystagmus/Augenpendeln"/><span class="lbl">Nystagmus/Augenpendeln</span></label>
<label class="choice"><input name="1189" type="checkbox" value="Ohrger√§usche"/><span class="lbl">Ohrger√§usche</span></label>
<label class="choice"><input name="1189" type="checkbox" value="Sprachst√∂rungen"/><span class="lbl">Sprachst√∂rungen</span></label>
<label class="choice"><input name="1189" type="checkbox" value="Schwei√üausbruch"/><span class="lbl">Schwei√üausbruch</span></label>
<label class="choice"><input name="1189" type="checkbox" value="Verwirrtheit"/><span class="lbl">Verwirrtheit</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1090">
<fieldset class="accent" id="q1090_m">
<legend>Welche urologischen/gyn√§kologischen St√∂rungen treten auf?</legend>
<div class="choices row two">
<label class="choice" hidden="" id="opt1090_schwangerschaft_wrap"><input name="1090" type="checkbox" value="Schwangerschaftsprobleme"/><span class="lbl">Schwangerschaftsprobleme</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Abschw√§chung oder erschwertes Wasserlassen"/><span class="lbl">Abschw√§chung oder erschwertes Wasserlassen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Blutiger Urin"/><span class="lbl">Blutiger Urin</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Brennen beim Wasserlassen"/><span class="lbl">Brennen beim Wasserlassen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Dranginkontinenz"/><span class="lbl">Dranginkontinenz</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Erektionsst√∂rungen"/><span class="lbl">Erektionsst√∂rungen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Harndrang"/><span class="lbl">Harndrang</span></label>
<label class="choice"><input name="1090" type="checkbox" value="H√§ufiges Wasserlassen in kleinen Mengen"/><span class="lbl">H√§ufiges Wasserlassen in kleinen Mengen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Hodenbeschwerden"/><span class="lbl">Hodenbeschwerden</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Nierenkolik"/><span class="lbl">Nierenkolik</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Restharngef√ºhl"/><span class="lbl">Restharngef√ºhl</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Retrograder Samenerguss"/><span class="lbl">Retrograder Samenerguss</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Sekretion der Harnr√∂hre"/><span class="lbl">Sekretion der Harnr√∂hre</span></label>
<label class="choice"><input name="1090" type="checkbox" value="√úbelriechender Urin"/><span class="lbl">√úbelriechender Urin</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Varikozele/Hodenkrampfader"/><span class="lbl">Varikozele/Hodenkrampfader</span></label>
<label class="choice"><input name="1090" type="checkbox" value="h√§ufiges n√§chtliches Wasserlassen"/><span class="lbl">h√§ufiges n√§chtliches Wasserlassen</span></label>
</div>
</fieldset>
<fieldset class="accent" id="q1090_w">
<legend>Welche urologischen/gyn√§kologischen St√∂rungen treten auf?</legend>
<div class="choices row two">
<label class="choice" hidden="" id="opt1090_schwangerschaft_wrap"><input name="1090" type="checkbox" value="Schwangerschaftsprobleme"/><span class="lbl">Schwangerschaftsprobleme</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Abschw√§chung oder erschwertes Wasserlassen"/><span class="lbl">Abschw√§chung oder erschwertes Wasserlassen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Blutiger Urin"/><span class="lbl">Blutiger Urin</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Brennen beim Wasserlassen"/><span class="lbl">Brennen beim Wasserlassen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Dranginkontinenz"/><span class="lbl">Dranginkontinenz</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Harndrang"/><span class="lbl">Harndrang</span></label>
<label class="choice"><input name="1090" type="checkbox" value="H√§ufiges Wasserlassen in kleinen Mengen"/><span class="lbl">H√§ufiges Wasserlassen in kleinen Mengen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="klimakterische Beschwerden"/><span class="lbl">klimakterische Beschwerden</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Nierenkolik"/><span class="lbl">Nierenkolik</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Restharngef√ºhl"/><span class="lbl">Restharngef√ºhl</span></label>
<label class="choice"><input name="1090" type="checkbox" value="√úbelriechender Urin"/><span class="lbl">√úbelriechender Urin</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Zyklusst√∂rungen"/><span class="lbl">Zyklusst√∂rungen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Vaginaler Ausfluss"/><span class="lbl">Vaginaler Ausfluss</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Juckreiz im Genitalbereich"/><span class="lbl">Juckreiz im Genitalbereich</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Dyspareunie (Schmerzen beim Geschlechtsverkehr)"/><span class="lbl">Dyspareunie (Schmerzen beim Geschlechtsverkehr)</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Postmenopausale Blutung"/><span class="lbl">Postmenopausale Blutung</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Zwischenblutungen"/><span class="lbl">Zwischenblutungen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="starke oder verl√§ngerte Regelblutungen"/><span class="lbl">starke oder verl√§ngerte Regelblutungen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="schmerzhafte Menstruation"/><span class="lbl">schmerzhafte Menstruation</span></label>
<label class="choice"><input name="1090" type="checkbox" value="h√§ufiges n√§chtliches Wasserlassen"/><span class="lbl">h√§ufiges n√§chtliches Wasserlassen</span></label>
</div>
</fieldset>
<fieldset class="accent" id="q1090_d"><legend>Welche urologischen/gyn√§kologischen St√∂rungen treten auf?</legend><div class="choices row two">
<label class="choice" hidden="" id="opt1090_schwangerschaft_wrap"><input name="1090" type="checkbox" value="Schwangerschaftsprobleme"/><span class="lbl">Schwangerschaftsprobleme</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Abschw√§chung oder erschwertes Wasserlassen"/><span class="lbl">Abschw√§chung oder erschwertes Wasserlassen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Blutiger Urin"/><span class="lbl">Blutiger Urin</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Brennen beim Wasserlassen"/><span class="lbl">Brennen beim Wasserlassen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Dranginkontinenz"/><span class="lbl">Dranginkontinenz</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Erektionsst√∂rungen"/><span class="lbl">Erektionsst√∂rungen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Harndrang"/><span class="lbl">Harndrang</span></label>
<label class="choice"><input name="1090" type="checkbox" value="H√§ufiges Wasserlassen in kleinen Mengen"/><span class="lbl">H√§ufiges Wasserlassen in kleinen Mengen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Hodenbeschwerden"/><span class="lbl">Hodenbeschwerden</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Nierenkolik"/><span class="lbl">Nierenkolik</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Restharngef√ºhl"/><span class="lbl">Restharngef√ºhl</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Retrograder Samenerguss"/><span class="lbl">Retrograder Samenerguss</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Sekretion der Harnr√∂hre"/><span class="lbl">Sekretion der Harnr√∂hre</span></label>
<label class="choice"><input name="1090" type="checkbox" value="√úbelriechender Urin"/><span class="lbl">√úbelriechender Urin</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Varikozele/Hodenkrampfader"/><span class="lbl">Varikozele/Hodenkrampfader</span></label>
<label class="choice"><input name="1090" type="checkbox" value="h√§ufiges n√§chtliches Wasserlassen"/><span class="lbl">h√§ufiges n√§chtliches Wasserlassen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="klimakterische Beschwerden"/><span class="lbl">klimakterische Beschwerden</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Zyklusst√∂rungen"/><span class="lbl">Zyklusst√∂rungen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Vaginaler Ausfluss"/><span class="lbl">Vaginaler Ausfluss</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Juckreiz im Genitalbereich"/><span class="lbl">Juckreiz im Genitalbereich</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Dyspareunie (Schmerzen beim Geschlechtsverkehr)"/><span class="lbl">Dyspareunie (Schmerzen beim Geschlechtsverkehr)</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Postmenopausale Blutung"/><span class="lbl">Postmenopausale Blutung</span></label>
<label class="choice"><input name="1090" type="checkbox" value="Zwischenblutungen"/><span class="lbl">Zwischenblutungen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="starke oder verl√§ngerte Regelblutungen"/><span class="lbl">starke oder verl√§ngerte Regelblutungen</span></label>
<label class="choice"><input name="1090" type="checkbox" value="schmerzhafte Menstruation"/><span class="lbl">schmerzhafte Menstruation</span></label></div></fieldset>
</section>
<!-- ===== Additions: Schwangerschaftsprobleme Unterfragen 1290‚Äì1390 ===== -->
<section class="q" hidden="" id="q1290">
<fieldset class="accent">
<legend>Schwangerschaft ‚Äì Akute Beschwerden/Red Flags</legend>
<div class="choices row two">
<label class="choice"><input name="1290_flags" type="checkbox" value="Vaginale Blutung"/><span class="lbl">Vaginale Blutung</span></label>
<label class="choice"><input name="1290_flags" type="checkbox" value="Unterbauchschmerzen/Wehen &lt;37 SSW"/><span class="lbl">starke Unterbauchschmerzen/Wehen vor SSW 37</span></label>
<label class="choice"><input name="1290_flags" type="checkbox" value="Fl√ºssigkeitsabgang"/><span class="lbl">Fl√ºssigkeitsabgang (Verdacht Blasensprung)</span></label>
<label class="choice"><input name="1290_flags" type="checkbox" value="Weniger/keine Kindsbewegungen ab 24 SSW"/><span class="lbl">Deutlich weniger/keine Kindsbewegungen ab SSW 24</span></label>
<label class="choice"><input name="1290_flags" type="checkbox" value="Starke Kopfschmerzen"/><span class="lbl">Starke Kopfschmerzen</span></label>
<label class="choice"><input name="1290_flags" type="checkbox" value="Sehst√∂rungen"/><span class="lbl">Sehst√∂rungen</span></label>
<label class="choice"><input name="1290_flags" type="checkbox" value="pl√∂tzliche √ñdeme"/><span class="lbl">pl√∂tzliche √ñdeme</span></label>
<label class="choice"><input name="1290_flags" type="checkbox" value="Symphysenschmerz"/><span class="lbl">Symphysenschmerz</span></label>
<label class="choice"><input name="1290_flags" type="checkbox" value="Sodbrennen"/><span class="lbl">Sodbrennen</span></label>
<label class="choice"><input name="1290_flags" type="checkbox" value="H√§morrhoiden"/><span class="lbl">H√§morrhoiden</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1390">
<fieldset class="accent">
<legend>Schwangerschaft ‚Äì Vorgeschichte</legend>
<div class="row three">
<label>Schwangerschaften (Anzahl)
        <input min="0" name="1390_gravida" placeholder="z. B. 2" step="1" type="number"/>
</label>
<label>Fehlgeburten (Anzahl)
        <input min="0" name="1390_abortus" placeholder="z. B. 1" step="1" type="number"/>
</label>
<label>Fr√ºhgeburten (Anzahl)
        <input min="0" name="1390_preterm" placeholder="z. B. 0" step="1" type="number"/>
</label>
</div>
<div class="row three">
<label>Sectio
        <div class="choices">
<label class="choice"><input name="1390_sectio" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1390_sectio" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</label>
<label>Pr√§eklampsie
        <div class="choices">
<label class="choice"><input name="1390_preeclampsia" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1390_preeclampsia" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</label>
<label>Gestationsdiabetes
        <div class="choices">
<label class="choice"><input name="1390_gdm" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1390_gdm" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</label>
</div>
<div class="row">
<label>Blutgruppe/Rh-Unvertr√§glichkeit in Vor-Schwangerschaften
        <div class="choices">
<label class="choice"><input name="1390_rh" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1390_rh" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</label>
</div>
</fieldset>
</section>
<!-- ===== End Additions: 1290‚Äì1390 ===== -->
<!-- ===== Additions: Zyklus-Unterfragen 1190‚Äì1194 ===== -->
<section class="q" hidden="" id="q1190">
<fieldset class="accent">
<legend>Zyklus ‚Äì Basisdaten</legend>
<div class="row two">
<label>Menarchealter (Jahre)
        <input max="25" min="8" name="1190_menarche_j" placeholder="z. B. 12" step="1" type="number"/>
</label>
<label>Letzte Regel (Datum)
        <input name="1190_lmp" type="date"/>
</label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1191">
<fieldset class="accent">
<legend>Zyklus ‚Äì √úblicher Zyklus</legend>
<div class="choices row two">
<label class="choice"><input name="1191_flags" type="checkbox" value="Laenge 24‚Äì38 Tage"/><span class="lbl">L√§nge 24‚Äì38 Tage</span></label>
<label class="choice"><input name="1191_flags" type="checkbox" value="Schwankung &gt;7‚Äì9 Tage"/><span class="lbl">Schwankung &gt;7‚Äì9 Tage</span></label>
<label class="choice"><input name="1191_flags" type="checkbox" value="Dauer &gt;8 Tage"/><span class="lbl">Dauer der Blutung &gt;8 Tage</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1192">
<fieldset class="accent">
<legend>Zyklus ‚Äì Aktuell</legend>
<div class="choices row two">
<label class="choice"><input name="1192_aktuell" type="checkbox" value="Amenorrhoe"/><span class="lbl">Amenorrh√∂</span></label>
<label class="choice"><input name="1192_aktuell" type="checkbox" value="Polymenorrhoe"/><span class="lbl">Polymenorrh√∂</span></label>
<label class="choice"><input name="1192_aktuell" type="checkbox" value="Zwischen-/Kontaktblutungen"/><span class="lbl">Zwischen-/Kontaktblutungen</span></label>
<label class="choice"><input name="1192_aktuell" type="checkbox" value="postkoitale Blutung"/><span class="lbl">postkoitale Blutung</span></label>
<label class="choice"><input name="1192_aktuell" type="checkbox" value="IUP vorhanden"/><span class="lbl">Intrauterinpessar vorhanden</span></label>
<label class="choice"><input name="1192_aktuell" type="checkbox" value="Schwangerschaft moeglich"/><span class="lbl">Schwangerschaft m√∂glich</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1193">
<fieldset class="accent">
<legend>Zyklus ‚Äì Blutungsst√§rke</legend>
<div class="row two">
<label>Binden/Tampons pro Tag
        <input min="0" name="1193_pads_per_day" placeholder="z. B. 6" step="1" type="number"/>
</label>
<div>
<div class="choices">
<label class="choice"><input name="1193_flags" type="checkbox" value="naechtliches Wechseln erforderlich"/><span class="lbl">n√§chtliches Wechseln erforderlich</span></label>
<label class="choice"><input name="1193_flags" type="checkbox" value="Koagel &gt;2‚Äì3 cm"/><span class="lbl">Koagel &gt;2‚Äì3 cm</span></label>
</div>
</div>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1194">
<fieldset class="accent">
<legend>Zyklus ‚Äì Vorgeschichte</legend>
<div class="row three">
<label>Fehl-/Geburten (Anzahl)
        <input min="0" name="1194_geburten" placeholder="z. B. 0" step="1" type="number"/>
</label>
<label>Abbr√ºche (Anzahl)
        <input min="0" name="1194_abbrueche" placeholder="z. B. 0" step="1" type="number"/>
</label>
<label>OPs an Uterus/Zervix
        <input name="1194_ops" placeholder="z. B. Konisation 2021" type="text"/>
</label>
</div>
<div class="row three">
<label>Myome
        <div class="choices">
<label class="choice"><input name="1194_myome" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1194_myome" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</label>
<label>Endometriose
        <div class="choices">
<label class="choice"><input name="1194_endo" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1194_endo" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</label>
<label>Polyzystisches Ovar
        <div class="choices">
<label class="choice"><input name="1194_pcos" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1194_pcos" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</label>
</div>
</fieldset>
</section>
<!-- ===== End Additions: 1190‚Äì1194 ===== -->
<script id="gender-switch-q1090-tristate">
(function(){
  const $ = (s, r=document)=>r.querySelector(s);
  const sec = $('#q1090');
  if(!sec) return;
  const fsM = $('#q1090_m');
  const fsW = $('#q1090_w');
  const fsD = $('#q1090_d');
  const genderSel = $('select[name="0002"]');
  if(!genderSel || !fsM || !fsW || !fsD) return;

  function show(el){ el.hidden = false; el.removeAttribute('hidden'); }
  function hide(el){ el.hidden = true; el.setAttribute('hidden',''); el.querySelectorAll('input[type=checkbox]').forEach(i=>i.checked=false); }

  function update(){
    const g = (genderSel.value||"").toLowerCase().trim();
    if(g === "m√§nnlich" || g === "mannlich"){
      show(fsM); hide(fsW); hide(fsD);
    } else if(g === "weiblich"){
      show(fsW); hide(fsM); hide(fsD);
    } else {
      // divers/wei√ü nicht -> only divers block
      show(fsD); hide(fsM); hide(fsW);
    }
  }

  genderSel.addEventListener('change', update, {passive:true});
  const obs = new MutationObserver(update);
  obs.observe(sec, {attributes:true, attributeFilter:['hidden']});
  update();
})();
</script>
<section class="q" hidden="" id="q1070">
<fieldset class="accent">
<legend>Wo bestehen Beschwerden im Bewegungsapparat?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q1171" name="1070" type="checkbox" value="Gelenke"/><span class="lbl">Gelenke</span></label>
<label class="choice"><input data-toggle="#q1174" name="1070" type="checkbox" value="Muskeln"/><span class="lbl">Muskeln</span></label>
<label class="choice"><input data-toggle="#q1175" name="1070" type="checkbox" value="Wirbels√§ule"/><span class="lbl">Wirbels√§ule</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1116">
<fieldset class="accent">
<legend>Wo befinden sich die Wunden?</legend>
<div class="choices">
<label class="choice"><input name="1116" type="checkbox" value="Fu√ü"/><span class="lbl">Fu√ü</span></label>
<label class="choice"><input name="1116" type="checkbox" value="Hand"/><span class="lbl">Hand</span></label>
<label class="choice"><input name="1116" type="checkbox" value="Rumpf"/><span class="lbl">Rumpf</span></label>
<label class="choice"><input name="1116" type="checkbox" value="Unterschenkel"/><span class="lbl">Unterschenkel</span></label>
<label class="choice"><input data-toggle="#q1004" name="1003" type="checkbox" value="keine"/><span class="lbl">keine</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1116_freitext" placeholder="_ sonstiges" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q1117">
<fieldset class="accent">
<legend>Wie lange besteht die Wunde?</legend>
<select name="1117_select">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>weniger als 3 Wochen</option>
<option>3 Wochen bis 3 Monate</option>
<option>mehr als 3 Monate</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q1020">
<fieldset class="accent">
<legend>Welche Atembeschwerden haben Sie?</legend>
<div class="choices">
<label class="choice"><input data-toggle="#q1121" name="1020" type="checkbox" value="Atemnot"/><span class="lbl">Atemnot</span></label>
<label class="choice"><input name="1020" type="checkbox" value="Erk√§ltung"/><span class="lbl">Erk√§ltung</span></label>
<label class="choice"><input name="1020" type="checkbox" value="Husten"/><span class="lbl">Husten</span></label>
<label class="choice"><input name="1020" type="checkbox" value="Infektion mit Fieber (Bronchitis/Lungenentz√ºndung)"/><span class="lbl">Infektion mit Fieber (Bronchitis/Lungenentz√ºndung)</span></label>
<label class="choice"><input name="1020" type="checkbox" value="N√§chtliche Atemaussetzer"/><span class="lbl">N√§chtliche Atemaussetzer</span></label>
<label class="choice"><input name="1020" type="checkbox" value="Schnarchen"/><span class="lbl">Schnarchen</span></label>
<label class="choice"><input data-toggle="#q1150,#q1151,#q1152,#q1153" name="1020" type="checkbox" value="Beklemmung im Brustkorb"/><span class="lbl">Beklemmung im Brustkorb</span></label></div>
</fieldset>
</section>
<section class="q" hidden="" id="q1121">
<fieldset class="accent">
<legend>Belastungsbezug der Atemnot</legend>
<div class="choices full" role="group">
<label class="choice"><input name="1121" type="checkbox" value="Atemnot nur bei starker Anstrengung"/><span class="lbl">Atemnot nur bei starker Anstrengung</span></label>
<label class="choice"><input name="1121" type="checkbox" value="Atemnot beim Eilen auf ebener Strecke oder bei leichter Steigung"/><span class="lbl">Atemnot beim Eilen auf ebener Strecke oder bei leichter Steigung</span></label>
<label class="choice"><input name="1121" type="checkbox" value="Notwendigkeit auf ebener Strecke langsamer zu gehen"/><span class="lbl">Notwendigkeit auf ebener Strecke langsamer zu gehen</span></label>
<label class="choice"><input name="1121" type="checkbox" value="Pause nach ~100 m oder wenigen Minuten Gehen"/><span class="lbl">Pause nach ~100 m oder wenigen Minuten Gehen</span></label>
<label class="choice"><input name="1121" type="checkbox" value="Zu atemlos, um das Haus zu verlassen"/><span class="lbl">Zu atemlos, um das Haus zu verlassen</span></label>
<label class="choice"><input name="1121" type="checkbox" value="Atemnot beim An-/Auskleiden"/><span class="lbl">Atemnot beim An-/Auskleiden</span></label>
<label class="choice"><input name="1121" type="checkbox" value="n√§chtliche Atemnot"/><span class="lbl">n√§chtliche Atemnot</span></label>
<label class="choice"><input name="1121" type="checkbox" value="Abh√§ngigkeit vom Respirator"/><span class="lbl">Abh√§ngigkeit vom Respirator</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1030">
<fieldset class="accent">
<legend>Welche Verdauungs-/Bauchbeschwerden haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q1130,#q1131,#q1132,#q1133,#q1134,#q1135,#q1136,#q1136a,#q1136b,#q1137" name="1030" type="checkbox" value="Erbrechen"/><span class="lbl">Erbrechen</span></label>
<label class="choice"><input data-toggle="#q1131" name="1030" type="checkbox" value="Bauchschmerz"/><span class="lbl">Bauchschmerz</span></label>
<label class="choice"><input name="1030" type="checkbox" value="Bl√§hungen"/><span class="lbl">Bl√§hungen</span></label>
<label class="choice"><input name="1030" type="checkbox" value="Durchfall"/><span class="lbl">Durchfall</span></label>
<label class="choice"><input name="1030" type="checkbox" value="Koliken"/><span class="lbl">Koliken</span></label>
<label class="choice"><input name="1030" type="checkbox" value="Reflux"/><span class="lbl">Reflux</span></label>
<label class="choice"><input name="1030" type="checkbox" value="Verstopfung"/><span class="lbl">Verstopfung</span></label>
<label class="choice"><input data-toggle="#q1004" name="1003" type="checkbox" value="keine"/><span class="lbl">keine</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1030_freitext" placeholder="_ machen Sie weitere Angaben z.B. √ºber Lokalisation und Ausdehnung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q1130">
<fieldset class="accent">
<legend>H√§ufigkeit</legend>
<label>Anzahl Episoden pro Tag<input min="0" name="1130_freq_per_day" placeholder="z.‚ÄØB. 3" step="1" type="number"/></label>
</fieldset>
</section>
<section class="q" hidden="" id="q1131">
<fieldset class="accent">
<legend>Nahrungsabh√§ngigkeit</legend>
<div class="choices">
<label class="choice"><input name="1131_nahrungsabhaengig" type="radio" value="postprandial"/><span class="lbl">postprandial</span></label>
<label class="choice"><input name="1131_nahrungsabhaengig" type="radio" value="nuechtern"/><span class="lbl">n√ºchtern</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1132">
<fieldset class="accent">
<legend>Charakter</legend>
<div class="choices">
<label class="choice"><input name="1132_uebelkeit" type="radio" value="ja"/><span class="lbl">√úbelkeit: Ja</span></label>
<label class="choice"><input name="1132_uebelkeit" type="radio" value="nein"/><span class="lbl">√úbelkeit: Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1133">
<fieldset class="accent">
<legend>Inhalt des Erbrochenen</legend>
<div class="choices row two">
<label class="choice"><input name="1133_inhalt" type="checkbox" value="nahrungsreste"/><span class="lbl">Nahrungsreste</span></label>
<label class="choice"><input name="1133_inhalt" type="checkbox" value="gallig"/><span class="lbl">gallig</span></label>
<label class="choice"><input name="1133_inhalt" type="checkbox" value="kaffeesatzartig"/><span class="lbl">kaffeesatzartig</span></label>
<label class="choice"><input name="1133_inhalt" type="checkbox" value="blutig"/><span class="lbl">blutig</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1134">
<fieldset class="accent">
<legend>Bauchschmerz</legend>
<label>Ort</label>
<div class="choices row two">
<label class="choice"><input name="1134_ort" type="checkbox" value="epigastrisch"/><span class="lbl">epigastrisch</span></label>
<label class="choice"><input name="1134_ort" type="checkbox" value="rechter_unterbauch"/><span class="lbl">rechter Unterbauch</span></label>
<label class="choice"><input name="1134_ort" type="checkbox" value="linker_unterbauch"/><span class="lbl">linker Unterbauch</span></label>
</div>
<label>Kolikartig?</label>
<div class="choices">
<label class="choice"><input name="1134_kolik" type="radio" value="ja"/><span class="lbl">ja</span></label>
<label class="choice"><input name="1134_kolik" type="radio" value="nein"/><span class="lbl">nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1135">
<fieldset class="accent">
<legend>Stuhlgang</legend>
<div class="choices row two">
<label class="choice"><input name="1135_stuhl" type="checkbox" value="diarrhoe"/><span class="lbl">Diarrh√∂</span></label>
<label class="choice"><input name="1135_stuhl" type="checkbox" value="obstipation"/><span class="lbl">Obstipation</span></label>
<label class="choice"><input name="1135_stuhl" type="checkbox" value="meteorismus"/><span class="lbl">Meteorismus</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1136">
<fieldset class="accent">
<legend>Fieber/Sch√ºttelfrost</legend>
<div class="choices">
<label class="choice"><input name="1136_fieber" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1136_fieber" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1136a">
<fieldset class="accent">
<legend>Neuro-vestibul√§r</legend>
<div class="choices row two">
<label class="choice"><input name="1136_neuro" type="checkbox" value="lagewechsel"/><span class="lbl">Schwindel: lagewechsel-getriggert</span></label>
<label class="choice"><input name="1136_neuro" type="checkbox" value="doppelbilder"/><span class="lbl">Doppelbilder</span></label>
<label class="choice"><input name="1136_neuro" type="checkbox" value="nackensteifigkeit"/><span class="lbl">Nackensteifigkeit</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1136b">
<fieldset class="accent">
<legend>Ausl√∂ser und Exposition</legend>
<div class="choices row two">
<label class="choice"><input name="1136_expo" type="checkbox" value="verdorbene_speisen"/><span class="lbl">verdorbene Speisen</span></label>
<label class="choice"><input name="1136_expo" type="checkbox" value="mitbetroffene"/><span class="lbl">Mitbetroffene</span></label>
<label class="choice"><input name="1136_expo" type="checkbox" value="reise"/><span class="lbl">Reise</span></label>
<label class="choice"><input name="1136_expo" type="checkbox" value="kontakt_erkrankte"/><span class="lbl">Kontakt zu Erkrankten</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1137">
<fieldset class="accent">
<legend>Schwangerschaft ausgeschlossen?</legend>
<div class="choices">
<label class="choice"><input name="1137_schwangerschaft" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1137_schwangerschaft" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
<small class="hint">Nur bei weiblich, 14‚Äì50 Jahre.</small>
</fieldset>
</section>
<section class="q" hidden="" id="q1040">
<fieldset class="accent">
<legend>Welche Hautver√§nderungen haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q1141" name="1040" type="checkbox" value="Ausschlag"/><span class="lbl">Ausschlag</span></label>
<label class="choice"><input data-toggle="#q1141" name="1040" type="checkbox" value="Ekzem"/><span class="lbl">Ekzem</span></label>
<label class="choice"><input name="1040" type="checkbox" value="Juckreiz"/><span class="lbl">Juckreiz</span></label>
<label class="choice"><input data-toggle="#q1141" name="1040" type="checkbox" value="Wunden/Geschw√ºre"/><span class="lbl">Wunden/Geschw√ºre</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1040_freitext" placeholder="_ machen Sie weitere Angaben z.B. √ºber Lokalisation und Ausdehnung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q1141">
<fieldset class="accent">
<legend>Seit wann haben Sie die Hautver√§nderungen?</legend>
<select name="1141_select">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>weniger als 3 Wochen</option>
<option>3 Wochen bis 3 Monate</option>
<option>mehr als 3 Monate</option>
<option>seit Jahren</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q1050">
<fieldset class="accent">
<legend>Welche Herz-Kreislauf Beschwerden haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="1050" type="checkbox" value="Bluthochdruck"/><span class="lbl">Bluthochdruck</span></label>
<label class="choice"><input data-toggle="#q1150,#q1151,#q1152,#q1153" name="1050" type="checkbox" value="Brustschmerz/Angina Pectoris"/><span class="lbl">Brustschmerz/Angina Pectoris</span></label>
<label class="choice"><input name="1050" type="checkbox" value="Herzstolpern"/><span class="lbl">Herzstolpern</span></label>
<label class="choice"><input name="1050" type="checkbox" value="Hypotonie/niedriger Blutdruck"/><span class="lbl">Hypotonie/niedriger Blutdruck</span></label>
<label class="choice"><input data-toggle="#q1186,#q1187,#q1188,#q1189" name="1050" type="checkbox" value="Ohnmachtsanf√§lle/Schwindel"/><span class="lbl">Ohnmachtsanf√§lle/Schwindel</span></label>
</div><div id="q1050-after-anchor" style="display:none"></div>
</fieldset>
</section>
<section class="q" hidden="" id="q1060">
<fieldset class="accent">
<legend>Welche hormonell bedingten Beschwerden haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="1060" type="checkbox" value="Gewichtsschwankungen"/><span class="lbl">Gewichtsschwankungen</span></label>
<label class="choice"><input name="1060" type="checkbox" value="Appetitst√∂rungen"/><span class="lbl">Appetitst√∂rungen</span></label>
<label class="choice"><input name="1060" type="checkbox" value="Osteoporose"/><span class="lbl">Osteoporose</span></label>
<label class="choice"><input name="1060" type="checkbox" value="polyzystisches Ovar"/><span class="lbl">polyzystisches Ovar</span></label>
<label class="choice"><input name="1060" type="checkbox" value="Hitzewallungen"/><span class="lbl">Hitzewallungen</span></label>
<label class="choice"><input name="1060" type="checkbox" value="Wechseljahrbeschwerden"/><span class="lbl">Wechseljahrbeschwerden</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1060_freitext" placeholder="_ machen Sie weitere Angaben" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q1171">
<fieldset class="accent">
<legend>Art der Gelenkbeschwerden</legend>
<div class="choices row two">
<label class="choice"><input name="1171" type="checkbox" value="Ber√ºhrungsschmerz"/><span class="lbl">Ber√ºhrungsschmerz</span></label>
<label class="choice"><input name="1171" type="checkbox" value="Bewegungsschmerz"/><span class="lbl">Bewegungsschmerz</span></label>
<label class="choice"><input name="1171" type="checkbox" value="Formabweichung/Auftreibung"/><span class="lbl">Formabweichung/Auftreibung</span></label>
<label class="choice"><input name="1171" type="checkbox" value="Instabilit√§t"/><span class="lbl">Instabilit√§t</span></label>
<label class="choice"><input data-toggle="#q1172,#q1173" name="1171" type="checkbox" value="Schmerzen"/><span class="lbl">Schmerzen</span></label>
<label class="choice"><input name="1171" type="checkbox" value="Schwellungen"/><span class="lbl">Schwellungen</span></label>
<label class="choice"><input name="1171" type="checkbox" value="Steifigkeit"/><span class="lbl">Steifigkeit</span></label>
<label class="choice"><input name="1171" type="checkbox" value="√úberw√§rmung"/><span class="lbl">√úberw√§rmung</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1172">
<fieldset class="accent">
<legend>Schmerzcharakter</legend>
<select name="1172_select">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>bohrend</option>
<option>brennend</option>
<option>dr√ºckend</option>
<option>dumpf</option>
<option>einschn√ºrend</option>
<option>elektrisierend</option>
<option>krampfartig</option>
<option>pochend</option>
<option>schneidend</option>
<option>stechend</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q1173">
<fieldset class="accent">
<legend>Ordnen Sie Ihre Schmerzen auf einer Skala von 0 ‚Äì 10 ein</legend>
<input data-target-hidden="h_1173" max="10" min="0" step="1" type="range" value="0"/><output class="scale-val"></output><input id="h_1173" name="1173" type="hidden" value=""/>
<small class="hint">0 = kein Schmerz, 10 = st√§rkster vorstellbarer Schmerz</small>
</fieldset>
</section>
<section class="q" hidden="" id="q1174">
<fieldset class="accent">
<legend>Art der Muskelbeschwerden</legend>
<div class="choices row two">
<label class="choice"><input name="1174" type="checkbox" value="Kraftverlust"/><span class="lbl">Kraftverlust</span></label>
<label class="choice"><input name="1174" type="checkbox" value="Muskelkr√§mpfe"/><span class="lbl">Muskelkr√§mpfe</span></label>
<label class="choice"><input name="1174" type="checkbox" value="Muskelschwund"/><span class="lbl">Muskelschwund</span></label>
<label class="choice"><input name="1174" type="checkbox" value="Muskelverh√§rtung"/><span class="lbl">Muskelverh√§rtung</span></label>
<label class="choice"><input name="1174" type="checkbox" value="pl√∂tzliche Form√§nderung"/><span class="lbl">pl√∂tzliche Form√§nderung</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1175">
<fieldset class="accent">
<legend>Art der Wirbels√§ulenbeschwerden</legend>
<div class="choices row two">
<label class="choice"><input name="1175" type="checkbox" value="Bekannte Osteoporose"/><span class="lbl">Bekannte Osteoporose</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Bewegungsschmerz"/><span class="lbl">Bewegungsschmerz</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Fehlhaltung (Skoliose)"/><span class="lbl">Fehlhaltung (Skoliose)</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Heben und B√ºcken eingeschr√§nkt"/><span class="lbl">Heben und B√ºcken eingeschr√§nkt</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Instabilit√§tsgef√ºhl"/><span class="lbl">Instabilit√§tsgef√ºhl</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Muskelverspannung"/><span class="lbl">Muskelverspannung</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Probleme beim Wasserlassen oder Stuhlgang (Harnverhalt, Inkontinenz)"/><span class="lbl">Probleme beim Wasserlassen oder Stuhlgang (Harnverhalt, Inkontinenz)</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Pl√∂tzlich und sehr stark aufgetretener Schmerz"/><span class="lbl">Pl√∂tzlich und sehr stark aufgetretener Schmerz</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Schmerzverst√§rkung beim Husten oder Niesen"/><span class="lbl">Schmerzverst√§rkung beim Husten oder Niesen</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Schw√§che oder Gef√ºhlsst√∂rung in den Beinen"/><span class="lbl">Schw√§che oder Gef√ºhlsst√∂rung in den Beinen</span></label>
<label class="choice"><input name="1175" type="checkbox" value="Steifigkeit"/><span class="lbl">Steifigkeit</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1A00">
<fieldset class="accent">
<legend>Welche Augenbeschwerden haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="1A00" type="checkbox" value="Aderhautr√∂tung"/><span class="lbl">Aderhautr√∂tung</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Blendempfindlichkeit"/><span class="lbl">Blendempfindlichkeit</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Doppelbilder"/><span class="lbl">Doppelbilder</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="eingeschr√§nkte Beweglichkeit"/><span class="lbl">eingeschr√§nkte Beweglichkeit</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Gesichtsfeldausf√§lle"/><span class="lbl">Gesichtsfeldausf√§lle</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Lichtblitze"/><span class="lbl">Lichtblitze</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Lidschluss nicht m√∂glich"/><span class="lbl">Lidschluss nicht m√∂glich</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Rotes schmerzhaftes Auge"/><span class="lbl">Rotes schmerzhaftes Auge</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Ru√üregen"/><span class="lbl">Ru√üregen</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="pl√∂tzlicher Sehverlust"/><span class="lbl">pl√∂tzlicher Sehverlust</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Schmerz hinter dem Auge"/><span class="lbl">Schmerz hinter dem Auge</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Schwellung und R√∂tung"/><span class="lbl">Schwellung und R√∂tung</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="vermehrter Tr√§nenfluss"/><span class="lbl">vermehrter Tr√§nenfluss</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="verminderte Augenbeweglichkeit"/><span class="lbl">verminderte Augenbeweglichkeit</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="verschwommenes/unscharfes Sehen"/><span class="lbl">verschwommenes/unscharfes Sehen</span></label>
<label class="choice"><input name="1A00" type="checkbox" value="Schleiersehen"/><span class="lbl">Schleiersehen</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1B00">
<fieldset class="accent">
<legend>Welche HNO-Beschwerden haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q1B01" name="1B00" type="checkbox" value="H√∂rst√∂rung"/><span class="lbl">H√∂rst√∂rung</span></label>
<label class="choice"><input data-toggle="#q1B02" name="1B00" type="checkbox" value="Nase"/><span class="lbl">Nase</span></label>
<label class="choice"><input data-toggle="#q1B03" name="1B00" type="checkbox" value="Ohren"/><span class="lbl">Ohren</span></label>
<label class="choice"><input data-toggle="#q1B04" name="1B00" type="checkbox" value="Rachen"/><span class="lbl">Rachen</span></label>
<label class="choice"><input data-toggle="#q1B05" name="1B00" type="checkbox" value="Schlucken"/><span class="lbl">Schlucken</span></label>
<label class="choice"><input data-toggle="#q1186,#q1187,#q1188,#q1189" name="1B00" type="checkbox" value="Schwindel"/><span class="lbl">Schwindel</span></label>
<label class="choice"><input data-toggle="#q1B06" name="1B00" type="checkbox" value="Stimmst√∂rung"/><span class="lbl">Stimmst√∂rung</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1B01">
<fieldset class="accent">
<legend>Art der H√∂rst√∂rung</legend>
<div class="choices row two">
<label class="choice"><input name="1B01" type="checkbox" value="H√∂rsturz"/><span class="lbl">H√∂rsturz</span></label>
<label class="choice"><input name="1B01" type="checkbox" value="√úberempfindlichkeit"/><span class="lbl">√úberempfindlichkeit</span></label>
<label class="choice"><input name="1B01" type="checkbox" value="vermindertes H√∂rverm√∂gen"/><span class="lbl">vermindertes H√∂rverm√∂gen</span></label>
<label class="choice"><input name="1B01" type="checkbox" value="Ohrger√§usche/Tinnitus"/><span class="lbl">Ohrger√§usche/Tinnitus</span></label>
<label class="choice"><input name="1B01" type="checkbox" value="Tonh√∂henverzerrung"/><span class="lbl">Tonh√∂henverzerrung</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1B02">
<fieldset class="accent">
<legend>Art der Nasenst√∂rung</legend>
<div class="choices row two">
<label class="choice"><input name="1B02" type="checkbox" value="Geruchsst√∂rung"/><span class="lbl">Geruchsst√∂rung</span></label>
<label class="choice"><input name="1B02" type="checkbox" value="Borkenbildung"/><span class="lbl">Borkenbildung</span></label>
<label class="choice"><input name="1B02" type="checkbox" value="Eiterabsonderung"/><span class="lbl">Eiterabsonderung</span></label>
<label class="choice"><input name="1B02" type="checkbox" value="Formver√§nderung"/><span class="lbl">Formver√§nderung</span></label>
<label class="choice"><input name="1B02" type="checkbox" value="Laufende Nase"/><span class="lbl">Laufende Nase</span></label>
<label class="choice"><input name="1B02" type="checkbox" value="Nasenbluten"/><span class="lbl">Nasenbluten</span></label>
<label class="choice"><input name="1B02" type="checkbox" value="Verstopfte Nase"/><span class="lbl">Verstopfte Nase</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1B03">
<fieldset class="accent">
<legend>Art der Ohrenst√∂rung</legend>
<div class="choices row two">
<label class="choice"><input name="1B03" type="checkbox" value="Ausfluss"/><span class="lbl">Ausfluss</span></label>
<label class="choice"><input name="1B03" type="checkbox" value="Fremdk√∂rper"/><span class="lbl">Fremdk√∂rper</span></label>
<label class="choice"><input name="1B03" type="checkbox" value="Ohrenbluten"/><span class="lbl">Ohrenbluten</span></label>
<label class="choice"><input name="1B03" type="checkbox" value="Ohrmuschelentz√ºndung"/><span class="lbl">Ohrmuschelentz√ºndung</span></label>
<label class="choice"><input name="1B03" type="checkbox" value="Verstopfte Ohren"/><span class="lbl">Verstopfte Ohren</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1B04">
<fieldset class="accent">
<legend>Art der Rachenbeschwerden</legend>
<div class="choices row two">
<label class="choice"><input name="1B04" type="checkbox" value="Bel√§ge"/><span class="lbl">Bel√§ge</span></label>
<label class="choice"><input name="1B04" type="checkbox" value="Blutung"/><span class="lbl">Blutung</span></label>
<label class="choice"><input name="1B04" type="checkbox" value="Geschwollene Rachenmandeln"/><span class="lbl">Geschwollene Rachenmandeln</span></label>
<label class="choice"><input name="1B04" type="checkbox" value="Kratzen"/><span class="lbl">Kratzen</span></label>
<label class="choice"><input name="1B04" type="checkbox" value="Halslymphknoten (Schwellung/Schmerzen)"/><span class="lbl">Halslymphknoten (Schwellung/Schmerzen)</span></label>
<label class="choice"><input name="1B04" type="checkbox" value="Heiserkeit"/><span class="lbl">Heiserkeit</span></label>
<label class="choice"><input name="1B04" type="checkbox" value="Hustenreiz"/><span class="lbl">Hustenreiz</span></label>
<label class="choice"><input name="1B04" type="checkbox" value="Mundgeruch"/><span class="lbl">Mundgeruch</span></label>
<label class="choice"><input name="1B04" type="checkbox" value="R√§usperzwang"/><span class="lbl">R√§usperzwang</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1B05">
<fieldset class="accent">
<legend>Art der Schluckst√∂rungen</legend>
<div class="choices row two">
<label class="choice"><input name="1B05" type="checkbox" value="Regurgitation"/><span class="lbl">Regurgitation</span></label>
<label class="choice"><input name="1B05" type="checkbox" value="Fremdk√∂rpergef√ºhl"/><span class="lbl">Fremdk√∂rpergef√ºhl</span></label>
<label class="choice"><input name="1B05" type="checkbox" value="Klo√ügef√ºhl"/><span class="lbl">Klo√ügef√ºhl</span></label>
<label class="choice"><input name="1B05" type="checkbox" value="Schluckschmerz"/><span class="lbl">Schluckschmerz</span></label>
<label class="choice"><input name="1B05" type="checkbox" value="Steckenbleiben"/><span class="lbl">Steckenbleiben</span></label>
<label class="choice"><input name="1B05" type="checkbox" value="Verschlucken"/><span class="lbl">Verschlucken</span></label>
<label class="choice"><input name="1B05" type="checkbox" value="W√ºrgreiz"/><span class="lbl">W√ºrgreiz</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1B06">
<fieldset class="accent">
<legend>Welche Stimmst√∂rung haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="1B06" type="checkbox" value="Abhusten erschwert"/><span class="lbl">Abhusten erschwert</span></label>
<label class="choice"><input name="1B06" type="checkbox" value="Heiserkeit"/><span class="lbl">Heiserkeit</span></label>
<label class="choice"><input name="1B06" type="checkbox" value="Kraftlose Stimme"/><span class="lbl">Kraftlose Stimme</span></label>
<label class="choice"><input name="1B06" type="checkbox" value="Rauhe Stimme"/><span class="lbl">Rauhe Stimme</span></label>
<label class="choice"><input name="1B06" type="checkbox" value="Totaler Stimmverlust"/><span class="lbl">Totaler Stimmverlust</span></label>
</div>
</fieldset>
</section>
<!-- ===== Additions: Kolik-Unterfragen 1330‚Äì1334 ===== -->
<section class="q" hidden="" id="q1330">
<fieldset class="accent">
<legend>Koliken ‚Äì Lokalisation und Ausstrahlung</legend>
<div class="choices row two">
<label class="choice"><input name="1330_lokal" type="checkbox" value="rechter Oberbauch"/><span class="lbl">rechter Oberbauch</span></label>
<label class="choice"><input name="1330_lokal" type="checkbox" value="Epigastrium"/><span class="lbl">Epigastrium</span></label>
<label class="choice"><input name="1330_lokal" type="checkbox" value="Flanke"/><span class="lbl">Flanke</span></label>
<label class="choice"><input name="1330_lokal" type="checkbox" value="Mittelbauch"/><span class="lbl">Mittelbauch</span></label>
<label class="choice"><input name="1330_lokal" type="checkbox" value="Unterbauch"/><span class="lbl">Unterbauch</span></label>
</div>
<label>Ausstrahlung in:</label>
<div class="choices row two">
<label class="choice"><input name="1330_ausstrahl" type="checkbox" value="R√ºcken"/><span class="lbl">R√ºcken</span></label>
<label class="choice"><input name="1330_ausstrahl" type="checkbox" value="rechte Schulter"/><span class="lbl">rechte Schulter</span></label>
<label class="choice"><input name="1330_ausstrahl" type="checkbox" value="Leiste"/><span class="lbl">Leiste</span></label>
<label class="choice"><input name="1330_ausstrahl" type="checkbox" value="Genitale"/><span class="lbl">Genitale</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1331">
<fieldset class="accent">
<legend>Koliken ‚Äì Begleitsymptome</legend>
<div class="choices row two">
<label class="choice"><input name="1331_begleit" type="checkbox" value="Gelbe Bindeh√§ute"/><span class="lbl">Gelbe Bindeh√§ute</span></label>
<label class="choice"><input name="1331_begleit" type="checkbox" value="dunkler Urin"/><span class="lbl">dunkler Urin</span></label>
<label class="choice"><input name="1331_begleit" type="checkbox" value="heller Stuhl"/><span class="lbl">heller Stuhl</span></label>
<label class="choice"><input name="1331_begleit" type="checkbox" value="Hautjucken"/><span class="lbl">Hautjucken</span></label>
<label class="choice"><input name="1331_begleit" type="checkbox" value="Harndrang"/><span class="lbl">Harndrang</span></label>
<label class="choice"><input name="1331_begleit" type="checkbox" value="verminderte Urinmenge"/><span class="lbl">verminderte Urinmenge</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1332">
<fieldset class="accent">
<legend>Koliken ‚Äì Vorerkrankungen und Risiken</legend>
<div class="choices row two">
<label class="choice"><input name="1332_vor" type="checkbox" value="Gallensteine"/><span class="lbl">Gallensteine</span></label>
<label class="choice"><input name="1332_vor" type="checkbox" value="Nierensteine"/><span class="lbl">Nierensteine</span></label>
<label class="choice"><input name="1332_vor" type="checkbox" value="Bauchspeicheldr√ºseentz√ºndung"/><span class="lbl">Bauchspeicheldr√ºseentz√ºndung</span></label>
<label class="choice"><input name="1332_vor" type="checkbox" value="Hernien"/><span class="lbl">Hernien</span></label>
<label class="choice"><input name="1332_vor" type="checkbox" value="Darm-OP"/><span class="lbl">Darm-OP</span></label>
<label class="choice"><input name="1332_vor" type="checkbox" value="Verwachsungen"/><span class="lbl">Verwachsungen</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1334">
<fieldset class="accent">
<legend>Gyn√§kologische Zusatzfragen</legend>
<div class="row two">
<label>Letzte Regelblutung
        <input class="freitext-blue" name="1334_lrb" type="date"/>
</label>
<div></div>
</div>
<div class="choices row two">
<label class="choice"><input name="1334_gyn" type="checkbox" value="vaginale Blutung"/><span class="lbl">vaginale Blutung</span></label>
<label class="choice"><input name="1334_gyn" type="checkbox" value="Ausfluss"/><span class="lbl">Ausfluss</span></label>
<label class="choice"><input name="1334_gyn" type="checkbox" value="Schwangerschaftstest positiv"/><span class="lbl">Schwangerschaftstest positiv</span></label>
</div>
<small class="hint">Hinweis: Dieser Block erscheint nur bei Frauen zwischen 14 und 50 Jahren.</small>
</fieldset>
</section>
<!-- ===== End Additions: 1330‚Äì1334 ===== -->
<!-- ===== Additions: Obstipation/Verstopfung Unterfragen 1430‚Äì1431 ===== -->
<section class="q" hidden="" id="q1430">
<fieldset class="accent">
<legend>Verstopfung ‚Äì Frequenz &amp; letzte normale Entleerung</legend>
<div class="row two">
<label>Stuhlfrequenz pro Woche
        <input min="0" name="1430_freq_woche" placeholder="z. B. 2" step="1" type="number"/>
</label>
<label>Letzte normale Entleerung
        <input class="freitext-blue" name="1430_letzte_normale_entleerung" type="date"/>
</label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1431">
<fieldset class="accent">
<legend>Verstopfung ‚Äì Stuhlbeschaffenheit &amp; Symptome</legend>
<div class="choices row two">
<label class="choice"><input name="1431_sympt" type="checkbox" value="harte Klumpen"/><span class="lbl">harte Klumpen</span></label>
<label class="choice"><input name="1431_sympt" type="checkbox" value="schmerzhafte Def√§kation"/><span class="lbl">schmerzhafte Def√§kation</span></label>
<label class="choice"><input name="1431_sympt" type="checkbox" value="d√ºnner Bleistiftstuhl"/><span class="lbl">d√ºnner ‚ÄûBleistiftstuhl‚Äú</span></label>
<label class="choice"><input name="1431_sympt" type="checkbox" value="Blutauflagerung"/><span class="lbl">Blutauflagerung</span></label>
<label class="choice"><input name="1431_sympt" type="checkbox" value="unvollst√§ndige Entleerung"/><span class="lbl">unvollst√§ndige Entleerung</span></label>
<label class="choice"><input name="1431_sympt" type="checkbox" value="fehlende Windabg√§nge"/><span class="lbl">fehlende Windabg√§nge</span></label>
<label class="choice"><input name="1431_sympt" type="checkbox" value="Bl√§hbauch"/><span class="lbl">Bl√§hbauch</span></label>
<label class="choice"><input name="1431_sympt" type="checkbox" value="Harnverhalt"/><span class="lbl">Harnverhalt</span></label>
</div>
</fieldset>
</section>
<!-- ===== End Additions: 1430‚Äì1431 ===== -->
<section class="q" hidden="" id="q2000">
<fieldset class="accent">
<legend>Versicherungsstatus?</legend>
<div class="choices">
<label class="choice"><input data-next="#q2001" name="2000" required="" type="radio" value="Privat-Selbstzahler"/><span class="lbl">Privat-Selbstzahler</span></label>
<label class="choice"><input data-next="#q2001" name="2000" required="" type="radio" value="Gesetzlich"/><span class="lbl">Gesetzlich</span></label>
</div>
</fieldset>
</section>
<!-- q2001: Termin (Datum) -->
<section class="q" hidden="" id="q2001">
<fieldset class="accent">
<legend>Haben Sie bereits einen Termin bei uns?</legend>
<div class="choices">
<label class="choice"><input data-next="#q2002" name="2001" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q2003" name="2001" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<!-- q2002: Terminwunsch Uhrzeit -->
<section class="q" hidden="" id="q2002">
<fieldset class="accent">
<legend>Termin (√ºber Arztdirekt Online) gebucht f√ºr:</legend>
<input data-next="#q2005" id="q2001_date" name="2002_date" type="date"/><input id="id_2002_format" name="2002_format" type="hidden" value=""/>
<small class="hint">Pflicht nur wenn 2000 = Ja. Datum ‚â• heute.</small>
</fieldset>
</section>
<!-- q2003: Bevorzugte Wochentage -->
<section class="q" hidden="" id="q2003">
<fieldset class="accent">
<legend>Welche Uhrzeit kommt f√ºr Ihren Terminwunsch in Frage?</legend>
<select data-next="#q2004" name="2003">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>vormittags</option>
<option>nachmittags</option>
<option>egal</option>
</select>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q2004" name="2003_freitext" placeholder="_ Weitere Bemerkungen" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2004">
<fieldset class="accent">
<legend>Welche Wochentage bevorzugen Sie?</legend>
<div class="choices">
<label class="choice"><input data-toggle="#q2005" name="2004" type="checkbox" value="Montag"/><span class="lbl">Montag</span></label>
<label class="choice"><input data-toggle="#q2005" name="2004" type="checkbox" value="Dienstag"/><span class="lbl">Dienstag</span></label>
<label class="choice"><input data-toggle="#q2005" name="2004" type="checkbox" value="Mittwoch"/><span class="lbl">Mittwoch</span></label>
<label class="choice"><input data-toggle="#q2005" name="2004" type="checkbox" value="Donnerstag"/><span class="lbl">Donnerstag</span></label>
<label class="choice"><input data-toggle="#q2005" name="2004" type="checkbox" value="Freitag"/><span class="lbl">Freitag</span></label>
<label class="choice"><input data-toggle="#q2005" name="2004" type="checkbox" value="egal"/><span class="lbl">egal</span></label>
</div>
</fieldset>
</section>
<!-- q2004: Stammdaten / bereits Patient -->
<!-- q2005: Anlass -->
<section class="q" hidden="" id="q2005">
<fieldset class="accent">
<legend>Waren Sie schon einmal bei uns?</legend>
<div class="choices">
<label class="choice">
<input data-next="#q2006,#q3003,#q3004" name="2005" required="" type="radio" value="Ja"/>
<span class="lbl">Ja</span>
</label>
<label class="choice">
<input data-next="#q2006,#q3000,#q3001,#q3002,#q3003,#q3004" name="2005" required="" type="radio" value="Nein"/>
<span class="lbl">Nein</span>
</label>
</div>
</fieldset>
</section>
<!-- ===== Block 3000: Adressdaten (always after Block 2000) ===== -->
<section class="q" id="q3000">
<fieldset class="accent">
<legend>Wie lautet Ihre PLZ?</legend>
<input autocomplete="postal-code" inputmode="numeric" max="99999" min="10000" name="3000" pattern="^\d{5}$" title="Bitte eine 5‚Äëstellige deutsche Postleitzahl eingeben." type="number"/><div aria-live="polite" class="field-error" data-for="3000"></div>
</fieldset>
</section>
<section class="q" id="q3001">
<fieldset class="accent">
<legend>Wohnort</legend>
<input autocomplete="address-level2" name="3001" type="text"/>
</fieldset>
</section>
<section class="q" id="q3002">
<fieldset class="accent">
<legend>Wohnanschrift</legend>
<input autocomplete="street-address" name="3002" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q3005">
<fieldset class="accent">
<legend>Geben Sie hier ‚Äì wenn bekannt ‚Äì Ihre Patienten-ID ein</legend>
<input name="3005" type="text"/>
<small class="hint">Optional</small>
</fieldset>
</section>
<section class="q" id="q3003">
<fieldset class="accent">
<legend>E‚ÄëMail f√ºr Ihre Terminbest√§tigung</legend>
<input autocomplete="email" name="3003" placeholder="name@example.com" style="width:100%;" title="Bitte eine g√ºltige E‚ÄëMail-Adresse eingeben." type="email"/><div aria-live="polite" class="field-error" data-for="3003"></div>
</fieldset>
</section>
<section class="q" id="q3004">
<fieldset class="accent">
<legend>Mobilrufnummer f√ºr R√ºckfragen?</legend>
<input autocomplete="tel" inputmode="tel" name="3004" pattern="^(?:\+?\d[\d\s()\/-]{5,19})$" placeholder="+49 171 2345678" style="width:100%;" title="Bitte eine g√ºltige Telefonnummer eingeben (mind. 6 Ziffern, ggf. +49)." type="tel"/><div aria-live="polite" class="field-error" data-for="3004"></div>
<small class="hint">Optional</small>
</fieldset>
</section>
<section class="q" hidden="" id="q2041">
<fieldset class="accent">
<legend>Herz-Kreislauferkrankung</legend>
<div class="choices row two">
<label class="choice"><input name="2041" type="checkbox" value="Bluthochdruck"/><span class="lbl">Bluthochdruck</span></label>
<label class="choice"><input name="2041" type="checkbox" value="Angina pectoris"/><span class="lbl">Angina pectoris</span></label>
<label class="choice"><input name="2041" type="checkbox" value="Herzrhythmusst√∂rung"/><span class="lbl">Herzrhythmusst√∂rung</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2041_freitext" placeholder="_ andere Herz-Kreislauferkrankungen" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2081">
<fieldset class="accent">
<legend>Wer ist Ihr Arbeitgeber (Name, Anschrift)?</legend>
<textarea data-next="#q2082" name="2081_text" rows="3"></textarea>
</fieldset>
</section>
<section class="q" hidden="" id="q2082">
<fieldset class="accent">
<legend>Seit wann sind Sie bei diesem Arbeitgeber besch√§ftigt?</legend>
<input data-next="#q2083" name="2082_date" type="date"/>
<input id="id_2082_format" name="2082_format" type="hidden"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2083">
<fieldset class="accent">
<legend>Welche Berufsgenossenschaft ist f√ºr Sie zust√§ndig?</legend>
<select data-next="#q2084" name="2083_select">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>Berufsgenossenschaft der Bauwirtschaft</option>
<option>Berufsgenossenschaft Energie Textil</option>
<option>Elektro Medienerzeugnisse</option>
<option>Berufsgenossenschaft Holz und Metall</option>
<option>Berufsgenossenschaft Handel und Warenlogistik</option>
<option>Berufsgenossenschaft Nahrungsmittel und Gastgewerbe</option>
<option>Berufsgenossenschaft Rohstoffe und chemische Industrie</option>
<option>Berufsgenossenschaft Verkehrswirtschaft</option>
<option>Post-Logistik Telekommunikation</option>
<option>Berufsgenossenschaft f√ºr Gesundheitsdienst und Wohlfahrtspflege</option>
<option>Verwaltungs-Berufsgenossenschaft</option>
<option>Sozialversicherung f√ºr Landwirtschaft Forsten und Gartenbau (Landwirtschaftliche Berufsgenossenschaft)</option>
<option>Unfallversicherung Bund und Bahn</option>
<option>Unfallkassen der L√§nder</option>
<option>Gemeindeunfallversicherungsverb√§nde/Kommunale Unfallkassen</option>
<option>Feuerwehr-Unfallkasse</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q2084">
<fieldset class="accent">
<legend>An welchem Tag ist der Unfall passiert?</legend>
<input data-next="#q2085" name="2084_date" type="date"/>
<input id="id_2084_format" name="2084_format" type="hidden"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2085">
<fieldset class="accent">
<legend>Zu welcher Uhrzeit ist der Unfall passiert?</legend>
<input data-next="#q2086" name="2085_time" type="time"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2086">
<fieldset class="accent">
<legend>Es handelt sich um:</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q2087" name="2086" type="radio" value="Arbeitszeit"/><span class="lbl">Arbeitszeit</span></label>
<label class="choice"><input data-next="#q2087" name="2086" type="radio" value="Wegeunfall"/><span class="lbl">Wegeunfall</span></label>
<label class="choice"><input data-next="#q2087" name="2086" type="radio" value="Pause"/><span class="lbl">Pause</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q2087">
<fieldset class="accent">
<legend>Unfallort</legend>
<div class="choices row two">
<label class="choice"><input data-next="#q2088" name="2087" type="radio" value="Betriebsgel√§nde"/><span class="lbl">Betriebsgel√§nde</span></label>
<label class="choice"><input data-next="#q2088" name="2087" type="radio" value="Baustelle"/><span class="lbl">Baustelle</span></label>
<label class="choice"><input data-next="#q2088" name="2087" type="radio" value="Arbeitsweg"/><span class="lbl">Arbeitsweg</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-next="#q2088" name="2087_freitext" placeholder="_ anderer Ort" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2088">
<fieldset class="accent">
<legend>Unfallhergang</legend>
<textarea data-next="#q2089" name="2088_text" placeholder="_ Wie ist der Unfall passiert (kurze Schilderung)" rows="3"></textarea>
</fieldset>
</section>
<section class="q" hidden="" id="q2089">
<fieldset class="accent">
<legend>Unfallfolgen</legend>
<textarea data-next="#q2090,#q2091,#q2092" name="2089_text" placeholder="_ Beschreiben Sie hier Ihre Verletzungen" rows="3"></textarea>
</fieldset>
</section>
<section class="q" hidden="" id="q2090">
<fieldset class="accent">
<legend>Wurde der Unfall im Betrieb gemeldet?</legend>
<div class="choices row two">
<label class="choice"><input name="2090" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="2090" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q2091">
<fieldset class="accent">
<legend>Wurde eine √§rztliche Erstversorgung durchgef√ºhrt?</legend>
<div class="choices row two">
<label class="choice"><input name="2091" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="2091" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q2092">
<fieldset class="accent">
<legend>Wer hat die √§rztliche Erstversorgung durchgef√ºhrt?</legend>
<input class="freitext-blue" name="2092_text" type="text"/>
</fieldset>
</section>
<input id="id_0003_combined" name="0003" type="hidden" value=""/><input id="id_0003_format" name="0003_format" type="hidden" value=""/>
<!-- Schmerzen -->
<!-- Unterfragen Angiologie -->
<script id="patch-q2040-2041">
(function(){
  function byId(id){ return document.getElementById(id); }
  function setVis(id, on){ var el = byId(id); if(!el) return; el.hidden = !on; if(on) el.removeAttribute('hidden'); }
  function sync(){
    var cb = document.querySelector('input[name="2040"][type="checkbox"][data-toggle="#q2041"]');
    if(!cb) return;
    setVis("q2041", !!cb.checked);
  }
  document.addEventListener('change', function(e){
    var t = e.target;
    if(!t) return;
    if(t.name === "2040" && t.getAttribute('data-toggle') === "#q2041"){ sync(); }
  }, {passive:true});
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", sync);
  } else { sync(); }
})();
</script>

<script id="chain-208x">
(function(){
  function vis(id, on){ var el=document.getElementById(id); if(!el) return; el.hidden = !on; if(on) el.removeAttribute('hidden'); }
  function nonEmpty(v){ return v!=null && String(v).trim().length>0; }

  function wire(){
    // 2080 -> 2081 (already handled elsewhere to keep compatibility); also enforce here
    var f2080 = document.querySelector('input[name="2080_text"]');
    if (f2080){
      var sync2080 = function(){ vis('q2081', nonEmpty(f2080.value)); };
      f2080.addEventListener('input', sync2080, {passive:true});
      sync2080();
    }

    // 2081 -> 2082
    var f2081 = document.querySelector('textarea[name="2081_text"], input[name="2081_text"]');
    if (f2081){
      var s2081 = function(){ vis('q2082', nonEmpty(f2081.value)); };
      f2081.addEventListener('input', s2081, {passive:true});
      s2081();
    }

    // 2082 -> 2083
    var f2082 = document.querySelector('input[name="2082_date"]');
    if (f2082){
      var s2082 = function(){ vis('q2083', nonEmpty(f2082.value)); };
      f2082.addEventListener('change', s2082, {passive:true});
      s2082();
    }

    // 2083 -> 2084
    var f2083 = document.querySelector('select[name="2083_select"]');
    if (f2083){
      var s2083 = function(){ vis('q2084', nonEmpty(f2083.value)); };
      f2083.addEventListener('change', s2083, {passive:true});
      s2083();
    }

    // 2084 -> 2085
    var f2084 = document.querySelector('input[name="2084_date"]');
    if (f2084){
      var s2084 = function(){ vis('q2085', nonEmpty(f2084.value)); };
      f2084.addEventListener('change', s2084, {passive:true});
      s2084();
    }

    // 2085 -> 2086
    var f2085 = document.querySelector('input[name="2085_time"]');
    if (f2085){
      var s2085 = function(){ vis('q2086', nonEmpty(f2085.value)); };
      f2085.addEventListener('change', s2085, {passive:true});
      s2085();
    }

    // 2086 -> 2087
    var r2086 = document.querySelectorAll('input[name="2086"]');
    if (r2086.length){
      var s2086 = function(){ var anySel = Array.from(r2086).some(r=>r.checked); vis('q2087', anySel); };
      r2086.forEach(r=>r.addEventListener('change', s2086, {passive:true}));
      s2086();
    }

    // 2087 -> 2088 (radio or freitext triggers)
    function sync2087(){
      var anySel = document.querySelector('input[name="2087"]:checked');
      var txt = document.querySelector('input[name="2087_freitext"]');
      var ok = !!anySel || (txt && nonEmpty(txt.value));
      vis('q2088', ok);
    }
    document.addEventListener('change', function(e){
      if(e.target && e.target.name === '2087'){ sync2087(); }
    }, {passive:true});
    var t2087 = document.querySelector('input[name="2087_freitext"]');
    if (t2087){ t2087.addEventListener('input', sync2087, {passive:true}); }
    sync2087();

    // 2088 -> 2089
    var f2088 = document.querySelector('input[name="2088_text"]');
    if (f2088){
      var s2088 = function(){ vis('q2089', nonEmpty(f2088.value)); };
      f2088.addEventListener('input', s2088, {passive:true});
      s2088();
    }

    // 2089 -> 2090, 2091, 2092
    var f2089 = document.querySelector('input[name="2089_text"]');
    if (f2089){
      var s2089 = function(){ var on = nonEmpty(f2089.value); ['q2090','q2091','q2092'].forEach(id=>vis(id, on)); };
      f2089.addEventListener('input', s2089, {passive:true});
      s2089();
    }
  }

  if (document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', wire);
  } else { wire(); }
})();
</script>
<script id="logic-data-toggle-generic">
(function(){
  function vis(id, on){ var el=document.getElementById(id.replace(/^#/,'')); if(!el) return; el.hidden = !on; if(on) el.removeAttribute('hidden'); }
  function handleToggle(targets, condition){
    if(!targets) return;
    targets.split(',').map(s=>s.trim()).forEach(function(t){ if(!t) return; vis(t, !!condition); });
  }
  document.addEventListener('change', function(e){
    var t = e.target;
    if(!t) return;
    var tg = t.getAttribute('data-toggle');
    if(!tg) return;
    var type = (t.getAttribute('type')||t.tagName).toLowerCase();
    if(type==='checkbox' || type==='radio'){
      handleToggle(tg, t.checked);
    } else {
      handleToggle(tg, !!t.value);
    }
  }, {passive:true});
  document.addEventListener('input', function(e){
    var t = e.target;
    if(!t) return;
    var tg = t.getAttribute('data-toggle');
    if(!tg) return;
    handleToggle(tg, !!t.value);
  }, {passive:true});
  // Initialize on DOM ready
  function init(){
    document.querySelectorAll('[data-toggle]').forEach(function(el){
      var tg = el.getAttribute('data-toggle');
      if(!tg) return;
      var type = (el.getAttribute('type')||el.tagName).toLowerCase();
      if(type==='checkbox' || type==='radio'){
        handleToggle(tg, el.checked);
      } else {
        handleToggle(tg, !!el.value);
      }
    });
  }
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init); } else { init(); }
})();
</script>
<!-- ===== Additions: 1116, 1117, 1020, 1121, 1A00 ===== -->
<!-- q1116: Wundenlokalisation -->
<!-- q1117: Wunddauer -->
<!-- q1020: Atemwegs-/Lungenbeschwerden -->
<!-- q1121: Belastungsbezug Atemnot -->
<!-- q1A00: Augenbeschwerden -->
<!-- ===== End Additions ===== -->
<!-- ===== Additions: 1030, 1131, 1040, 1141, 1050 ===== -->
<!-- q1030: Verdauungs-/Bauchbeschwerden -->
<!-- q1131: Symptome bei Bauchschmerz -->
<!-- q1040: Hautver√§nderungen -->
<!-- q1141: Dauer Hautver√§nderungen -->
<!-- q1050: Herz-Kreislaufbeschwerden -->
<!-- ===== End Additions ===== -->
<!-- ===== Additions: 1B00‚Äì1B06 HNO ===== -->
<!-- q1B00: HNO-Beschwerden -->
<!-- q1B01: Art der H√∂rst√∂rung -->
<!-- q1B02: Art der Nasenst√∂rung -->
<!-- q1B03: Art der Ohrenst√∂rung -->
<!-- q1B04: Art der Rachenbeschwerden -->
<!-- q1B05: Art der Schluckst√∂rungen -->
<!-- q1B06: Stimmst√∂rungen -->
<!-- ===== End Additions ===== -->
<script id="logic-1003-keine">
(function(){
  var checkboxes = document.querySelectorAll('input[name="1003"]');
  function sync(e){
    var noneBox = Array.from(checkboxes).find(cb => cb.value==="keine");
    if(!noneBox) return;
    if(e && e.target===noneBox && noneBox.checked){
      // Uncheck all others
      checkboxes.forEach(cb => { if(cb!==noneBox) cb.checked=false; });
    } else if(e && e.target!==noneBox && e.target.checked){
      noneBox.checked = false;
    }
  }
  checkboxes.forEach(cb => cb.addEventListener('change', sync, {passive:true}));
})();
</script>
<script id="logic-1004-ohne">
(function(){
  var boxes = Array.from(document.querySelectorAll('input[name="1004"]'));
  function onChange(e){
    var t = e && e.target;
    if(!t) return;
    if(t.value==="ohne Ausl√∂ser" && t.checked){
      boxes.forEach(cb => { if(cb!==t) cb.checked = false; });
    } else if(t.value!=="ohne Ausl√∂ser" && t.checked){
      boxes.forEach(cb => { if(cb.value==="ohne Ausl√∂ser") cb.checked = false; });
    }
  }
  boxes.forEach(cb => cb.addEventListener('change', onChange, {passive:true}));
})();
</script>
<!-- ===== Additions: 1060, 1070, 1171, 1172, 1173, 1174, 1175 ===== -->
<!-- q1060: hormonell bedingte Beschwerden -->
<!-- q1070: Bewegungsfunktionen -->
<!-- q1171: Gelenkbeschwerden -->
<!-- q1172: Schmerzcharakter -->
<!-- q1173: Schmerzskala -->
<!-- q1174: Muskelbeschwerden -->
<!-- q1175: Wirbels√§ulenbeschwerden -->
<!-- ===== End Additions ===== -->
<script id="seq-radio-next">
(function(){
  function parseTargets(targetStr){
    if(!targetStr) return [];
    return targetStr.split(',').map(s=>s.trim()).filter(Boolean);
  }
  function setHidden(selectors, hidden){
    selectors.forEach(sel=>{
      var sec = document.querySelector(sel);
      if(sec) sec.hidden = hidden;
    });
  }
  document.addEventListener('change', function(e){
    var el = e.target;
    if(!el || !el.matches('input, select, textarea')) return;
    var next = el.dataset.next;
    // Radios: hide all targets of peers with same name, then show current
    if(el.type === 'radio'){
      if(el.name){
        var peers = Array.from(document.querySelectorAll('[name="'+CSS.escape(el.name)+'"][data-next]'));
        peers.forEach(p => setHidden(parseTargets(p.dataset.next), true));
      }
      setHidden(parseTargets(next), false);
      return;
    }
    // Checkboxes: toggle show/hide based on checked state
    if(el.type === 'checkbox'){
      setHidden(parseTargets(next), !el.checked);
      return;
    }
    // Selects and other inputs: show when non-empty, hide when empty
    var hasValue = !!(el.value && String(el.value).trim() !== '');
    setHidden(parseTargets(next), !hasValue);
  }, {passive:true});

  // Also set min=today for q2001 date
  var d = document.getElementById('q2001_date');
  if(d){
    var today = new Date();
    var m = String(today.getMonth()+1).padStart(2,'0');
    var day = String(today.getDate()).padStart(2,'0');
    d.min = today.getFullYear() + '-' + m + '-' + day;
  }
})();
</script>
<section class="q" hidden="" id="q2006">
<fieldset class="accent">
<legend>Weshalb kommen Sie zu uns?</legend>
<div class="choices row two">
<label class="choice"><input name="2006" type="checkbox" value="Abkl√§rung oben genannter Beschwerden"/><span class="lbl">Abkl√§rung oben genannter Beschwerden</span></label>
<label class="choice"><input data-toggle="#q2010" name="2006" type="checkbox" value="Kontrolluntersuchung"/><span class="lbl">Kontrolluntersuchung</span></label>
<label class="choice"><input data-toggle="#q2020" name="2006" type="checkbox" value="Vorsorge/Pr√§vention"/><span class="lbl">Vorsorge/Pr√§vention</span></label>
<label class="choice"><input data-toggle="#q2030" name="2006" type="checkbox" value="Abkl√§rung auff√§lliger Befunde"/><span class="lbl">Abkl√§rung auff√§lliger Befunde</span></label>
<label class="choice"><input data-toggle="#q2040" name="2006" type="checkbox" value="Abkl√§rung chron. Erkrankungen"/><span class="lbl">Abkl√§rung chron. Erkrankungen</span></label>
<label class="choice"><input data-toggle="#q2050" name="2006" type="checkbox" value="Tumorverdacht"/><span class="lbl">Tumorverdacht</span></label>
<label class="choice"><input data-toggle="#q2060" name="2006" type="checkbox" value="Neurologische Symptome"/><span class="lbl">Neurologische Symptome</span></label>
<label class="choice"><input data-toggle="#q2070" name="2006" type="checkbox" value="Orthop√§dische Probleme"/><span class="lbl">Orthop√§dische Probleme</span></label>
<label class="choice"><input name="2006" type="checkbox" value="Therapieanpassung/Medikamentenkontrolle"/><span class="lbl">Therapieanpassung/Medikamentenkontrolle</span></label>
<label class="choice"><input data-toggle="#q2080" name="2006" type="checkbox" value="Unfallfolgen (Arbeitsunfall)"/><span class="lbl">Unfallfolgen (Arbeitsunfall)</span></label>
<label class="choice"><input data-toggle="#q2100" name="2006" type="checkbox" value="Begutachtung/Antr√§ge"/><span class="lbl">Begutachtung/Antr√§ge</span></label>
<label class="choice"><input name="2006" type="checkbox" value="Einholung einer Zweitmeinung"/><span class="lbl">Einholung einer Zweitmeinung</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2006_freitext" placeholder="anderer Anlass z. B. Behandlung, neues Symptom" type="text"/>
</fieldset>
</section>
<script id="gate-2005-2006-4000">
(function(){
  function vis(id,on){
    var el = document.getElementById(id);
    if(!el) return;
    el.hidden = !on;
    if(on) el.removeAttribute('hidden');
  }
  function hasAny2006(){
    var sec = document.getElementById('q2006');
    if(!sec) return false;
    var inputs = sec.querySelectorAll('input[name="2006"]');
    for(var i=0;i<inputs.length;i++){
      if(inputs[i].checked) return true;
    }
    return false;
  }
  function update(){
    var t = document.querySelector('input[name="2005"]:checked');
    var isNew = t && t.value === "Nein";
    var show = isNew && hasAny2006();
    var ids = ["q4000","q4001","q4002"];
    ids.forEach(function(id){ vis(id, show); });
  }
  document.addEventListener('change', function(e){
    if(!e || !e.target) return;
    var n = e.target.name;
    if(n === "2005" || n === "2006"){ update(); }
  }, {passive:true});
  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", update, {once:true});
  } else {
    update();
  }
})();
</script>

<section class="q" hidden="" id="q2010">
<fieldset class="accent">
<legend>Kontrolluntersuchung</legend>
<div class="choices row two">
<label class="choice"><input name="2010" type="checkbox" value="Blutzucker/Diabeteskontrolle"/><span class="lbl">Blutzucker/Diabeteskontrolle</span></label>
<label class="choice"><input name="2010" type="checkbox" value="Laborwerte allgemein"/><span class="lbl">Laborwerte allgemein</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2010_freitext" placeholder="_ sonstige Kontrolle" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2020">
<fieldset class="accent">
<legend>Welche Vorsorge- oder Pr√§ventionsma√ünahmen w√ºnschen Sie</legend>
<div class="choices row two">
<label class="choice"><input name="2020" type="checkbox" value="Aortenaneurysma-Screening (f√ºr M√§nner ab 65)"/><span class="lbl">Aortenaneurysma-Screening (f√ºr M√§nner ab 65)</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Gef√§√üalter-Bestimmung (IgeL)"/><span class="lbl">Gef√§√üalter-Bestimmung (IgeL)</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Kontrolle periphere arterielle Verschlusskrankheit (pAVK)"/><span class="lbl">Kontrolle periphere arterielle Verschlusskrankheit (pAVK)</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Schlaganfallrisiko-Check (IgeL)"/><span class="lbl">Schlaganfallrisiko-Check (IgeL)</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Thrombose-Risikoeinsch√§tzung"/><span class="lbl">Thrombose-Risikoeinsch√§tzung</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Gesundheits-Check-up (IgeL)"/><span class="lbl">Gesundheits-Check-up (IgeL)</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Impfstatus-Kontrolle"/><span class="lbl">Impfstatus-Kontrolle</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Bluthochdruck-Screening"/><span class="lbl">Bluthochdruck-Screening</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Blutzucker-/Diabetes-Screening"/><span class="lbl">Blutzucker-/Diabetes-Screening</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Lipidstoffwechsel-/Cholesterin-Screening"/><span class="lbl">Lipidstoffwechsel-/Cholesterin-Screening</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Hautkrebs-Screening"/><span class="lbl">Hautkrebs-Screening</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Darmkrebs-Screening"/><span class="lbl">Darmkrebs-Screening</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Prostata-Vorsorge (PSA, Tastuntersuchung)"/><span class="lbl">Prostata-Vorsorge (PSA, Tastuntersuchung)</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Gyn√§kologische Vorsorge"/><span class="lbl">Gyn√§kologische Vorsorge</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Osteoporose-/Knochendichte-Messung"/><span class="lbl">Osteoporose-/Knochendichte-Messung</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Lungengesundheit (z. B. COPD-/Raucher-Screening)"/><span class="lbl">Lungengesundheit (z. B. COPD-/Raucher-Screening)</span></label>
<label class="choice"><input name="2020" type="checkbox" value="Lebensstil-Check (Bewegung, Ern√§hrung, Gewicht, Stress)"/><span class="lbl">Lebensstil-Check (Bewegung, Ern√§hrung, Gewicht, Stress)</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q2030">
<fieldset class="accent">
<legend>Er√∂rterung auff√§lliger Befunde</legend>
<div class="choices row two">
<label class="choice"><input name="2030" type="checkbox" value="Bildgebung (R√∂ntgen, CT, MRT, Ultraschall)"/><span class="lbl">Bildgebung (R√∂ntgen, CT, MRT, Ultraschall)</span></label>
<label class="choice"><input name="2030" type="checkbox" value="Laborauff√§lligkeiten"/><span class="lbl">Laborauff√§lligkeiten</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2030_freitext" placeholder="_ weitere Vorbefunde" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2040">
<fieldset class="accent">
<legend>Um welche chronische Erkrankung handelt es sich?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q2041" name="2040" type="checkbox" value="Herz-Kreislauf (Hypertonie, KHK, Herzrhythmus)"/><span class="lbl">Herz-Kreislauf (Hypertonie, KHK, Herzrhythmus)</span></label>
<label class="choice"><input data-toggle="#q2042" name="2040" type="checkbox" value="Gef√§√üerkrankung"/><span class="lbl">Gef√§√üerkrankung</span></label>
<label class="choice"><input data-toggle="#q2043" name="2040" type="checkbox" value="Stoffwechsel (Diabetes, Schilddr√ºse)"/><span class="lbl">Stoffwechsel (Diabetes, Schilddr√ºse)</span></label>
<label class="choice"><input data-toggle="#q2044" name="2040" type="checkbox" value="Atemwege (Asthma, COPD)"/><span class="lbl">Atemwege (Asthma, COPD)</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2040_freitext" placeholder="_ sonstige Erkrankungen" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2050">
<fieldset class="accent">
<legend>Tumorverdacht</legend>
<div class="choices row two">
<label class="choice"><input name="2050" type="checkbox" value="Knoten/Schwellung"/><span class="lbl">Knoten/Schwellung</span></label>
<label class="choice"><input name="2050" type="checkbox" value="Blut im Stuhl"/><span class="lbl">Blut im Stuhl</span></label>
<label class="choice"><input name="2050" type="checkbox" value="Gewichtsverlust"/><span class="lbl">Gewichtsverlust</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2050_freitext" placeholder="_ andere Anhaltspunkte" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2060">
<fieldset class="accent">
<legend>Neurologische Symptome</legend>
<div class="choices row two">
<label class="choice"><input name="2060" type="checkbox" value="Schwindel"/><span class="lbl">Schwindel</span></label>
<label class="choice"><input name="2060" type="checkbox" value="L√§hmungen"/><span class="lbl">L√§hmungen</span></label>
<label class="choice"><input name="2060" type="checkbox" value="Sensibilit√§tsst√∂rungen"/><span class="lbl">Sensibilit√§tsst√∂rungen</span></label>
<label class="choice"><input name="2060" type="checkbox" value="Krampfanf√§lle"/><span class="lbl">Krampfanf√§lle</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2060_freitext" placeholder="_ sonstige Symptome" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2070">
<fieldset class="accent">
<legend>Orthop√§dische Probleme</legend>
<div class="choices row two">
<label class="choice"><input name="2070" type="checkbox" value="Arthrose"/><span class="lbl">Arthrose</span></label>
<label class="choice"><input name="2070" type="checkbox" value="Bandscheibenbeschwerden"/><span class="lbl">Bandscheibenbeschwerden</span></label>
<label class="choice"><input name="2070" type="checkbox" value="Fehlstellungen/Bewegungseinschr√§nkung"/><span class="lbl">Fehlstellungen/Bewegungseinschr√§nkung</span></label>
<label class="choice"><input name="2070" type="checkbox" value="Deformit√§ten/Mi√übildungen"/><span class="lbl">Deformit√§ten/Mi√übildungen</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2070_freitext" placeholder="_ sonstige Probleme" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2080">
<fieldset class="accent">
<legend>Welchen Beruf bzw. welche T√§tigkeit √ºben Sie aus?</legend>
<input class="freitext-blue" data-toggle="#q2081" name="2080" placeholder="_ Ihre Eingabe" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q2100">
<fieldset class="accent">
<legend>Gutachten/Reha- Kurantr√§ge</legend>
<div class="choices row two">
<label class="choice"><input name="2100" type="checkbox" value="Freies Gutachten/Versicherungsgutachten"/><span class="lbl">Freies Gutachten/Versicherungsgutachten</span></label>
<label class="choice"><input name="2100" type="checkbox" value="GdB Gutachten"/><span class="lbl">GdB Gutachten</span></label>
<label class="choice"><input name="2100" type="checkbox" value="Reha Antrag"/><span class="lbl">Reha Antrag</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="2100_freitext" placeholder="_ machen Sie hier n√§here Angaben" type="text"/>
</fieldset>
</section>
<!-- üìè K√∂rperma√üe ‚Äì Rauchverhalten -->
<section class="q" hidden="" id="q4000" style="display:inline-block;vertical-align:top;width:calc(50% - 1rem);">
<fieldset class="accent">
<legend>Wie gro√ü sind Sie?</legend>
<input max="250" min="70" name="4000" type="number"/>
</fieldset>
</section>
<section class="q" hidden="" id="q4001" style="display:inline-block;vertical-align:top;width:calc(50% - 1rem);">
<fieldset class="accent">
<legend>Wie schwer sind Sie (in kg)?</legend>
<input max="300" min="20" name="4001" type="number"/>
</fieldset>
</section>
<section class="q" hidden="" id="q4002">
<fieldset class="accent">
<legend>Haben Sie jemals geraucht?</legend>
<div class="choices">
<label class="choice"><input data-next="#q4003,#q4004,#q4005" name="4002" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q5000" name="4002" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<script id="logic-4002">
(function(){
  function vis(id,on){var el=document.getElementById(id); if(!el) return; el.hidden=!on; if(on) el.removeAttribute('hidden');}
  document.addEventListener('change', function(e){
    var t=e && e.target;
    if(!t || t.name!=="4002" || t.type!=="radio") return;
    if(t.value==="Ja"){
      vis("q4003",true);
      vis("q4004",true);
      vis("q4005",true);
    } else if(t.value==="Nein"){
      vis("q4100",true);
    }
  }, {passive:true});
})();
</script>
<script id="logic-4002">
(function(){
  function vis(id,on){var el=document.getElementById(id); if(!el) return; el.hidden=!on; if(on) el.removeAttribute('hidden');}
  document.addEventListener('change', function(e){
    var t=e && e.target;
    if(!t || t.name!=="4002" || t.type!=="radio") return;
    if(t.value==="Ja"){
      vis("q4003",true);
      vis("q4004",true);
      vis("q4005",true);
    } else if(t.value==="Nein"){
      vis("q4100",true);
    }
  }, {passive:true});
})();
</script>
<section class="q" hidden="" id="q4003">
<fieldset class="accent">
<legend>Durchschnittlich wie viele Zigaretten pro Tag?</legend>
<input max="100" min="1" name="4003" type="number"/>
</fieldset>
</section>
<section class="q" hidden="" id="q4004">
<fieldset class="accent">
<legend>Wie viele Jahre haben Sie geraucht?</legend>
<input max="100" min="1" name="4004" type="number"/>
</fieldset>
</section>
<section class="q" hidden="" id="q4005">
<fieldset class="accent">
<legend>Rauchen Sie immer noch?</legend>
<div class="choices">
<label class="choice"><input data-next="#q5000" name="4005" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q4006,#q5000" name="4005" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<script id="logic-4005">
(function(){
  function vis(id,on){
    var el = document.getElementById(id);
    if(!el) return;
    el.hidden = !on;
    if(on) el.removeAttribute('hidden');
  }
  document.addEventListener('change', function(e){
    var t = e && e.target;
    if(!t || t.name !== "4005" || t.type !== "radio") return;
    if(t.value === "Ja"){
      vis("q4100", true);
    } else if(t.value === "Nein"){
      vis("q4006", true);
      vis("q4100", true);
    }
  }, {passive:true});
})();
</script>

<section class="q" hidden="" id="q4006">
<fieldset class="accent">
<legend>Wann (Jahr) haben Sie aufgeh√∂rt?</legend>
<input max="2025" min="1900" name="4006" placeholder="z. B. 2015" type="number"/>
</fieldset>
</section>
<section class="q" hidden="" id="q4100">
<fieldset class="accent">
<legend>Haben Sie eine der folgenden Impfungen erhalten?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="COVID-19"/><span class="lbl">COVID-19</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="Diphtherie"/><span class="lbl">Diphtherie</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="FSME"/><span class="lbl">FSME</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="Hepatitis B"/><span class="lbl">Hepatitis B</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="Herpes Zoster (G√ºrtelrose)"/><span class="lbl">Herpes Zoster (G√ºrtelrose)</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="Influenza (Grippe)"/><span class="lbl">Influenza (Grippe)</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="Masern, Mumps, R√∂teln (MMR)"/><span class="lbl">Masern, Mumps, R√∂teln (MMR)</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="Pneumokokken"/><span class="lbl">Pneumokokken</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="RSV"/><span class="lbl">RSV</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="Tetanus"/><span class="lbl">Tetanus</span></label>
<label class="choice"><input data-toggle="#q4110" name="4100" type="checkbox" value="keine der √ºblichen Impfungen erhalten"/><span class="lbl">keine der √ºblichen Impfungen erhalten</span></label></div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-next="#q4110" data-toggle="#q4110" name="4100_freitext" placeholder="weitere Impfungen oder Auffrischungen" type="text"/>
</fieldset>
</section>
<script id="error-q4100-if-q4005-missing">
(function(){
  const $ = (s, r=document) => r.querySelector(s);
  const sec4005 = $('#q4005');
  const sec4100 = $('#q4100');
  if(!sec4005 || !sec4100) return;
  let err = document.createElement('div');
  err.id = 'err4005';
  err.className = 'field-error';
  err.innerText = 'Bitte vervollst√§ndigen Sie zuerst den Rauchstatus.';
  sec4100.appendChild(err);
  function hasAnswer4005(){
    const inputs = sec4005.querySelectorAll('input, select, textarea');
    for(const el of inputs){
      if(el.type === 'radio' || el.type === 'checkbox'){
        if(el.checked) return true;
      } else {
        if(el.value && el.value.trim() !== '') return true;
      }
    }
    return false;
  }
  function on4100input(e){
    if(!hasAnswer4005()){
      err.classList.add('show');
      sec4005.hidden = false;
      sec4005.removeAttribute('hidden');
      const first = sec4005.querySelector('input,select,textarea');
      if(first){
        setTimeout(function(){ first.focus({preventScroll:false}); }, 40);
      }
    } else {
      err.classList.remove('show');
    }
  }
  sec4100.addEventListener('input', on4100input, {passive:true});
  sec4100.addEventListener('change', on4100input, {passive:true});
})();
</script>

<section class="q" hidden="" id="q4110">
<fieldset class="accent">
<legend>Gibt es in Ihrer Familie folgende Erkrankungen?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q4120" name="4110" type="checkbox" value="Herzinfarkt/Schlaganfall"/><span class="lbl">Herzinfarkt/Schlaganfall</span></label>
<label class="choice"><input data-toggle="#q4120" name="4110" type="checkbox" value="Bluthochdruck"/><span class="lbl">Bluthochdruck</span></label>
<label class="choice"><input data-toggle="#q4120" name="4110" type="checkbox" value="Diabetes"/><span class="lbl">Diabetes</span></label>
<label class="choice"><input data-toggle="#q4120" name="4110" type="checkbox" value="Krebserkrankungen"/><span class="lbl">Krebserkrankungen</span></label>
<label class="choice"><input data-toggle="#q4120" name="4110" type="checkbox" value="Demenz/Alzheimer"/><span class="lbl">Demenz/Alzheimer</span></label>
<label class="choice"><input data-toggle="#q4120" name="4110" type="checkbox" value="keine"/><span class="lbl">keine</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q4120" name="4110_freitext" placeholder="andere relevante Erkrankungen" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q4120">
<fieldset class="accent">
<legend>Berufliche Situation</legend>
<select data-next="#q4121" name="4120">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>Vollzeit</option>
<option>Teilzeit</option>
<option>Rentner/in</option>
<option>arbeitslos</option>
<option>in Ausbildung/Studium</option>
<option>keine Angabe</option>
</select>
</fieldset>
</section>
<script id="logic-select-next">
(function(){
  function show(selList){
    if(!selList) return;
    selList.split(',').forEach(function(sel){
      var id = sel.trim().replace(/^#/, '');
      var el = document.getElementById(id);
      if(el){ el.hidden=false; el.removeAttribute('hidden'); }
    });
  }
  document.addEventListener('change', function(e){
    var t = e && e.target;
    if(!t || t.tagName.toLowerCase()!=='select') return;
    var next = t.getAttribute('data-next');
    if(next && (t.value||'').trim().length>0){ show(next); }
  }, {passive:true});
})();
</script>
<section class="q" hidden="" id="q4121">
<fieldset class="accent">
<legend>Stressbelastung</legend>
<select data-next="#q4122" name="4121">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>nicht gestresst</option>
<option>leicht gestresst</option>
<option>m√§√üig gestresst</option>
<option>stark gestresst</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q4122">
<fieldset class="accent">
<legend>Schlafqualit√§t</legend>
<select data-next="#q4123" name="4122">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>erholsam, keine Probleme</option>
<option>gelegentlich Probleme</option>
<option>h√§ufig Probleme</option>
<option>starke Schlafst√∂rungen</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q4123">
<fieldset class="accent">
<legend>Bewegung im Alltag</legend>
<select data-next="#q4130" name="4123">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>unter 150 Minuten/Woche</option>
<option>150‚Äì300 Minuten/Woche</option>
<option>√ºber 300 Minuten/Woche</option>
<option>keine Angabe</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q4130">
<fieldset class="accent">
<legend>Alkoholkonsum</legend>
<select data-next="#q4131" name="4130">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>nie</option>
<option>selten</option>
<option>1‚Äì2√ó pro Woche</option>
<option>fast t√§glich</option>
<option>t√§glich</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q4131">
<fieldset class="accent">
<legend>Drogen/Substanzen</legend>
<select data-next="#q4140" name="4131">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>nie konsumiert</option>
<option>fr√ºher, aktuell nicht mehr</option>
<option>gelegentlich</option>
<option>regelm√§√üig</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q4140">
<fieldset class="accent">
<legend>Haben Sie an folgenden Vorsorgeuntersuchungen teilgenommen?</legend>
<div class="choices row two">
<label class="choice">
<input name="4140" type="checkbox" value="Gesundheits-Check-up"/>
<span class="lbl">Gesundheits-Check-up<br/><small>alle 3 Jahre ab 35</small></span>
</label>
<label class="choice">
<input name="4140" type="checkbox" value="Krebsfr√ºherkennung (Geb√§rmutterhalsabstrich)"/>
<span class="lbl">Krebsfr√ºherkennung<br/><small>Abstrich Geb√§rmutterhals j√§hrlich</small></span>
</label>
<label class="choice">
<input name="4140" type="checkbox" value="Hautkrebs-Screening"/>
<span class="lbl">Hautkrebs-Screening<br/><small>alle 2 Jahre ab 35 Jahren</small></span>
</label>
<label class="choice">
<input name="4140" type="checkbox" value="Mammographie"/>
<span class="lbl">Mammographie<br/><small>alle 2 Jahre ab 50</small></span>
</label>
<label class="choice">
<input name="4140" type="checkbox" value="Prostata (Tastuntersuchung)"/>
<span class="lbl">Prostata<br/><small>Tastuntersuchung ab 45 Jahren j√§hrlich</small></span>
</label>
<label class="choice">
<input name="4140" type="checkbox" value="Darmkrebsvorsorge"/>
<span class="lbl">Darmkrebsvorsorge<br/><small>ab 55 Jahren</small></span>
</label>
<label class="choice">
<input name="4140" type="checkbox" value="Bauchaortenaneurysma-Screening"/>
<span class="lbl">Bauchaortenaneurysma-Screening<br/><small>M√§nner √ºber 65</small></span>
</label>
<label class="choice">
<input name="4140" type="checkbox" value="Hepatitis B / C Screening"/>
<span class="lbl">Hepatitis B / C Screening<br/><small>einmalig ab 35 Jahren m√∂glich</small></span>
</label>
</div>
</fieldset>
</section>
<!-- üíâ Diabetes -->
<section class="q" hidden="" id="q5000">
<fieldset class="accent">
<legend>Leiden Sie an Diabetes?</legend>
<div class="choices">
<label class="choice"><input data-next="#q5001,#q6000" name="5000" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q6000" name="5000" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q5001">
<fieldset class="accent">
<legend>Welcher Typ?</legend>
<select name="5001">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>Typ-1-Diabetes</option>
<option>Typ-2-Diabetes</option>
<option>Gestationsdiabetes</option>
<option>Spezifische Diabetesformen (MODY; Pankreaserkrankung; Endokrinopathien; medikamenteninduziert)</option>
<option>Pr√§diabetes</option>
<option>Unklar / in Abkl√§rung</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q5002">
<fieldset class="accent">
<legend>Medikament√∂se Diabetestherapie</legend>
<div class="choices row two">
<label class="choice"><input name="5002" type="checkbox" value="Metformin (Glucophage; Metformin AL; Siofor)"/><span class="lbl">Metformin (Glucophage; Metformin AL; Siofor)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="SGLT2-Hemmer (Jardiance; Forxiga; Invokana; Steglatro)"/><span class="lbl">SGLT2-Hemmer (Jardiance; Forxiga; Invokana; Steglatro)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="GLP-1-Rezeptor-Agonisten (Ozempic; Rybelsus; Victoza; Trulicity; Byetta)"/><span class="lbl">GLP-1-Rezeptor-Agonisten (Ozempic; Rybelsus; Victoza; Trulicity; Byetta)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="DPP-4-Hemmer (Januvia; Xelevia; Trajenta; Onglyza; Galvus)"/><span class="lbl">DPP-4-Hemmer (Januvia; Xelevia; Trajenta; Onglyza; Galvus)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Sulfonylharnstoffe (Amaryl; Gliben-HEXAL; Euglucon N)"/><span class="lbl">Sulfonylharnstoffe (Amaryl; Gliben-HEXAL; Euglucon N)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Glinide (NovoNorm; Starlix)"/><span class="lbl">Glinide (NovoNorm; Starlix)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Thiazolidindione (Actos)"/><span class="lbl">Thiazolidindione (Actos)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Basalinsulin (Lantus; Toujeo; Levemir; Tresiba; Insulatard)"/><span class="lbl">Basalinsulin (Lantus; Toujeo; Levemir; Tresiba; Insulatard)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Bolusinsulin (NovoRapid; Humalog; Fiasp; Apidra)"/><span class="lbl">Bolusinsulin (NovoRapid; Humalog; Fiasp; Apidra)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Mischinsulin (NovoMix; Humalog Mix; Insuman Comb)"/><span class="lbl">Mischinsulin (NovoMix; Humalog Mix; Insuman Comb)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Insulinpumpe (Omnipod; Accu-Chek Insight; Medtronic MiniMed)"/><span class="lbl">Insulinpumpe (Omnipod; Accu-Chek Insight; Medtronic MiniMed)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Sensorunterst√ºtzte Insulintherapie (Dexcom; FreeStyle Libre; Medtronic Guardian)"/><span class="lbl">Sensorunterst√ºtzte Insulintherapie (Dexcom; FreeStyle Libre; Medtronic Guardian)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Kombinationstherapie oral (Janumet; Jentadueto; Segluromet; Xigduo)"/><span class="lbl">Kombinationstherapie oral (Janumet; Jentadueto; Segluromet; Xigduo)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Insulin + Tablette (z. B. Basalinsulin + Metformin oder GLP-1-Analogon)"/><span class="lbl">Insulin + Tablette (z. B. Basalinsulin + Metformin oder GLP-1-Analogon)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Andere Antidiabetika (Setmelanotid; Imeglimin)"/><span class="lbl">Andere Antidiabetika (Setmelanotid; Imeglimin)</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Keine medikament√∂se Therapie"/><span class="lbl">Keine medikament√∂se Therapie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="5002_freitext" placeholder="_ weitere Pr√§parate oder Kombinationen eingeben" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q5002">
<fieldset class="accent">
<legend>Wie wird Ihr Diabetes behandelt?</legend>
<div class="choices row two">
<label class="choice"><input name="5002" type="checkbox" value="Di√§t"/><span class="lbl">Di√§t</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Forxiga"/><span class="lbl">Forxiga</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Glibenclamid"/><span class="lbl">Glibenclamid</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Insulin"/><span class="lbl">Insulin</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Januvia"/><span class="lbl">Januvia</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Jardiance"/><span class="lbl">Jardiance</span></label>
<label class="choice"><input name="5002" type="checkbox" value="Metformin"/><span class="lbl">Metformin</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="5002_freitext" placeholder="_ sonstige" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q5003">
<fieldset class="accent">
<legend>Haben Sie eine der folgenden Komplikationen?</legend>
<div class="choices row two">
<label class="choice"><input name="5003" type="checkbox" value="Diabetisches Fu√üsyndrom"/><span class="lbl">Diabetisches Fu√üsyndrom</span></label>
<label class="choice"><input name="5003" type="checkbox" value="Retinopathie"/><span class="lbl">Retinopathie</span></label>
<label class="choice"><input name="5003" type="checkbox" value="Neuropathie"/><span class="lbl">Neuropathie</span></label>
<label class="choice"><input name="5003" type="checkbox" value="Nephropathie"/><span class="lbl">Nephropathie</span></label>
</div>
</fieldset>
</section>
<!-- ü¶Ω Mobilit√§t, Implantate, Blutverd√ºnner, Allergien -->
<section class="q" hidden="" id="q6000">
<fieldset class="accent">
<legend>Haben Sie k√∂rperliche Beeintr√§chtigungen?</legend>
<div class="choices">
<label class="choice"><input data-toggle="#q6000_pflegegrad,#q6000_gdb,#q6001" name="6000" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-hide="#q6000_gdb,#q6001,#q6000_pflegegrad" data-toggle="#q6002" name="6000" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q6000_pflegegrad">
<fieldset class="accent">
<legend>Welcher Pflegegrad liegt vor?</legend>
<select name="6000_pflegegrad">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option value="1">Pflegegrad 1 ‚Äì geringe Beeintr√§chtigung der Selbstst√§ndigkeit</option>
<option value="2">Pflegegrad 2 ‚Äì erhebliche Beeintr√§chtigung der Selbstst√§ndigkeit</option>
<option value="3">Pflegegrad 3 ‚Äì schwere Beeintr√§chtigung der Selbstst√§ndigkeit</option>
<option value="4">Pflegegrad 4 ‚Äì schwerste Beeintr√§chtigung der Selbstst√§ndigkeit</option>
<option value="5">Pflegegrad 5 ‚Äì schwerste Beeintr√§chtigung der Selbstst√§ndigkeit mit besonderen Anforderungen an die pflegerische Versorgung</option>
</select>
</fieldset>
</section>
<section class="q" hidden="" id="q6001">
<fieldset class="accent">
<legend>Welche Beeintr√§chtigungen haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="K√ºnstlicher Darmausgang data-next="/><span class="lbl">K√ºnstlicher Darmausgang</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Am Rollator mobil data-next="/><span class="lbl">Am Rollator mobil</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Auf Rollstuhl angewiesen data-next="/><span class="lbl">Auf Rollstuhl angewiesen</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Gehbehinderung data-next="/><span class="lbl">Gehbehinderung</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Oberschenkel-Amputiert data-next="/><span class="lbl">Oberschenkel-Amputiert</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Unterschenkel-Amputiert data-next="/><span class="lbl">Unterschenkel-Amputiert</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Hilfe beim An- und Auskleiden ben√∂tigt data-next="/><span class="lbl">Hilfe beim An- und Auskleiden ben√∂tigt</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="(Teil)L√§hmung an den Extremit√§ten data-next="/><span class="lbl">(Teil)L√§hmung an den Extremit√§ten</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Schwerh√∂rigkeit/Ertaubung data-next="/><span class="lbl">Schwerh√∂rigkeit/Ertaubung</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Sehkraftverlust data-next="/><span class="lbl">Sehkraftverlust</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Urininkontinenz data-next="/><span class="lbl">Urininkontinenz</span></label>
<label class="choice"><input #q6002"="" name="6001" type="checkbox" value="Stuhlinkontinenz data-next="/><span class="lbl">Stuhlinkontinenz</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="6001_freitext" placeholder="_ andere Beeintr√§chtigungen" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q6000_gdb">
<fieldset class="accent">
<legend>Geben Sie den Grad Ihrer Behinderung (GdB) an und markieren Sie Merkzeichen</legend>
<div class="row">
<label for="id_6000_gdb">GdB</label>
<input id="id_6000_gdb" inputmode="numeric" max="100" min="20" name="6000_gdb" placeholder="ab 20 in 5er-Schritten" step="5" type="number"/>
</div>
<div class="row" style="margin-top:.5rem">
<label for="id_6000_merk">Merkzeichen (Mehrfachauswahl m√∂glich)</label>
<select id="id_6000_merk" multiple="" name="6000_merkzeichen" size="8">
<option disabled="" value="">‚Äî bitte ausw√§hlen ‚Äî</option>
<option value="G">G ‚Äì erhebliche Gehbeeintr√§chtigung</option>
<option value="aG">aG ‚Äì au√üergew√∂hnliche Gehbehinderung</option>
<option value="B">B ‚Äì Begleitperson erforderlich</option>
<option value="H">H ‚Äì hilflos</option>
<option value="Bl">Bl ‚Äì blind</option>
<option value="Gl">Gl ‚Äì geh√∂rlos</option>
<option value="TBl">TBl ‚Äì taubblind</option>
<option value="RF">RF ‚Äì Erm√§√üigung beim Rundfunkbeitrag</option>
</select>
</div>
</fieldset>
</section><section class="q" hidden="" id="q6002">
<fieldset class="accent">
<legend>Tragen Sie Implantate?</legend>
<div class="choices">
<label class="choice"><input data-next="#q6003" name="6002" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q6004" name="6002" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q6003">
<fieldset class="accent">
<legend>Welche Implantate?</legend>
<div class="choices row two">
<label class="choice"><input #q6004"="" name="6003" type="checkbox" value="Blasensphinkter data-next="/><span class="lbl">Blasensphinkter</span></label>
<label class="choice"><input #q6004"="" name="6003" type="checkbox" value="Cochleaimplantat data-next="/><span class="lbl">Cochleaimplantat</span></label>
<label class="choice"><input #q6004"="" name="6003" type="checkbox" value="Defibrillator data-next="/><span class="lbl">Defibrillator</span></label>
<label class="choice"><input #q6004"="" name="6003" type="checkbox" value="Gelenkendoprothese data-next="/><span class="lbl">Gelenkendoprothese</span></label>
<label class="choice"><input #q6004"="" name="6003" type="checkbox" value="Herzschrittmacher data-next="/><span class="lbl">Herzschrittmacher</span></label>
<label class="choice"><input #q6004"="" name="6003" type="checkbox" value="K√ºnstliche Herzklappe data-next="/><span class="lbl">K√ºnstliche Herzklappe</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="6003_freitext" placeholder="_ andere Implantate" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q6004">
<fieldset class="accent">
<legend>Erhalten Sie blutverd√ºnnende Medikamente?</legend>
<div class="choices">
<label class="choice"><input data-next="#q6005" name="6004" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-next="#q6006" name="6004" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q6005">
<fieldset class="accent">
<legend>Welche Blutverd√ºnner erhalten Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q6006" name="6005" type="checkbox" value="ASS"/><span class="lbl">ASS</span></label>
<label class="choice"><input data-toggle="#q6006" name="6005" type="checkbox" value="Brilique"/><span class="lbl">Brilique</span></label>
<label class="choice"><input data-toggle="#q6006" name="6005" type="checkbox" value="Clopidogrel"/><span class="lbl">Clopidogrel</span></label>
<label class="choice"><input data-toggle="#q6006" name="6005" type="checkbox" value="Efient"/><span class="lbl">Efient</span></label>
<label class="choice"><input data-toggle="#q6006" name="6005" type="checkbox" value="Eliquis"/><span class="lbl">Eliquis</span></label>
<label class="choice"><input data-toggle="#q6006" name="6005" type="checkbox" value="Lixiana"/><span class="lbl">Lixiana</span></label>
<label class="choice"><input data-toggle="#q6006" name="6005" type="checkbox" value="Marcumar"/><span class="lbl">Marcumar</span></label>
<label class="choice"><input data-toggle="#q6006" name="6005" type="checkbox" value="Pradaxa"/><span class="lbl">Pradaxa</span></label>
<label class="choice"><input data-toggle="#q6006" name="6005" type="checkbox" value="Xarelto"/><span class="lbl">Xarelto</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q6006">
<fieldset class="accent">
<legend>Leiden Sie unter Allergien?</legend>
<div class="choices">
<label class="choice"><input data-toggle="#q6007,#q8900" name="6006" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input data-toggle="#q7000,#q8000,#q8900" name="6006" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>



<section class="q" hidden="" id="q6007">
<fieldset class="accent">
<legend>Ich leide unter folgenden Allergien/Intoleranzen:</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="Antibiotika"/><span class="lbl">Antibiotika</span></label>
<label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="Latex"/><span class="lbl">Latex</span></label>
<label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="R√∂ntgenkontrastmittel"/><span class="lbl">R√∂ntgenkontrastmittel</span></label>
<label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="Schmerzmedikamente"/><span class="lbl">Schmerzmedikamente</span></label>
<label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="Glutenunvertr√§glichkeit"/><span class="lbl">Glutenunvertr√§glichkeit</span></label>
<label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="Lactoseintoleranz"/><span class="lbl">Lactoseintoleranz</span></label>
<label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="Pollen"/><span class="lbl">Pollen</span></label><label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="Milben"/><span class="lbl">Milben</span></label><label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="Tierhaare"/><span class="lbl">Tierhaare</span></label><label class="choice"><input data-toggle="#q7000,#q8000" name="6007" type="checkbox" value="Nahrungsmittel (z. B. N√ºsse, Obst, Gluten, Milch)"/><span class="lbl">Nahrungsmittel (z. B. N√ºsse, Obst, Gluten, Milch)</span></label></div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q7000,#q8000" name="6007_freitext" placeholder="Andere Allergien hier eintragen" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q6008">
  <fieldset class="accent">
    <legend>Mobilit√§t (Gehhilfen / Fortbewegung)</legend>
    <div class="choices row two">
      <label class="choice"><input name="6008" type="checkbox" value="ohne Hilfsmittel mobil"/><span class="lbl">ohne Hilfsmittel mobil</span></label>
      <label class="choice"><input name="6008" type="checkbox" value="Gehstock"/><span class="lbl">Gehstock</span></label>
      <label class="choice"><input name="6008" type="checkbox" value="Rollator"/><span class="lbl">Rollator</span></label>
      <label class="choice"><input name="6008" type="checkbox" value="Rollstuhl"/><span class="lbl">Rollstuhl</span></label>
      <label class="choice"><input name="6008" type="checkbox" value="bettl√§gerig"/><span class="lbl">bettl√§gerig</span></label>
    </div>
    <span class="freitext-spacer"></span>
    <input class="freitext-blue" name="6008_freitext" placeholder="_ weitere Angaben zur Mobilit√§t" type="text"/>
  </fieldset>
</section>
<section class="q" hidden="" id="q6009">
  <fieldset class="accent">
    <legend>Sturzrisiko (St√ºrze im letzten Jahr)</legend>
    <div class="choices row two">
      <label class="choice"><input name="6009_sturz" type="radio" value="keine St√ºrze"/><span class="lbl">keine St√ºrze</span></label>
      <label class="choice"><input name="6009_sturz" type="radio" value="1‚Äì2 St√ºrze"/><span class="lbl">1‚Äì2 St√ºrze</span></label>
      <label class="choice"><input name="6009_sturz" type="radio" value="‚â• 3 St√ºrze"/><span class="lbl">‚â• 3 St√ºrze</span></label>
    </div>
    <span class="freitext-spacer"></span>
    <input class="freitext-blue" name="6009_freitext" placeholder="_ Umst√§nde / Folgen der St√ºrze" type="text"/>
  </fieldset>
</section>
<section class="q" hidden="" id="q6010">
  <fieldset class="accent">
    <legend>Selbstversorgung (z.‚ÄØB. Waschen, Ankleiden, Essen)</legend>
    <div class="choices row two">
      <label class="choice"><input name="6010" type="radio" value="vollst√§ndig selbstst√§ndig"/><span class="lbl">vollst√§ndig selbstst√§ndig</span></label>
      <label class="choice"><input name="6010" type="radio" value="teilweise auf Hilfe angewiesen"/><span class="lbl">teilweise auf Hilfe angewiesen</span></label>
      <label class="choice"><input name="6010" type="radio" value="weitgehend hilfsbed√ºrftig"/><span class="lbl">weitgehend hilfsbed√ºrftig</span></label>
    </div>
  </fieldset>
</section>
<section class="q" hidden="" id="q6011">
  <fieldset class="accent">
    <legend>Kognitive Einschr√§nkung (Ged√§chtnis / Orientierung)</legend>
    <div class="choices row two">
      <label class="choice"><input name="6011" type="checkbox" value="keine Einschr√§nkungen bekannt"/><span class="lbl">keine Einschr√§nkungen bekannt</span></label>
      <label class="choice"><input name="6011" type="checkbox" value="Ged√§chtnisprobleme"/><span class="lbl">Ged√§chtnisprobleme</span></label>
      <label class="choice"><input name="6011" type="checkbox" value="Orientierungsprobleme"/><span class="lbl">Orientierungsprobleme</span></label>
      <label class="choice"><input name="6011" type="checkbox" value="Konzentrations-/Aufmerksamkeitsst√∂rungen"/><span class="lbl">Konzentrations-/Aufmerksamkeitsst√∂rungen</span></label>
    </div>
    <span class="freitext-spacer"></span>
    <input class="freitext-blue" name="6011_freitext" placeholder="_ weitere Angaben (z.‚ÄØB. Demenzdiagnose)" type="text"/>
  </fieldset>
</section>
<!-- Minimal placeholder for q4006 so logic works; you can refine later -->
<!-- Minimal placeholder for q5000 to satisfy downstream logic -->
<script id="toggle-generic">
(function(){
  function byId(id){ return document.getElementById(id); }
  function vis(ref, on){
    if(!ref) return;
    var id = ref.replace(/^#/,'');
    var el = byId(id);
    if(!el) return;
    el.hidden = !on;
    if(on) el.removeAttribute('hidden');
  }
  function handleToggle(el){
    var targets = el.getAttribute('data-toggle');
    if(!targets) return;
    var type = (el.getAttribute('type')||el.tagName).toLowerCase();
    var on = (type==='checkbox' || type==='radio') ? !!el.checked : !!el.value;
    targets.split(',').map(function(s){return s.trim();}).forEach(function(t){ if(t) vis(t, on); });
  }
  document.addEventListener('change', function(e){
    var t = e.target;
    if(!t) return;
    if(t.hasAttribute('data-toggle')) handleToggle(t);
  }, {passive:true});
  // initial sync for pre-filled values
  document.querySelectorAll('[data-toggle]').forEach(handleToggle);
})();
</script>
<script id="logic-1003-none">
(function(){
  function showNext(){
    var el = document.getElementById('q1004');
    if(el){ el.hidden = false; el.removeAttribute('hidden'); }
  }
  var boxes = Array.from(document.querySelectorAll('input[name="1003"][type="checkbox"]'));
  var none = document.getElementById('q1003_none');
  document.addEventListener('change', function(e){
    if(!e.target || e.target.name!=='1003' || e.target.type!=='checkbox') return;
    if(e.target === none && none.checked){
      boxes.forEach(function(b){ if(b!==none){ b.checked = false; }});
      showNext();
    } else if(e.target !== none && e.target.checked){
      if(none){ none.checked = false; }
      showNext();
    }
  }, {passive:true});
})();
</script>
<script id="order-fix-2000-block">
(function(){
  // Anker-Reihenfolge definieren (wir suchen den zuletzt vorhandenen)
  var anchors = ["q2010","q2020","q2030","q2040","q2050","q2060","q2070","q2080","q2100"];
  // Zu verschiebende Gruppen
  var group204x = ["q2041","q2042","q2043","q2044"];
  var group208x = ["q2081"];

  function byId(id){ return document.getElementById(id); }

  function lastExistingAnchor(){
    // Gehe die Liste von vorne nach hinten und nimm den letzten, der existiert
    var last = null;
    anchors.forEach(function(a){
      var el = byId(a);
      if(el) last = el;
    });
    return last;
  }

  function moveAfter(target, node){
    if(!target || !node || !target.parentNode) return;
    // Insert after target
    if(target.nextSibling){
      target.parentNode.insertBefore(node, target.nextSibling);
    } else {
      target.parentNode.appendChild(node);
    }
  }

  function reorder(){
    var anchor = lastExistingAnchor();
    if(!anchor) return;
    // Verschiebe 2041‚Äì2044 in der richtigen Reihenfolge
    group204x.forEach(function(id){
      var el = byId(id);
      if(el) moveAfter(anchor, el);
      // Update anchor, damit die Reihenfolge 2041 -> 2042 -> 2043 -> 2044 erhalten bleibt
      if(el) anchor = el;
    });
    // Danach 2081 hinter dem zuletzt verwendeten Anker platzieren
    var el2081 = byId(group208x[0]);
    if(el2081){ moveAfter(anchor, el2081); anchor = el2081; }
  }

  // Initial bei DOM ready
  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", reorder);
  } else {
    reorder();
  }

  // Falls UI dynamisch Abschnitte ein-/ausblendet: bei jeder √Ñnderung der Auswahl erneut ordnen
  document.addEventListener("change", function(e){
    // nur wenn Fragen aus Block 2000 oder deren Unterfragen betroffen sind
    var t = e.target;
    if(!t || !t.name) return;
    if(/^20\d{2}$/.test(t.name) || t.closest && t.closest("#q2000, #q2001, #q2002, #q2003, #q2004, #q2005, #q2010, #q2020, #q2030, #q2040, #q2050, #q2060, #q2070, #q2080, #q2100")){
      reorder();
    }
  }, {passive:true});
})();
</script>
<script id="open-on-typing">
(function(){
  function showTargets(selectorList){
    if(!selectorList) return;
    selectorList.split(',').forEach(function(sel){
      var id = sel.trim();
      if(!id) return;
      var el = document.querySelector(id);
      if(!el) return;
      el.hidden = false;
      el.removeAttribute('hidden');
    });
  }

  function handle(e){
    var t = e.target;
    if(!t) return;
    var tag = t.tagName.toLowerCase();
    var type = (t.type||"").toLowerCase();
    var val = (t.value||"").trim();

    // Nur reagieren bei Texteingabe-Feldern
    var isTextual = tag === 'input' && ['text','email','number','date','search','tel','url'].includes(type) ||
                    tag === 'textarea';
    if(!isTextual) return;

    if(val.length > 0){
      // Unterst√ºtzt sowohl data-toggle als auch data-next
      var targets = t.getAttribute('data-toggle') || t.getAttribute('data-next');
      if(targets){ showTargets(targets); }
    }
  }

  document.addEventListener('input', handle, {passive:true});
})();
</script>
<script id="order-fix-2082-2092">
(function(){
  var anchors = ["q2010","q2020","q2030","q2040","q2050","q2060","q2070","q2080","q2100"];
  var chain208x = ["q2081","q2082","q2083","q2084","q2085","q2086","q2087","q2088","q2089","q2090","q2091","q2092"];

  function byId(id){ return document.getElementById(id); }
  function lastExistingAnchor(){
    var last = null;
    anchors.forEach(function(a){
      var el = byId(a);
      if(el) last = el;
    });
    return last;
  }
  function moveAfter(target, node){
    if(!target || !node || !target.parentNode) return;
    if(target.nextSibling){
      target.parentNode.insertBefore(node, target.nextSibling);
    } else {
      target.parentNode.appendChild(node);
    }
  }
  function reorder(){
    var anchor = lastExistingAnchor();
    if(!anchor) return;
    chain208x.forEach(function(id){
      var el = byId(id);
      if(el){ moveAfter(anchor, el); anchor = el; }
    });
  }

  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", reorder);
  } else {
    reorder();
  }
  document.addEventListener("change", reorder, {passive:true});
  })();
</script>
<script id="logic-6006-gate">
(function(){
  function $(sel, r){ return (r||document).querySelector(sel); }
  function vis(id, on){
    var el = document.getElementById(id);
    if(!el) return;
    if(on){ el.removeAttribute('hidden'); }
    else { el.setAttribute('hidden',''); }
  }
  function showList(list){
    list.forEach(function(id){ vis(id.replace(/^#/,''), true); });
  }
  function onChange(){
    var checked = document.querySelector('input[name="6006"]:checked');
    var val = checked ? checked.value : "";
    // Always keep 7000/8000 hidden until a choice is made
    vis("q7000", false);
    vis("q8000", false);
    if(!val) return;
    if(val === "Ja"){
      showList(["q6007","q7000","q8000","q8900","q3003","q3004","q9000"]);
    } else if(val === "Nein"){
      showList(["q7000","q8000","q8900","q3003","q3004","q9000"]);
    }
  }
  document.addEventListener('change', function(e){
    if(e && e.target && e.target.name === "6006") onChange();
  }, {passive:true});
  // Initial enforcement on DOM ready
  if (document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", onChange, {once:true});
  } else {
    onChange();
  }
})();
</script>
<!-- Imported mail/summary logic from 2025-09-05 Vorlage -->
<script>
(function(){
  const $ = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  // Generic toggle
  document.addEventListener('change', (e)=>{
    const t = e.target;
    if(!t.matches('input[type=radio], input[type=checkbox]')) return;
    const showSel = t.getAttribute('data-toggle');
    const hideSel = t.getAttribute('data-hide');
    if(t.type==='radio'){
      $$('input[type=radio][name=\"'+t.name+'\"]').forEach(r=>{
        const sel = r.getAttribute('data-toggle'); if(sel){ const el=$(sel); if(el) el.hidden = true; }
      });
    }
    if(hideSel){ const elH=$(hideSel); if(elH) elH.hidden = true; }
    if(showSel){ const elS=$(showSel); if(elS) elS.hidden = !t.checked; }
    if(t.type==='checkbox' && showSel && !t.checked){ const elS=$(showSel); if(elS) elS.hidden = true; }
    // sync dependent blocks after any change
    syncPaths();
    gesamtBases.forEach(buildGesamt); update8999Visibility();
  }, {passive:true});

  // *_gesamt builder
  function buildGesamt(base){
    const checked = $$('input[name=\"'+base+'\"]:checked').map(x=>x.value.trim());
    const ftEl = $('input[name=\"'+base+'_freitext\"]');
    const ft = ftEl ? (ftEl.value||'').trim() : '';
    const parts = checked.slice();
    if(ft) parts.push(ft);
    const hidden = $('input[name=\"'+base+'_gesamt\"]');
    if(hidden) hidden.value = parts.join(' / ');
  }

  function update8999Visibility(){
    const any8000 = Array.from(document.querySelectorAll('input[name="8000"]:checked')).length > 0 ||
      ((document.querySelector('input[name="8000_freitext"]')?.value||'').trim().length > 0);
    const b = document.getElementById('blk8999');
    if(b){ b.hidden = !any8000; }
  }
  // Follow-up visibility pairs
  const pathPairs = [
    ['blk8001','blk8002'],
    ['blk8003','blk8004'],
    ['blk8005','blk8006'],
    ['blk8008','blk8009'],
    ['blk8010','blk8011'],
    ['blk1011set','blk1011'],
    ['blk1011','blk1012'],
    ['blk1012','blk1013'],
    ['blk1013','blk1014'],
    ['blk1015set','blk1015'],
    ['blk1015','blk1016']
  ];

  function syncPaths(){
    pathPairs.forEach(([src,dst])=>{
      const s = $('#'+src), d = $('#'+dst);
      if(s && d) d.hidden = s.hidden;
    });
    const b8011 = $('#blk8011'), b8012 = $('#blk8012');
    if(b8011 && b8012) b8012.hidden = b8011.hidden;
  }

  const gesamtBases = [];

  document.addEventListener('input', ()=>{ gesamtBases.forEach(buildGesamt); update8999Visibility(); }, {passive:true});

  // Initial sync
  syncPaths();

  // Summary
  $('#btnSummary').addEventListener('click', ()=>{
    gesamtBases.forEach(buildGesamt); update8999Visibility();
    const data = new FormData($('#form'));
    const keys = new Set();
    for(const [k,v] of data.entries()){ if(v && v!=='Bitte w√§hlen‚Ä¶') keys.add(k); }
    const rows = Array.from(keys).sort().map(k=>{
      const vals = data.getAll(k).filter(v=>v && v!=='Bitte w√§hlen‚Ä¶');
      const unique = Array.from(new Set(vals));
      return `${k}: ${unique.join(' / ')}`;
    });
    $('#summary').value = rows.join('\\n') || 'Keine Angaben.';
  });
})();
</script>
<script>
(function(){
  if (window.__MAIL_SENDER_V2__) return; window.__MAIL_SENDER_V2__ = true;
  const $ = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  function pad2(n){ return n<10 ? ('0'+n) : String(n); }

  function compute0003Format(){
    const tag = document.querySelector('select[name="0003_tag"]');
    const mon = document.querySelector('select[name="0003_monat"]');
    const jahr= document.querySelector('select[name="0003_jahr"]');
    if (!tag || !mon || !jahr) return '';
    const d = (tag.value||'').trim();
    const m = (mon.value||'').trim();
    const y = (jahr.value||'').trim();
    if (!d || !m || !y) return '';
    return pad2(parseInt(d,10)) + '.' + pad2(parseInt(m,10)) + '.' + y;
  }

  function getValByName(name){
    const nodes = document.querySelectorAll('[name="'+name+'"]');
    if (!nodes || nodes.length === 0) return '';
    const first = nodes[0];
    if (first.type === 'radio'){
      const r = document.querySelector('[name="'+name+'"]:checked');
      return r ? (r.value||'') : '';
    }
    if (first.type === 'checkbox'){
      const vals = Array.from(nodes).filter(n=>n.checked).map(n=>(n.value||'').trim()).filter(Boolean);
      return vals.join(', ');
    }
    if (first.tagName === 'SELECT' || first.tagName === 'TEXTAREA' || first.tagName === 'INPUT'){
      return first.value || '';
    }
    return '';
  }
    if (el.tagName==='SELECT' || el.tagName==='TEXTAREA' || el.tagName==='INPUT'){
      return el.value || '';
    }
    return '';
  }

  function gatherSimple(){
    // If there is an existing generator, use it. Else fallback: serialize some key blocks + any _gesamt fields.
    try {
      if (typeof regeneratePreview === 'function'){
        const s = regeneratePreview();
        if (s && s.trim()) return s.trim();
      }
    } catch(e){}
    const out = [];
    // Basisdaten
    const nv = (getValByName('0001')||'').trim();
    const nn = (getValByName('0000')||'').trim();
    const dob = compute0003Format();
    if (nn||nv||dob){
      out.push('‚Äî Basisdaten ‚Äî');
      if (nn) out.push('0000 Nachname: '+nn);
      if (nv) out.push('0001 Vorname: '+nv);
      if (dob) out.push('0003 Geburtsdatum: '+dob);
    }
    
// --- Explicit essentials ---
const email3003 = (get('3003')||'').trim();
if (email3003) out.push('3003: '+email3003);
const tel3004 = (get('3004')||'').trim();
if (tel3004) out.push('3004: '+tel3004);
const email9001 = (get('9001')||'').trim();
if (email9001) out.push('9001: '+email9001);
const tel9002 = (get('9002')||'').trim();
if (tel9002) out.push('9002: '+tel9002);
const conf = document.querySelector('[name="confirm_email"]');
if (conf && conf.checked) out.push('9000: Kontaktdaten best√§tigt');
const nps = document.querySelector('[name="9900"]:checked');
if (nps) out.push('9900: '+(nps.value||''));
const npsFt = (get('9900_freitext')||'').trim();
if (npsFt) out.push('9900_freitext: '+npsFt);
// Iterate over all inputs and collect *_gesamt fields
    document.querySelectorAll('input[name$="_gesamt"]').forEach(h=>{
      const key = h.name.replace('_gesamt','');
      const val = h.value || '';
      if ((['1114','1183','1173'].includes(key)) && (!val || val === '0')) {
        return;
      }
      if (val) out.push(key + ': ' + val);
    });
    // Freitexte of some known keys
    ['1001_freitext','1004_freitext','1005_freitext','2000_freitext','8001_freitext','8003_freitext','8007_freitext','8009_freitext','8010_freitext','8011_freitext','8014_freitext'].forEach(n=>{
      const v = getValByName(n);
      if (v) out.push(n+': '+v);
    });
    // Asthma/COPD q7102
    (function(){
      const vals = {
        leitsymptome: getValByName('7102_leitsymptome'),
        hustenart: getValByName('7102_hustenart'),
        trigger_allergie: getValByName('7102_trigger_allergie'),
        saison: getValByName('7102_saison'),
        freq_day: getValByName('7102_freq_day'),
        night: getValByName('7102_night'),
        saba: getValByName('7102_saba_use'),
        activity: getValByName('7102_activity'),
        exac_count: getValByName('7102_exac_count'),
        exac_ocs: getValByName('7102_exac_ocs'),
        exac_hosp: getValByName('7102_exac_hosp'),
        exac_intub: getValByName('7102_exac_intub'),
        pneumothorax: getValByName('7102_pneumothorax'),
        trigger2: getValByName('7102_trigger2')
      };
      const anyVal = Object.values(vals).some(v => v && String(v).trim().length>0);
      if (anyVal) {
        out.push('‚Äî Asthma/COPD ‚Äî');
        if (vals.leitsymptome) out.push('7102 Leitsymptome: '+vals.leitsymptome);
        if (vals.hustenart) out.push('7102 Husten vorwiegend: '+vals.hustenart);
        if (vals.trigger_allergie) out.push('7102 Trigger/Allergie: '+vals.trigger_allergie);
        if (vals.saison) out.push('7102 Saisonabh√§ngigkeit: '+vals.saison);
        if (vals.freq_day) out.push('7102 H√§ufigkeit tags√ºber: '+vals.freq_day);
        if (vals.night) out.push('7102 N√§chtliche Symptome: '+vals.night);
        if (vals.saba) out.push('7102 SABA/Reliever Nutzung: '+vals.saba);
        if (vals.activity) out.push('7102 Aktivit√§tseinschr√§nkung: '+vals.activity);
        if (vals.exac_count) out.push('7102 Exazerbationen 12M Anzahl: '+vals.exac_count);
        if (vals.exac_ocs) out.push(vals.exac_ocs);
        if (vals.exac_hosp) out.push(vals.exac_hosp);
        if (vals.exac_intub) out.push(vals.exac_intub);
        if (vals.pneumothorax) out.push(vals.pneumothorax);
        if (vals.trigger2) out.push('7102 Trigger: '+vals.trigger2);
      }
    })();
    // Angina pectoris q1150‚Äìq1153
    (function(){
      const vals = {
        qualitaet: getValByName('1150_qualitaet'),
        ausstrahlung: getValByName('1150_ausstrahlung'),
        redflags: getValByName('1150_redflags'),
        trigger: getValByName('1151_trigger'),
        ruhebesserung: getValByName('1151_ruhebesserung'),
        ntg: getValByName('1151_ntg'),
        ntg_min: getValByName('1151_ntg_min'),
        dauer: getValByName('1152_dauer_min'),
        verlauf: getValByName('1152_verlauf_select'),
        erstauftreten: getValByName('1152_erstauftreten_select'),
        begleit: getValByName('1153_begleit'),
        nicht_isch: getValByName('1153_nicht_isch')
      };
      const anyVal = Object.values(vals).some(v => v && String(v).trim().length>0);
      if (anyVal) {
        out.push('‚Äî Brustschmerz/Angina ‚Äî');
        if (vals.qualitaet) out.push('1150 Qualit√§t: '+vals.qualitaet);
        if (vals.ausstrahlung) out.push('1150 Ausstrahlung: '+vals.ausstrahlung);
        if (vals.redflags) out.push('1150 Kritische Hinweise: '+vals.redflags+' ‚Üí Empfehlung: Rettungsdienst (112) und n√§chstgelegenes geeignetes Krankenhaus.');
        if (vals.trigger) out.push('1151 Trigger/Provokation: '+vals.trigger);
        if (vals.ruhebesserung) out.push('1151 Besserung in Ruhe: '+vals.ruhebesserung);
        if (vals.ntg || vals.ntg_min) out.push('1151 NTG: '+(vals.ntg||'')+(vals.ntg_min?(', Wirkung nach '+vals.ntg_min+' min'):'') );
        if (vals.dauer) out.push('1152 Dauer/Attacke: '+vals.dauer+' min');
        if (vals.verlauf) out.push('1152 Verlauf: '+vals.verlauf);
        if (vals.erstauftreten) out.push('1152 Erstauftreten: '+vals.erstauftreten);
        if (vals.begleit) out.push('1153 Begleitsymptome: '+vals.begleit);
        if (vals.nicht_isch) out.push('1153 Nicht-isch√§mische Hinweise: '+vals.nicht_isch);
      }
    })();
    // Medikation
    const med = getValByName('8900');
    if (med) out.push('8900 Medikamente: '+med);
    return out.join('\\n');
  }

  function ensureSummary(){
    const area = $('#summary');
    if (!area) return '';
    let txt = (area.value||'').trim();
    if (!txt){
      txt = gatherSimple();
      area.value = txt;
    }
    return txt;
  }

  function buildSubject(){
  // Helper: safe field getter
  const $ = (s, r=document)=>r.querySelector(s);
  const get = (name)=>{
    try{ if (typeof getValByName === 'function'){ const v = getValByName(name); if (v != null) return v; } }catch(e){}
    const checked = $(`[name="${name}"]:checked`);
    if (checked) return checked.value || '';
    const el = $(`[name="${name}"]`);
    return el ? (el.value || '') : '';
  };
  const vor = (get('0001')||'').trim();
  const nach= (get('0000')||'').trim();
  const dob = (typeof compute0003Format === 'function') ? compute0003Format() : '';

  // Status aus q2003: Ja = Bestandspatient, Nein = Neupatient
  let status = '';
  const q2005 = get('2005');
  if (q2005 === 'Ja') status = 'Altpatient';
  else if (q2005 === 'Nein') status = 'Neupatient';

  let base = `Fragebogenüá©üá™ - ${vor||''}${(vor&&nach)?', ':''}${nach||''}`;
  if (dob) base += ' - ' + dob;
  if (status) base += ' / ' + status;
  return base.trim();
}${(vor&&nach)?', ':''}${nach||''} - ${dob||''}`.trim();
  }

  function openMailClient(){
    const to = 'klaproth@prakt-iq.de';
    const subject = encodeURIComponent(buildSubject());
    const body = encodeURIComponent(ensureSummary());
    const href = `mailto:klaproth@prakt-iq.de?subject=${subject}&body=${body}`;
    // Prefer a hidden anchor click to maximize client compatibility
    let a = document.getElementById('mailto_hidden');
    if (!a){
      a = document.createElement('a');
      a.id = 'mailto_hidden';
      a.style.display = 'none';
      document.body.appendChild(a);
    }
    a.href = href;
    a.click();
  }

  function toggleSend(){
    const ok = !!($('#confirm_email') && $('#confirm_email').checked);
    const b = $('#btnSendMail');
    if (b) b.disabled = !ok;
  }

  document.addEventListener('change', function(e){
    if (e.target && e.target.id==='confirm_email') toggleSend();
  }, true);

  document.addEventListener('DOMContentLoaded', function(){
    toggleSend();
    const btn = $('#btnSendMail');
    if (btn){
      btn.addEventListener('click', function(){
        if (!$('#confirm_email') || !$('#confirm_email').checked){
          alert('Bitte best√§tigen Sie die E-Mail-√úbermittlung.');
          return;
        }
        // Make or refresh summary before sending
        ensureSummary();
        openMailClient();
      }, {passive:true});
    }
  }, {once:true});
})();
</script>
<script>
(function(){
  if (window.__MAIL_SEND_V3__) return; window.__MAIL_SEND_V3__ = true;
  const $ = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  function pad2(n){ const x=parseInt(n,10); return isNaN(x)?'':(x<10?('0'+x):String(x)); }
  function compute0003Format(){
    const d = $('select[name="0003_tag"]')?.value||'';
    const m = $('select[name="0003_monat"]')?.value||'';
    const y = $('select[name="0003_jahr"]')?.value||'';
    if (!d || !m || !y) return '';
    return `${pad2(d)}.${pad2(m)}.${y}`;
  }
  function buildSubject(){
  // Helper: safe field getter
  const $ = (s, r=document)=>r.querySelector(s);
  const get = (name)=>{
    try{ if (typeof getValByName === 'function'){ const v = getValByName(name); if (v != null) return v; } }catch(e){}
    const checked = $(`[name="${name}"]:checked`);
    if (checked) return checked.value || '';
    const el = $(`[name="${name}"]`);
    return el ? (el.value || '') : '';
  };
  const vor = (get('0001')||'').trim();
  const nach= (get('0000')||'').trim();
  const dob = (typeof compute0003Format === 'function') ? compute0003Format() : '';

  // Status aus q2003: Ja = Bestandspatient, Nein = Neupatient
  let status = '';
  const q2005 = get('2005');
  if (q2005 === 'Ja') status = 'Altpatient';
  else if (q2005 === 'Nein') status = 'Neupatient';

  let base = `Fragebogenüá©üá™ - ${vor||''}${(vor&&nach)?', ':''}${nach||''}`;
  if (dob) base += ' - ' + dob;
  if (status) base += ' / ' + status;
  return base.trim();
}

  // Build summary similar to existing Zusammenfassung erzeugen
  function ensureSummary(){
    const area = $('#summary');
    if (!area) return '';
    if ((area.value||'').trim()) return area.value;
    // Collect using FormData with de-dup and filtering empty/"Bitte w√§hlen‚Ä¶"
    const fd = new FormData($('#form'));
    const keys = Array.from(fd.keys());
    const uniq = Array.from(new Set(keys));
    const rows = [];
    uniq.sort().forEach(k=>{
      const vals = fd.getAll(k).filter(v=>v && v!=='Bitte w√§hlen‚Ä¶');
      if (!vals.length) return;
      rows.push(`${k}: ${Array.from(new Set(vals)).join(' / ')}`);
    });
    area.value = rows.join(' / ') || 'Keine Angaben.';
    return area.value;
  }

  function openMailClient(){
    const to = 'klaproth@prakt-iq.de';
    const subject = encodeURIComponent(buildSubject());
    const body = encodeURIComponent(ensureSummary());
    const href = `mailto:klaproth@prakt-iq.de?subject=${subject}&body=${body}`;
    let a = $('#mailto_hidden');
    if (!a){
      a = document.createElement('a');
      a.id = 'mailto_hidden';
      a.style.display = 'none';
      document.body.appendChild(a);
    }
    a.href = href;
    a.click();
  }

  function toggleSendDisabled(){
    const ok = !!($('#confirm_email') && $('#confirm_email').checked);
    const btn = $('#btnSendMail');
    if (btn) btn.disabled = !ok;
  }

  // Wire confirm toggle
  document.addEventListener('change', (e)=>{
    if (e.target && e.target.id === 'confirm_email') toggleSendDisabled();
  }, {passive:true});

  document.addEventListener('DOMContentLoaded', function(){
    toggleSendDisabled();
    const btn = $('#btnSendMail');
    if (btn){
      btn.addEventListener('click', function(){
        if (!$('#confirm_email') || !$('#confirm_email').checked){
          alert('Bitte best√§tigen Sie den Mail-Versand, wenn Sie Ihre Daten √ºbermitteln m√∂chten.');
          return;
        }
        // Build or refresh summary and open mail
        ensureSummary();
        openMailClient();
      }, {passive:true});
    }
  }, {once:true});
})();
</script>
<script id="sendmail-alert">
(function(){
  function onReady(fn){ if(document.readyState==='loading') document.addEventListener('DOMContentLoaded', fn, {once:true}); else fn(); }
  function getFields(){
    var emailEl=document.querySelector('input[name="9001"]')||document.querySelector('input[type="email"][name="9001"]');
    var mobileEl=document.querySelector('input[name="9002"]')||document.querySelector('input[type="tel"][name="9002"]');
    var emailReview=document.querySelector('[name="n9001_email_review"]');
    var mobileReview=document.querySelector('[name="n9002_mobile_review"]');
    return {emailEl,mobileEl,emailReview,mobileReview};
  }
  function hasContact(){
    var F=getFields();
    var em=((F.emailEl&&F.emailEl.value)||'').trim()||((F.emailReview&&F.emailReview.value)||'').trim();
    var mo=((F.mobileEl&&F.mobileEl.value)||'').trim()||((F.mobileReview&&F.mobileReview.value)||'').trim();
    return {ok:!!(em||mo), emPresent:!!em, moPresent:!!mo, F};
  }
  function ensureBanner(){
    var b=document.getElementById('contact-error');
    if(!b){
      b=document.createElement('div'); b.id='contact-error'; b.setAttribute('role','alert'); b.setAttribute('aria-live','assertive');
      var anchor=document.getElementById('btnSendMail')||document.querySelector('a[href^="mailto:"]')||document.querySelector('form .actions')||document.getElementById('form')||document.body;
      anchor.parentNode.insertBefore(b, anchor.nextSibling);
    }
    return b;
  }
  function showError(){
    var b=ensureBanner();
    b.textContent="Bitte best√§tigen Sie mindestens eine Kontaktangabe (E-Mail oder Mobilrufnummer), bevor die Daten versendet werden.";
    b.classList.add('show');
    try{ alert("Bitte best√§tigen Sie mindestens eine Kontaktangabe (E-Mail oder Mobilrufnummer), bevor die Daten versendet werden."); }catch(e){}
    var S=hasContact();
    var t=(!S.emPresent&&S.F.emailEl)?S.F.emailEl:(!S.moPresent&&S.F.mobileEl?S.F.mobileEl:null);
    if(t){ try{ t.scrollIntoView({behavior:'smooth',block:'center'});}catch(e){t.scrollIntoView(true);} try{ t.focus({preventScroll:true}); }catch(e){ try{ t.focus(); }catch(_){} } }
  }
  function clearError(){ var b=document.getElementById('contact-error'); if(b) b.classList.remove('show'); }
  function guard(ev){ var S=hasContact(); if(!S.ok){ if(ev) ev.preventDefault(); showError(); return false; } else { clearError(); return true; } }
  function findClickable(node){
    while(node){
      if(node.nodeType===1){
        if(node.id==='btnSendMail') return node;
        if(node.tagName==='A' && /^mailto:/i.test(node.getAttribute('href')||'')) return node;
        if(node.tagName==='BUTTON' && (node.type==='submit'||node.id==='btnSendMail')) return node;
        if(node.matches && node.matches('[data-submit],[data-role="submit"]')) return node;
      }
      node=node.parentNode;
    }
    return null;
  }
  onReady(function(){
    document.addEventListener('click', function(e){
      var target=findClickable(e.target);
      if(target) guard(e);
    }, {capture:true});
    var form=document.getElementById('form');
    if(form){
      form.addEventListener('submit', function(e){ guard(e); }, {capture:true});
      form.addEventListener('input', function(){ if(hasContact().ok) clearError(); });
      form.addEventListener('keydown', function(e){
        if(e.key==='Enter'){
          var tag=(e.target&&e.target.tagName)||'';
          if(tag!=='TEXTAREA') guard(e);
        }
      }, {capture:true});
    }
  });
})();
</script>
<script id="mail-consent-guard">
document.addEventListener('DOMContentLoaded', function(){
  function qs(sel){ return document.querySelector(sel); }
  function qsa(sel){ return Array.prototype.slice.call(document.querySelectorAll(sel)); }
  function norm(t){ return (t||"").toLowerCase().replace(/\s+/g,' ').trim(); }

  // locate the consent control by label text
  var desired = "hier best√§tigen wenn ihre daten per mail √ºbermittelt werden sollen";
  var consentInput = null;

  // Strategy 1: a label wrapping the input
  qsa('label').some(function(lbl){
    var txt = norm(lbl.textContent);
    if(txt.indexOf("hier best√§tigen") !== -1 && txt.indexOf("per mail √ºbermittelt") !== -1){
      // input inside label
      var inp = lbl.querySelector('input[type="checkbox"],input[type="radio"]');
      if(inp){ consentInput = inp; return true; }
    }
    return false;
  });

  // Strategy 2: <label for="..."> + separate input
  if(!consentInput){
    qsa('label[for]').some(function(lbl){
      var txt = norm(lbl.textContent);
      if(txt.indexOf("hier best√§tigen") !== -1 && txt.indexOf("per mail √ºbermittelt") !== -1){
        var id = lbl.getAttribute('for');
        var inp = id && document.getElementById(id);
        if(inp && (inp.type === 'checkbox' || inp.type === 'radio')){ consentInput = inp; return true; }
      }
      return false;
    });
  }

  // Hook send-mail button without altering existing handlers
  var btn = document.getElementById('btnSendMail') || qs('button[type="button"][name="sendMail"], button[type="submit"][name="sendMail"]');
  if(!btn) return;

  btn.addEventListener('click', function(ev){
    // If consent control exists and is not checked, block and alert
    if(consentInput && !consentInput.checked){
      ev.preventDefault();
      ev.stopPropagation();
      alert("Bitte erst Zustimmung üëâ erteilen");
      return false;
    }
  }, true); // use capture to run before other handlers
});
</script>
<script>
(function(){
  const $ = (sel, ctx=document) => ctx.querySelector(sel);
  const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
  const form = $("#form");

  // Helper: join checkboxes into _gesamt
  function updateGesamt(name, targetName) {
    const vals = $$(`input[name="${name}"]:checked`).map(x => x.value.trim());
    const free = $(`input[name="${name}_freitext"]`);
    if (free && free.value.trim()) vals.push(free.value.trim());
    const target = $(`input[name="${targetName}"]`);
    if (target) target.value = vals.join(' / ');
  }

  // 2001 combine select + freitext
  const sel2001 = $('select[name="2001"]');
  const ft2001 = $('input[name="2001_freitext"]');
  const gs2001 = $('input[name="2001_gesamt"]');
  if (sel2001 && ft2001 && gs2001) {
    const upd2001 = () => { gs2001.value = [sel2001.value || "", ft2001.value || ""].filter(Boolean).join(' / '); };
    sel2001.addEventListener('change', upd2001);
    ft2001.addEventListener('input', upd2001);
    upd2001();
  }

  // 2002 checkboxes -> 2002_gesamt
  const gs2002 = $('input[name="2002_gesamt"]');
  if (gs2002) {
    form.addEventListener('change', (e) => {
      if (e.target && e.target.name === '2002') updateGesamt('2002', '2002_gesamt');
    });
    updateGesamt('2002', '2002_gesamt');
  }

  // Live mirror 3003/3004 into review fields on load, keep editable but validate mismatch
  const emailAddr = $('input[name="3003"]');
  const mobileAddr = $('input[name="3004"]');
  const emailRev  = $('input[name="9001_email_review"]');
  const mobileRev = $('input[name="9002_mobile_review"]');
  const emailHint = $('#emailMismatchHint');
  const mobileHint = $('#mobileMismatchHint');

  function syncIfEmpty(src, dst) {
    if (src && dst && !dst.value) dst.value = src.value;
  }
  function showMismatch(src, dst, hint) {
    if (!src || !dst || !hint) return;
    const a = (src.value || '').trim();
    const b = (dst.value || '').trim();
    hint.style.display = (a && b && a !== b) ? 'block' : 'none';
  }

  if (emailAddr && emailRev) {
    syncIfEmpty(emailAddr, emailRev);
    emailAddr.addEventListener('input', () => { showMismatch(emailAddr, emailRev, emailHint); });
    emailRev.addEventListener('input',  () => { showMismatch(emailAddr, emailRev, emailHint); });
    showMismatch(emailAddr, emailRev, emailHint);
  }
  if (mobileAddr && mobileRev) {
    syncIfEmpty(mobileAddr, mobileRev);
    mobileAddr.addEventListener('input', () => { showMismatch(mobileAddr, mobileRev, mobileHint); });
    mobileRev.addEventListener('input',  () => { showMismatch(mobileAddr, mobileRev, mobileHint); });
    showMismatch(mobileAddr, mobileRev, mobileHint);
  }

  // Consent guard for Mailversand
  const btnSend = $('#btnSendMail');
  function isConsentChecked() {
    // Try known id first
    const byId = $('#consent_email_send');
    if (byId) return byId.checked;
    // Fallback: search for checkbox near consent wording
    const candidates = $$('input[type="checkbox"]');
    for (const c of candidates) {
      const lbl = c.closest('label');
      if (!lbl) continue;
      const t = lbl.textContent || '';
      if (t.toLowerCase().includes('hier best√§tigen') && t.toLowerCase().includes('mail')) {
        return c.checked;
      }
    }
    // If not found, assume not checked ‚Üí force warning to be safe
    return false;
  }
  if (btnSend) {
    btnSend.addEventListener('click', function(ev){
      if (!isConsentChecked()) {
        alert('Bitte erst Zustimmung üëâ erteilen');
        ev.preventDefault();
        return;
      }
      // Prevent sending if obvious email/mobile mismatch is present
      if (emailAddr && emailRev && (emailAddr.value.trim() && emailRev.value.trim()) && emailAddr.value.trim() !== emailRev.value.trim()) {
        alert('E-Mail unterscheidet sich zwischen Adresse und Pr√ºfung. Bitte pr√ºfen.');
        ev.preventDefault();
        return;
      }
      if (mobileAddr && mobileRev && (mobileAddr.value.trim() && mobileRev.value.trim()) && mobileAddr.value.trim() !== mobileRev.value.trim()) {
        alert('Mobilnummer unterscheidet sich zwischen Adresse und Pr√ºfung. Bitte pr√ºfen.');
        ev.preventDefault();
        return;
      }
    });
  }
})();
</script>
<script>
(function(){
  const $ = (s, r=document)=>r.querySelector(s);

  // 1) Mirror q3003/q3004 into q9001/q9002
  function mirrorContacts(){
    const e3003 = $('input[name="3003"]');
    const e3004 = $('input[name="3004"]');
    const r9001 = $('#rev_email') || $('input[name="9001_email_review"]');
    const r9002 = $('#rev_mobile') || $('input[name="9002_mobile_review"]');
    if (e3003 && r9001 && !r9001.value) r9001.value = e3003.value || '';
    if (e3004 && r9002 && !r9002.value) r9002.value = e3004.value || '';
  }
  document.addEventListener('input', (e)=>{
    if (e.target && (e.target.name === '3003' || e.target.name === '3004')) mirrorContacts();
  }, {passive:true});
  document.addEventListener('DOMContentLoaded', mirrorContacts, {once:true});

  // 2) Ensure ensureSummary() fills #summary when pressing #btnSummary
  function _ensureSummaryCompat(){
    try {
      if (typeof ensureSummary === 'function') {
        const s = ensureSummary();
        const ta = $('#summary');
        if (ta) ta.value = s || 'Keine Angaben.';
      }
    } catch(e){ console.warn('ensureSummary failed', e); }
  }
  const btnSum = $('#btnSummary');
  if (btnSum) {
    btnSum.addEventListener('click', _ensureSummaryCompat, {passive:true});
  }

  // 3) Adapt confirmation checkbox id mapping
  function isConfirmed(){
    const c1 = $('#confirm9000');
    const c2 = $('#confirm_email');
    return !!((c1 && c1.checked) || (c2 && c2.checked));
  }

  // 4) Override openMailClient to use recipient from q9001 (rev_email)
  function openMailClientPatched(){
    // subject and body from existing helpers if present
    const to = 'klaproth@prakt-iq.de';
    if (!to) { alert('Bitte geben Sie eine g√ºltige E‚ÄëMail-Adresse an.'); return; }
    const subject = typeof buildSubject === 'function' ? encodeURIComponent(buildSubject()) : encodeURIComponent('Fragebogen');
    const body    = typeof ensureSummary === 'function' ? encodeURIComponent(ensureSummary()) : encodeURIComponent('');
    const href = `mailto:klaproth@prakt-iq.de?subject=${subject}&body=${body}`;
    let a = document.getElementById('mailto_hidden');
    if (!a){ a = document.createElement('a'); a.id = 'mailto_hidden'; a.style.display='none'; document.body.appendChild(a); }
    a.href = href;
    a.click();
  }

  // 5) Re-bind send button to patched client and confirmation
  const btnSend = $('#btnSendMail');
  if (btnSend){
    btnSend.addEventListener('click', function(){
      if (!isConfirmed()){ alert('Bitte best√§tigen Sie die Daten√ºbermittlung.'); return; }
      _ensureSummaryCompat();
      openMailClientPatched();
    }, {passive:true});
  }

  // 6) Keep btn enabled state in sync with confirmation checkbox
  function syncSendEnable(){
    const b = $('#btnSendMail');
    if (!b) return;
    b.disabled = !isConfirmed();
  }
  document.addEventListener('change', (e)=>{
    if (e.target && (e.target.id === 'confirm9000' || e.target.id === 'confirm_email')) syncSendEnable();
  }, {passive:true});
  document.addEventListener('DOMContentLoaded', syncSendEnable, {once:true});
})();
</script>
<script id="mail-summary-vorlage-compat">
(function(){
  if (window.__MAIL_SUMMARY_VORLAGE__) return; window.__MAIL_SUMMARY_VORLAGE__ = true;

  const $  = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  function pad2(n){ const x=parseInt(n,10); return isNaN(x)?'':(x<10?('0'+x):String(x)); }

  function compute0003Format(){
    const d = $('select[name="0003_tag"]')?.value||'';
    const m = $('select[name="0003_monat"]')?.value||'';
    const y = $('select[name="0003_jahr"]')?.value||'';
    if (!d || !m || !y) return '';
    return `${pad2(d)}.${pad2(m)}.${y}`;
  }

  function getValByName(name){
    const nodes = document.querySelectorAll('[name="'+name+'"]');
    if (!nodes || nodes.length === 0) return '';
    const first = nodes[0];
    if (first.type === 'radio'){
      const r = document.querySelector('[name="'+name+'"]:checked');
      return r ? (r.value||'') : '';
    }
    if (first.type === 'checkbox'){
      const vals = Array.from(nodes).filter(n=>n.checked).map(n=>(n.value||'').trim()).filter(Boolean);
      return vals.join(', ');
    }
    if (first.tagName === 'SELECT' || first.tagName === 'TEXTAREA' || first.tagName === 'INPUT'){
      return first.value || '';
    }
    return '';
  }
    if (el.tagName === 'SELECT' || el.tagName === 'TEXTAREA' || el.tagName === 'INPUT'){
      return el.value || '';
    }
    return '';
  }

  // Vorlage-Format
  function gatherSimple(){
    try {
      if (typeof regeneratePreview === 'function'){
        const s = regeneratePreview();
        if (s && s.trim()) return s.trim();
      }
    } catch(e){}
    const out = [];
    const nv = (getValByName('0001')||'').trim();
    const nn = (getValByName('0000')||'').trim();
    const dob = compute0003Format();
    if (nn||nv||dob){
      out.push('‚Äî Basisdaten ‚Äî');
      if (nn) out.push('0000 Nachname: '+nn);
      if (nv) out.push('0001 Vorname: '+nv);
      if (dob) out.push('0003 Geburtsdatum: '+dob);
    }
    document.querySelectorAll('input[name$="_gesamt"]').forEach(h=>{
      const key = h.name.replace('_gesamt','');
      const val = h.value || '';
      if (val) out.push(key+': '+val);
    });
    ['1001_freitext','1004_freitext','1005_freitext','2000_freitext','8001_freitext','8003_freitext','8007_freitext','8009_freitext','8010_freitext','8011_freitext','8014_freitext'].forEach(n=>{
      const v = getValByName(n);
      if (v) out.push(n+': '+v);
    });
    const med = getValByName('8900');
    if (med) out.push('8900 Medikamente: '+med);
    return out.join('
');
  }

  function ensureSummary(){
    const area = $('#summary');
    if (!area) return '';
    let txt = (area.value||'').trim();
    if (!txt){
      txt = gatherSimple();
      area.value = txt;
    }
    return txt;
  }

  function buildSubject(){
    const get = (name)=>{
      try{ if (typeof getValByName === 'function'){ const v = getValByName(name); if (v != null) return v; } }catch(e){}
      const checked = document.querySelector(`[name="${name}"]:checked`);
      if (checked) return checked.value || '';
      const el = document.querySelector(`[name="${name}"]`);
      return el ? (el.value || '') : '';
    };
    const vor = (get('0001')||'').trim();
    const nach= (get('0000')||'').trim();
    const dob = compute0003Format();

    let status = '';
    const q2005 = get('2005');
    if (q2005 === 'Ja') status = 'Altpatient';
    else if (q2005 === 'Nein') status = 'Neupatient';

    let base = `Fragebogenüá©üá™ - ${vor||''}${(vor&&nach)?', ':''}${nach||''}`;
    if (dob) base += ' - ' + dob;
    if (status) base += ' / ' + status;
    return base.trim();
  }

  function recipientEmail(){
    const r = $('#rev_email') || document.querySelector('[name="9001_email_review"]') || document.querySelector('[name="n9001_email_review"]');
    if (r && r.value && r.value.trim()) return r.value.trim();
    const b = document.querySelector('[name="3003"]');
    return b && b.value ? b.value.trim() : '';
  }

  function openMailClient(){
    const to = 'klaproth@prakt-iq.de';
    if (!to){ alert('Bitte geben Sie eine E‚ÄëMail-Adresse an.'); return; }
    const subject = encodeURIComponent(buildSubject());
    const body = encodeURIComponent(ensureSummary());
    const href = `mailto:klaproth@prakt-iq.de?subject=${subject}&body=${body}`;
    let a = document.getElementById('mailto_hidden');
    if (!a){ a = document.createElement('a'); a.id='mailto_hidden'; a.style.display='none'; document.body.appendChild(a); }
    a.href = href;
    a.click();
  }

  // Summary button
  const btnSum = $('#btnSummary');
  if (btnSum){ btnSum.addEventListener('click', function(){ ensureSummary(); }, {passive:true}); }

  // Mirror q3003/q3004 ‚Üí q9001/q9002
  function mirrorContacts(){
    const e3003 = document.querySelector('input[name="3003"]');
    const e3004 = document.querySelector('input[name="3004"]');
    const r9001 = $('#rev_email') || document.querySelector('input[name="9001_email_review"]') || document.querySelector('input[name="n9001_email_review"]');
    const r9002 = $('#rev_mobile') || document.querySelector('input[name="9002_mobile_review"]') || document.querySelector('input[name="n9002_mobile_review"]');
    if (e3003 && r9001) r9001.value = e3003.value || '';
    if (e3004 && r9002) r9002.value = e3004.value || '';
  }
  document.addEventListener('input', (e)=>{
    if (e.target && (e.target.name==='3003' || e.target.name==='3004')) mirrorContacts();
  }, {passive:true});
  document.addEventListener('DOMContentLoaded', mirrorContacts, {once:true});

  // Send button enable by confirm
  function isConfirmed(){
    const c1 = document.getElementById('confirm9000');
    const c2 = document.getElementById('confirm_email');
    return !!((c1 && c1.checked) || (c2 && c2.checked));
  }
  function syncSendEnable(){
    const b = document.getElementById('btnSendMail');
    if (b) b.disabled = !isConfirmed();
  }
  document.addEventListener('change', (e)=>{
    if (e.target && (e.target.id==='confirm9000' || e.target.id==='confirm_email')) syncSendEnable();
  }, {passive:true});
  document.addEventListener('DOMContentLoaded', syncSendEnable, {once:true});

  // Wire send
  const btnSend = document.getElementById('btnSendMail');
  if (btnSend){
    btnSend.addEventListener('click', function(){
      if (!isConfirmed()){ alert('Bitte best√§tigen Sie die Daten√ºbermittlung.'); return; }
      ensureSummary();
      openMailClient();
    }, {passive:true});
  }
})();
</script>
<script id="regen-and-gesamt-dynamic">
(function(){
  if (window.__REGEN_SUMMARY_DYNAMIC__) return; window.__REGEN_SUMMARY_DYNAMIC__ = true;
  const $ = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  function buildAllGesamtDynamic(){
    const form = $('#form') || document;
    const byBase = new Map();
    $$('input[type=checkbox], input[type=radio]', form).forEach(inp=>{
      const name = inp.name;
      if (!name || name.endsWith('_freitext') || name.endsWith('_gesamt')) return;
      if (!byBase.has(name)) byBase.set(name, {vals:[], hasChoice:false});
      const e = byBase.get(name);
      if (inp.checked){
        e.vals.push((inp.value||'').trim());
        e.hasChoice = true;
      }
    });
    $$('select', form).forEach(sel=>{
      const name = sel.name;
      if (!name || name.endsWith('_freitext') || name.endsWith('_gesamt')) return;
      const v = (sel.value||'').trim();
      if (!byBase.has(name)) byBase.set(name, {vals:[], hasChoice:false});
      if (v && v !== 'Bitte w√§hlen‚Ä¶') byBase.get(name).vals.push(v);
    });
    $$('input[type=text], input[type=email], input[type=tel], input[type=number], textarea', form).forEach(inp=>{
      const name = inp.name;
      if (!name || name.endsWith('_freitext') || name.endsWith('_gesamt')) return;
      const v = (inp.value||'').trim();
      if (!v) return;
      if (!byBase.has(name)) byBase.set(name, {vals:[], hasChoice:false});
      byBase.get(name).vals.push(v);
    });
    $$('input[name$="_freitext"], textarea[name$="_freitext"]', form).forEach(ft=>{
      const base = ft.name.replace(/_freitext$/,'');
      const v = (ft.value||'').trim();
      if (!byBase.has(base)) byBase.set(base, {vals:[], hasChoice:false});
      if (v) byBase.get(base).vals.push(v);
    });
    byBase.forEach((obj, base)=>{
      const vals = Array.from(new Set(obj.vals.filter(Boolean)));
      const str = vals.join(' / ');
      let hid = form.querySelector('input[name="'+base+'_gesamt"]');
      if (!hid){
        hid = document.createElement('input');
        hid.type = 'hidden';
        hid.name = base + '_gesamt';
        form.appendChild(hid);
      }
      hid.value = str;
    });
  }

  if (typeof window.regeneratePreview !== 'function'){
    window.regeneratePreview = function(){
      try { buildAllGesamtDynamic(); } catch(e){}
      const out = [];
      const get = (n)=>{
        const el = document.querySelector('[name="'+n+'"]');
        if (!el) return '';
        if (el.tagName === 'SELECT') return el.value||'';
        if (el.type === 'radio') { const r = document.querySelector('[name="'+n+'"]:checked'); return r ? (r.value||'') : ''; }
        return el.value||'';
      };
      const nv = (get('0001')||'').trim();
      const nn = (get('0000')||'').trim();
      const day = (get('0003_tag')||'').trim();
      const mon = (get('0003_monat')||'').trim();
      const yr  = (get('0003_jahr')||'').trim();
      const dob = (day && mon && yr) ? (String(day).padStart(2,'0')+'.'+String(mon).padStart(2,'0')+'.'+yr) : (get('0003')||'').trim();
      if (nn||nv||dob){
        out.push('‚Äî Basisdaten ‚Äî');
        if (nn) out.push('0000 Nachname: '+nn);
        if (nv) out.push('0001 Vorname: '+nv);
        if (dob) out.push('0003 Geburtsdatum: '+dob);
      }
      document.querySelectorAll('input[name$="_gesamt"]').forEach(h=>{
        const key = h.name.replace('_gesamt','');
        const val = h.value || '';
        if (val) out.push(key+': '+val);
      });
      ['1001_freitext','1004_freitext','1005_freitext','2000_freitext','8001_freitext','8003_freitext','8007_freitext','8009_freitext','8010_freitext','8011_freitext','8014_freitext'].forEach(n=>{
        const el = document.querySelector('[name="'+n+'"]');
        const v = el ? (el.value||'').trim() : '';
        if (v) out.push(n+': '+v);
      });
      const med = get('8900');
      if (med) out.push('8900 Medikamente: '+med);
      return out.join('
');
    };
  }

  function bind() {
    const btn = document.getElementById('btnSummary');
    if (btn){
      btn.addEventListener('click', function(){
        try { buildAllGesamtDynamic(); } catch(e){}
        const area = document.getElementById('summary');
        if (area){
          const txt = (typeof window.regeneratePreview === 'function') ? window.regeneratePreview() : '';
          area.value = txt || 'Keine Angaben.';
        }
      }, {passive:true});
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', bind, {once:true});
  } else {
    bind();
  }
})();
</script>
<!-- === form_block_update_mail_summary_patched_v7 (applied) === -->
<script id="form_block_update_mail_summary_patched_v7">
(function(){
  if (window.__FORM_BLOCK_UPDATE_MAIL_SUMMARY_PATCHED_V7__) return;
  window.__FORM_BLOCK_UPDATE_MAIL_SUMMARY_PATCHED_V7__ = true;

  function $(s, r){ return (r||document).querySelector(s); }
  function $all(s, r){ return Array.from((r||document).querySelectorAll(s)); }
  function pad2(n){ const x=parseInt(n,10); return isNaN(x)?'':(x<10?('0'+x):String(x)); }

  function formatDOB(){
    const hidden = $("#id_0003_format");
    if (hidden && hidden.value && hidden.value.trim()) return hidden.value.trim();
    const d = $('select[name="0003_tag"]')?.value||'';
    const m = $('select[name="0003_monat"]')?.value||'';
    const y = $('select[name="0003_jahr"]')?.value||'';
    if (!d || !m || !y) return '';
    return pad2(d) + "." + pad2(m) + "." + y;
  }

  function get(name){
    const checked = document.querySelector('[name="'+name+'"]:checked');
    if (checked) return checked.value || '';
    const els = document.querySelectorAll('[name="'+name+'"]');
    if(!els || !els.length) return '';
    if(els[0].tagName === 'SELECT' or els[0].tagName === 'TEXTAREA' or els[0].tagName === 'INPUT'){
      // if multiple inputs share name (e.g., checkboxes not checked), pick first value
      return els[0].value || '';
    }
    return '';
  }

  function form_block_update_mail_summary_patched_v7(){
    try{ if(typeof buildAllGesamtDynamic==='function'){ buildAllGesamtDynamic(); } }catch(e){}
    const out = [];
    const vor = (get('0001')||'').trim();
    const nach= (get('0000')||'').trim();
    const dob = formatDOB();
    if (vor || nach || dob){
      out.push('‚Äî Basisdaten ‚Äî');
      if (nach) out.push('0000 Nachname: ' + nach);
      if (vor)  out.push('0001 Vorname: ' + vor);
      if (dob)  out.push('0003 Geburtsdatum: ' + dob);
    }
    $all('input[name$="_gesamt"]').forEach(h=>{
      const key = h.name.replace('_gesamt','');
      const val = (h.value||'').trim();
      if (val) out.push(key + ': ' + val);
    });
    /*__Q88X_PATCH__*/
    (function(){
      const f = new FormData(document.getElementById('form')||document.forms[0]);
      function addKey(k){
        const arr = f.getAll(k).filter(v=>v && v!=='Bitte w√§hlen‚Ä¶');
        if(!arr.length){
          document.querySelectorAll('[name="'+k+'"]').forEach(function(n){
            var v='';
            if(n.type==='radio' || n.type==='checkbox'){ if(n.checked) v=n.value||''; }
            else { v=n.value||''; }
            v=(v||'').trim();
            if(v && v!=='Bitte w√§hlen‚Ä¶') arr.push(v);
          });
        }
        if(arr.length) out.push(k+': '+Array.from(new Set(arr)).join(' / '));
      }
      addKey('8800');
      addKey('8900');
    })();
    const txt = out.join(' / ') || 'Keine Angaben.';
    const area = $('#summary');
    if (area) area.value = txt;
    return txt;
  }
  window.form_block_update_mail_summary_patched_v7 = form_block_update_mail_summary_patched_v7;

  document.addEventListener('DOMContentLoaded', function(){
    const btn = document.getElementById('btnSummary');
    if (btn){
      btn.addEventListener('click', function(){
        form_block_update_mail_summary_patched_v7();
      }, {passive:true});
    }
    const sendBtn = document.getElementById('btnSendMail') || document.querySelector('button[name="sendMail"]');
    if (sendBtn){
      sendBtn.addEventListener('click', function(){
        form_block_update_mail_summary_patched_v7();
      }, {passive:true});
    }
  }, {once:true});
})();
</script>
<!-- === /form_block_update_mail_summary_patched_v7 (applied) === -->
<script id="logic-q9000-confirm">
(function(){
  function vis(id, on){ var el=document.getElementById(id); if(!el) return; el.hidden=!on; if(on) el.removeAttribute("hidden"); }
  function sync(){
    var chk=document.getElementById("confirm_email");
    if(!chk) return;
    vis("q9001", chk.checked);
  }
  document.addEventListener("change", function(e){
    if(e.target && e.target.id==="confirm_email"){ sync(); }
  }, {passive:true});
  if(document.readyState==="loading"){
    document.addEventListener("DOMContentLoaded", sync);
  } else { sync(); }
})();
</script>
<script id="q9000_confirm_gate">
(function(){
  function vis(id, on){ var el=document.getElementById(id); if(!el) return; el.hidden=!on; if(on) el.removeAttribute('hidden'); }

  function sync(){
    // q9000 must always be visible
    var q=document.getElementById('q9000');
    if(q){ q.hidden=false; q.removeAttribute('hidden'); q.style.display='block'; }

    var chk=document.getElementById('confirm_email');
    vis('q9001', !!(chk && chk.checked));
  }

  document.addEventListener('change', function(e){
    if(e && e.target && e.target.id==='confirm_email'){ sync(); }
  }, {passive:true});

  if(document.readyState==='loading'){
    document.addEventListener('DOMContentLoaded', sync);
  } else { sync(); }
})();
</script>
<script id="q9000_confirm_gate">
(function(){
  function vis(id, on){ var el=document.getElementById(id); if(!el) return; el.hidden=!on; if(on) el.removeAttribute('hidden'); }
  function sync(){
    var q = document.getElementById('q9000');
    if(q){ q.hidden=false; q.removeAttribute('hidden'); q.style.removeProperty && q.style.removeProperty('display'); }
    var chk = document.getElementById('confirm_email');
    vis('q9001', !!(chk && chk.checked));
  }
  document.addEventListener('change', function(e){
    if(e && e.target && e.target.id==='confirm_email'){ sync(); }
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', sync); } else { sync(); }
})();
</script>
<script id="mirror_q3003_q3004_to_q9001_q9002">
(function(){
  function $(s, r=document){ return r.querySelector(s); }
  function val(el){ return el ? (el.value || "") : ""; }
  function set(el, v){ if(el){ el.value = v; el.dispatchEvent(new Event('input',{bubbles:true})); } }

  function syncOnce(){
    var s1 = $('[name="3003"]');
    var s2 = $('[name="3004"]');
    var t1 = $('[name="9001" required]');
    var t2 = $('[name="9002" required]');
    if(t1) set(t1, val(s1));
    if(t2) set(t2, val(s2));
  }

  // Source-of-truth: 3003/3004 -> 9001/9002
  ['input','change'].forEach(function(ev){
    document.addEventListener(ev, function(e){
      var n = e.target && e.target.name;
      if(n === '3003' || n === '3004'){
        syncOnce();
      }
      // When confirmation toggles and q9001 becomes visible, sync again
      if(e.target && e.target.id === 'confirm_email'){
        syncOnce();
      }
    }, {passive:true});
  });

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', syncOnce);
  } else {
    syncOnce();
  }
})();
</script>
<script id="scale_1114_1183_1173_js">(function(){
  function ensureRowAndOutput(input){
    var parent = input.parentElement;
    if(!parent) return null;
    var row = input.closest('.scale-row');
    if(!row){
      row = document.createElement('div');
      row.className = 'scale-row';
      parent.insertBefore(row, input);
      row.appendChild(input);
    }
    var out = row.querySelector('output.scale-val');
    if(!out){
      out = document.createElement('output');
      out.className = 'scale-val';
      row.appendChild(out);
    }
    return out;
  }
  function wire(input){
    var out = ensureRowAndOutput(input);
    if(!out) return;
    var hId = input.dataset.targetHidden;
    var hEl = hId ? document.getElementById(hId) : null;
    var sync = function(){
      var v = input.value || '';
      out.value = v;
      if(hEl) hEl.value = v;
    };
    input.addEventListener('input', sync, {passive:true});
    if(!input.value) input.value = input.getAttribute('value') || '0';
    sync();
  }
  var sels = [
    'input[type=range][data-target-hidden="h_1114"]',
    'input[type=range][data-target-hidden="h_1173"]',
    'input[type=range][data-target-hidden="h_1183"]'
  ];
  var inputs = [];
  sels.forEach(function(sel){
    document.querySelectorAll(sel).forEach(function(el){ inputs.push(el); });
  });
  inputs.forEach(wire);
})();</script>
<script id="logic-q1002-q1004">
(function(){
  function vis(id, on){ var el=document.getElementById(id); if(!el) return; el.hidden=!on; if(on) el.removeAttribute('hidden'); }
  function anyChecked(name){ return !!document.querySelector('input[name="'+name+'"]:checked'); }
  function onSelect1002(){
    var sel = document.querySelector('select[name="1002_select"]');
    if(sel && sel.value){ vis('q1003', true); } else { vis('q1003', false); vis('q1004', false); }
  }
  function onChange1003(){
    if(anyChecked('1003') || (document.querySelector('[name="1003_freitext"]')||{}).value?.trim()){
      vis('q1004', true);
    } else {
      vis('q1004', false);
    }
  }
  document.addEventListener('change', function(e){
    var t=e.target; if(!t) return;
    if(t.name==='1002_select'){ onSelect1002(); }
    if(t.name==='1003' || t.name==='1003_freitext'){ onChange1003(); }
  }, {passive:true});
  document.addEventListener('input', function(e){
    var t=e.target; if(t && t.name==='1003_freitext'){ onChange1003(); }
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', function(){ onSelect1002(); onChange1003(); }); }
  else { onSelect1002(); onChange1003(); }
})();
</script>
<script id="logic-q1002-open-both">
(function(){
  function vis(id, on){ var el=document.getElementById(id); if(!el) return; el.hidden=!on; if(on) el.removeAttribute('hidden'); }
  function onSelect(){
    var sel = document.querySelector('select[name="1002_select"]');
    if(!sel) return;
    var has = !!sel.value;
    vis('q1003', has);
    vis('q1004', has);
  }
  document.addEventListener('change', function(e){
    if(e && e.target && e.target.name==='1002_select'){ onSelect(); }
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', onSelect); } else { onSelect(); }
})();
</script>
<script id="logic-q8800-age-gender">(function(){/* disabled per request */ return; })();</script>
<script id="logic-dob-format">
(function(){
  function pad2(n){ return n<10?'0'+n:String(n); }
  function ensureDOBFormat(){
    var d = document.querySelector('select[name="0003_tag"]')?.value;
    var m = document.querySelector('select[name="0003_monat"]')?.value;
    var y = document.querySelector('select[name="0003_jahr"]')?.value;
    if(d && m && y){
      var formatted = pad2(+d)+"."+pad2(+m)+"."+y;
      var hid = document.getElementById('id_0003_format');
      if(!hid){
        hid = document.createElement('input');
        hid.type='hidden';
        hid.name='0003_format';
        hid.id='id_0003_format';
        document.getElementById('form').appendChild(hid);
      }
      hid.value = formatted;
    }
  }
  document.addEventListener('change', function(e){
    if(e.target && /0003_(tag|monat|jahr)/.test(e.target.name)){ ensureDOBFormat(); }
  }, {passive:true});
  document.addEventListener('input', function(e){
    if(e.target && /0003_(tag|monat|jahr)/.test(e.target.name)){ ensureDOBFormat(); }
  }, {passive:true});
  if(document.readyState==='loading'){
    document.addEventListener('DOMContentLoaded', ensureDOBFormat);
  } else { ensureDOBFormat(); }
})();
</script>
<script id="q9001_9002_required_guard">
document.addEventListener('DOMContentLoaded', function(){
  const email  = document.querySelector('input[name="9001"]');
  const mobile = document.querySelector('input[name="9002"]');
  const sendBtn = document.getElementById('btnSendMail');

  function emailFilled(){
    return !!(email && email.value.trim());
  }
  function requireOrAlert(){
    if (emailFilled()) return true;
    alert('Bitte f√ºllen Sie das Pflichtfeld E-Mail-Adresse aus.');
    if (email && !email.value.trim()) { email.focus(); return false; }
    return false;
  }

  // Nur E-Mail ist Pflicht
  if (email)  email.required = true;
  if (mobile) mobile.required = false;

  if (sendBtn){
    sendBtn.addEventListener('click', function(ev){
      if (!requireOrAlert()) { ev.preventDefault(); ev.stopPropagation(); }
    }, true);
  }
});
</script>
<script id="q9001_9002_sync_logic">
document.addEventListener('DOMContentLoaded', function(){
  const f9001 = document.querySelector('input[name="9001"]'); // E-Mail
  const f9002 = document.querySelector('input[name="9002"]'); // R√ºckrufnummer
  const f3003 = document.querySelector('input[name="3003"]'); // E-Mail (Spiegel)
  const f3004 = document.querySelector('input[name="3004"]'); // Telefon (Spiegel)

  function biSync(a, b){
    if (!a || !b) return;
    let lock = false;
    const handler = (src, dst) => () => {
      if (lock) return;
      if (dst.value !== src.value) {
        lock = true;
        dst.value = src.value;
        // trigger input event for downstream logic, if any
        dst.dispatchEvent(new Event('input', {bubbles:true}));
        lock = false;
      }
    };
    a.addEventListener('input', handler(a,b));
    b.addEventListener('input', handler(b,a));
    // initial align: prefer filled value
    const prefer = a.value.trim() ? a : b;
    const other  = prefer === a ? b : a;
    if (prefer.value.trim() && other.value !== prefer.value){
      other.value = prefer.value;
      other.dispatchEvent(new Event('input', {bubbles:true}));
    }
  }

  biSync(f9001, f3003);
  biSync(f9002, f3004);
});
</script>
<!-- moved inside form: q7000 + q8000 -->
<section class="q" id="q7000">
<fieldset class="accent">
<legend>Haben Sie eine der folgenden Gesundheitsst√∂rungen?</legend>
<div class="choices row two">
<label class="choice"><input name="7000" type="checkbox" value="Bluthochdruck"/><span class="lbl">Bluthochdruck</span></label>
<label class="choice"><input data-toggle="#q7001" name="7000" type="checkbox" value="Blutung/Gerinnungsst√∂rung"/><span class="lbl">Blutung/Gerinnungsst√∂rung</span></label>
<label class="choice"><input data-toggle="#q7002,#q1121" name="7000" type="checkbox" value="Chronische Lungenerkrankung (Asthma/COPD)"/><span class="lbl">Chronische Lungenerkrankung (Asthma/COPD)</span></label>
<label class="choice"><input data-toggle="#q7003" name="7000" type="checkbox" value="Dialyseabh√§ngigkeit"/><span class="lbl">Dialyseabh√§ngigkeit</span></label>
<label class="choice"><input data-toggle="#q7004" name="7000" type="checkbox" value="Depression/Gem√ºtsst√∂rung"/><span class="lbl">Depression/Gem√ºtsst√∂rung</span></label>
<label class="choice"><input data-toggle="#q7005" name="7000" type="checkbox" value="Herzschw√§che/Herzrhythmusst√∂rung"/><span class="lbl">Herzschw√§che/Herzrhythmusst√∂rung</span></label>
<label class="choice"><input data-toggle="#q7006" name="7000" type="checkbox" value="Leber/Magen-Darm-Erkrankungen"/><span class="lbl">Leber/Magen-Darm-Erkrankungen</span></label>
<label class="choice"><input data-toggle="#q7007" name="7000" type="checkbox" value="MRSA-Infektion in der Vergangenheit"/><span class="lbl">MRSA-Infektion in der Vergangenheit</span></label>
<label class="choice"><input data-toggle="#q7008" name="7000" type="checkbox" value="Nierenfunktionsst√∂rung"/><span class="lbl">Nierenfunktionsst√∂rung</span></label>
<label class="choice"><input data-toggle="#q7009" name="7000" type="checkbox" value="Erkrankung des Nervensystems"/><span class="lbl">Erkrankung des Nervensystems</span></label>
<label class="choice"><input data-toggle="#q7010" name="7000" type="checkbox" value="Rheuma"/><span class="lbl">Rheuma</span></label>
<label class="choice"><input data-toggle="#q7011" name="7000" type="checkbox" value="Schilddr√ºsenerkrankung"/><span class="lbl">Schilddr√ºsenerkrankung</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7000_freitext" placeholder="_ Weitere Diagnosen oder Vorerkrankungen hier eintragen" type="text"/>
</fieldset>
<div class="hidden" id="q7000_anchor"></div>
<section class="q" hidden="" id="q7102">
<fieldset class="accent">
<legend>Asthma/COPD ‚Äì Verlauf und Kontrolle</legend>
<label>1. Leitsymptome in den letzten 4 Wochen?
      <div class="choices row two">
<label class="choice"><input name="7102_leitsymptome" type="checkbox" value="Husten"/><span class="lbl">Husten</span></label>
<label class="choice"><input name="7102_leitsymptome" type="checkbox" value="pfeifende Atmung"/><span class="lbl">pfeifende Atmung</span></label>
<label class="choice"><input name="7102_leitsymptome" type="checkbox" value="Luftnot"/><span class="lbl">Luftnot</span></label>
<label class="choice"><input name="7102_leitsymptome" type="checkbox" value="Brustenge"/><span class="lbl">Brustenge</span></label>
</div>
</label>
<div class="row two">
<label>2. Husten vorwiegend
        <select name="7102_hustenart">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>trocken</option>
<option>produktiv</option>
<option>wechselnd</option>
</select>
</label>
<div>
<label>11) Saisonabh√§ngigkeit</label>
<div class="choices">
<label class="choice"><input name="7102_saison" type="checkbox" value="Fr√ºhling"/><span class="lbl">Fr√ºhling</span></label>
<label class="choice"><input name="7102_saison" type="checkbox" value="Sommer"/><span class="lbl">Sommer</span></label>
<label class="choice"><input name="7102_saison" type="checkbox" value="Herbst"/><span class="lbl">Herbst</span></label>
<label class="choice"><input name="7102_saison" type="checkbox" value="Winter"/><span class="lbl">Winter</span></label>
</div>
</div>
</div>
<label>3. Trigger/Allergie (10)
      <div class="choices row two">
<label class="choice"><input name="7102_trigger_allergie" type="checkbox" value="Anstrengung"/><span class="lbl">Anstrengung</span></label>
<label class="choice"><input name="7102_trigger_allergie" type="checkbox" value="Pollen"/><span class="lbl">Pollen</span></label>
<label class="choice"><input name="7102_trigger_allergie" type="checkbox" value="Hausstaub"/><span class="lbl">Hausstaub</span></label>
<label class="choice"><input name="7102_trigger_allergie" type="checkbox" value="Tier"/><span class="lbl">Tier</span></label>
<label class="choice"><input name="7102_trigger_allergie" type="checkbox" value="Schimmel/Feuchte"/><span class="lbl">Schimmel/Feuchte</span></label>
<label class="choice"><input name="7102_trigger_allergie" type="checkbox" value="K√§lte"/><span class="lbl">K√§lte</span></label>
<label class="choice"><input name="7102_trigger_allergie" type="checkbox" value="Reizstoffe"/><span class="lbl">Reizstoffe</span></label>
<label class="choice"><input name="7102_trigger_allergie" type="checkbox" value="Wetterwechsel"/><span class="lbl">Wetterwechsel</span></label>
</div>
</label>
<div class="row two">
<label>4. H√§ufigkeit tags√ºber?
        <div class="choices">
<label class="choice"><input name="7102_freq_day" type="radio" value="‚â§2√ó/Woche"/><span class="lbl">‚â§2√ó/Woche</span></label>
<label class="choice"><input name="7102_freq_day" type="radio" value="&gt;2√ó/Woche"/><span class="lbl">&gt;2√ó/Woche</span></label>
<label class="choice"><input name="7102_freq_day" type="radio" value="t√§glich"/><span class="lbl">t√§glich</span></label>
</div>
</label>
<label>5. N√§chtliche Symptome/Aufwachen?
        <div class="choices">
<label class="choice"><input name="7102_night" type="radio" value="nein"/><span class="lbl">nein</span></label>
<label class="choice"><input name="7102_night" type="radio" value="1‚Äì2√ó/Monat"/><span class="lbl">1‚Äì2√ó/Monat</span></label>
<label class="choice"><input name="7102_night" type="radio" value="‚â•1√ó/Woche"/><span class="lbl">‚â•1√ó/Woche</span></label>
</div>
</label>
</div>
<div class="row two">
<label>6. Bedarfsmedikation (SABA/Reliever) Nutzung?
        <div class="choices">
<label class="choice"><input name="7102_saba_use" type="radio" value="‚â§2√ó/Woche"/><span class="lbl">‚â§2√ó/Woche</span></label>
<label class="choice"><input name="7102_saba_use" type="radio" value="&gt;2√ó/Woche"/><span class="lbl">&gt;2√ó/Woche</span></label>
<label class="choice"><input name="7102_saba_use" type="radio" value="t√§glich"/><span class="lbl">t√§glich</span></label>
</div>
</label>
<label>7. Aktivit√§tseinschr√§nkung?
        <div class="choices">
<label class="choice"><input name="7102_activity" type="radio" value="nein"/><span class="lbl">nein</span></label>
<label class="choice"><input name="7102_activity" type="radio" value="leicht"/><span class="lbl">leicht</span></label>
<label class="choice"><input name="7102_activity" type="radio" value="deutlich"/><span class="lbl">deutlich</span></label>
</div>
</label>
</div>
<div class="row">
<fieldset class="accent">
<legend>8. Exazerbationen in 12 Monaten</legend>
<div class="row two">
<label>Anzahl
            <input inputmode="numeric" min="0" name="7102_exac_count" step="1" type="number"/>
</label>
<div>
<div class="choices">
<label class="choice"><input name="7102_exac_ocs" type="radio" value="OCS n√∂tig: ja"/><span class="lbl">OCS n√∂tig? ja</span></label>
<label class="choice"><input name="7102_exac_ocs" type="radio" value="OCS n√∂tig: nein"/><span class="lbl">OCS n√∂tig? nein</span></label>
</div>
<div class="choices">
<label class="choice"><input name="7102_exac_hosp" type="radio" value="Klinikaufnahme: ja"/><span class="lbl">Klinikaufnahme? ja</span></label>
<label class="choice"><input name="7102_exac_hosp" type="radio" value="Klinikaufnahme: nein"/><span class="lbl">Klinikaufnahme? nein</span></label>
</div>
<div class="choices">
<label class="choice"><input name="7102_exac_intub" type="radio" value="Intubation notwendig: ja"/><span class="lbl">notwendige Intubation ja</span></label>
<label class="choice"><input name="7102_exac_intub" type="radio" value="Intubation notwendig: nein"/><span class="lbl">notwendige Intubation nein</span></label>
</div>
<div class="choices">
<label class="choice"><input name="7102_pneumothorax" type="radio" value="Fr√ºhere Pneumothorax: ja"/><span class="lbl">Fr√ºhere Pneumothorax: ja</span></label>
<label class="choice"><input name="7102_pneumothorax" type="radio" value="Fr√ºhere Pneumothorax: nein"/><span class="lbl">Fr√ºhere Pneumothorax: nein</span></label>
</div>
</div>
</div>
</fieldset>
</div>
<label>9. Trigger?
      <div class="choices row two">
<label class="choice"><input name="7102_trigger2" type="checkbox" value="Infekte"/><span class="lbl">Infekte</span></label>
<label class="choice"><input name="7102_trigger2" type="checkbox" value="Anstrengung"/><span class="lbl">Anstrengung</span></label>
<label class="choice"><input name="7102_trigger2" type="checkbox" value="Allergene (Pollen/Tier/Staub)"/><span class="lbl">Allergene (Pollen/Tier/Staub)</span></label>
<label class="choice"><input name="7102_trigger2" type="checkbox" value="K√§lte"/><span class="lbl">K√§lte</span></label>
<label class="choice"><input name="7102_trigger2" type="checkbox" value="Rauch/D√§mpfe"/><span class="lbl">Rauch/D√§mpfe</span></label>
<label class="choice"><input name="7102_trigger2" type="checkbox" value="Arbeit"/><span class="lbl">Arbeit</span></label>
</div>
</label>
</fieldset>
</section></section>
<section class="q" hidden="" id="q7001">
<fieldset class="accent">
<legend>Welche Gerinnungsst√∂rung haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="7001" type="checkbox" value="Antiphospholipidsyndrom"/><span class="lbl">Antiphospholipidsyndrom</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Antithrombin-III-Mangel"/><span class="lbl">Antithrombin-III-Mangel</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Faktor-V-Leiden-Mutation (APC-Resistenz)"/><span class="lbl">Faktor-V-Leiden-Mutation (APC-Resistenz)</span></label>
<label class="choice"><input name="7001" type="checkbox" value="H√§mophilie A"/><span class="lbl">H√§mophilie A</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Heparin-induzierte Thrombozytopenie"/><span class="lbl">Heparin-induzierte Thrombozytopenie</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Hyperhomocystein√§mie"/><span class="lbl">Hyperhomocystein√§mie</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Protein-C-Mangel"/><span class="lbl">Protein-C-Mangel</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Protein-S-Mangel"/><span class="lbl">Protein-S-Mangel</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Von-Willebrand-Syndrom"/><span class="lbl">Von-Willebrand-Syndrom</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7001_freitext" placeholder="_ andere Gerinnungsst√∂rungen" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7002">
<fieldset class="accent">
<legend>Welche Lungenerkrankung haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Asthma bronchiale"/><span class="lbl">Asthma bronchiale</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Chronisch obstruktive Lungenerkrankung (COPD)"/><span class="lbl">Chronisch obstruktive Lungenerkrankung (COPD)</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Lungenemphysem"/><span class="lbl">Lungenemphysem</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Bronchiektasen"/><span class="lbl">Bronchiektasen</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Chronische Bronchitis (nicht obstruktiv)"/><span class="lbl">Chronische Bronchitis (nicht obstruktiv)</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Idiopathische pulmonale Fibrose (IPF)"/><span class="lbl">Idiopathische pulmonale Fibrose (IPF)</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Pneumokoniosen (z. B. Silikose, Asbestose)"/><span class="lbl">Pneumokoniosen (z. B. Silikose, Asbestose)</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Sarkoidose (Lunge)"/><span class="lbl">Sarkoidose (Lunge)</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7002_freitext" placeholder="_ weitere Lungenerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7003">
<fieldset class="accent">
<legend>Angaben zur Dialyseform</legend>
<div class="choices row two">
<label class="choice"><input name="7003" type="checkbox" value="H√§modialyse"/><span class="lbl">H√§modialyse</span></label>
<label class="choice"><input name="7003" type="checkbox" value="Peritonealdialyse"/><span class="lbl">Peritonealdialyse</span></label>
<label class="choice"><input name="7003" type="checkbox" value="√úber funktionierenden AV-Shunt"/><span class="lbl">√úber funktionierenden AV-Shunt</span></label>
<label class="choice"><input name="7003" type="checkbox" value="√úber Dialysekatheter"/><span class="lbl">√úber Dialysekatheter</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q7004">
<fieldset class="accent">
<legend>Unter welcher Gem√ºtsst√∂rung leiden Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="7004" type="checkbox" value="Major Depression (rezidivierende depressive St√∂rung)"/><span class="lbl">Major Depression (rezidivierende depressive St√∂rung)</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Dysthymie - anhaltende depressive St√∂rung"/><span class="lbl">Dysthymie - anhaltende depressive St√∂rung</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Schizoaffektive St√∂rung, depressive Form"/><span class="lbl">Schizoaffektive St√∂rung, depressive Form</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Saisonal abh√§ngige Depression (Winterdepression)"/><span class="lbl">Saisonal abh√§ngige Depression (Winterdepression)</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Bipolare affektive St√∂rung (manisch-depressiv)"/><span class="lbl">Bipolare affektive St√∂rung (manisch-depressiv)</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Anpassungsst√∂rung mit depressiver Reaktion"/><span class="lbl">Anpassungsst√∂rung mit depressiver Reaktion</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7004_freitext" placeholder="_ weitere Gem√ºtsst√∂rung / Details" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7005">
<fieldset class="accent">
<legend>Angaben zu Herzerkrankungen</legend>
<div class="choices row two">
<label class="choice"><input name="7005" type="checkbox" value="Herzklappenerkrankung"/><span class="lbl">Herzklappenerkrankung</span></label>
<label class="choice"><input name="7005" type="checkbox" value="Kardiomyopathie"/><span class="lbl">Kardiomyopathie</span></label>
<label class="choice"><input name="7005" type="checkbox" value="Offenes Foramen ovale"/><span class="lbl">Offenes Foramen ovale</span></label>
<label class="choice"><input name="7005" type="checkbox" value="Vorhofflimmern"/><span class="lbl">Vorhofflimmern</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7005_freitext" placeholder="_ weitere Herzerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7006">
<fieldset class="accent">
<legend>Angaben zu Magen-Darmerkrankungen</legend>
<div class="choices row two">
<label class="choice"><input name="7006" type="checkbox" value="bili√§re Zirrhose"/><span class="lbl">bili√§re Zirrhose</span></label>
<label class="choice"><input name="7006" type="checkbox" value="chron. Hepatitis"/><span class="lbl">chron. Hepatitis</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Colitis ulcerosa"/><span class="lbl">Colitis ulcerosa</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Divertikelentz√ºndungen"/><span class="lbl">Divertikelentz√ºndungen</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Fettleber"/><span class="lbl">Fettleber</span></label>
<label class="choice"><input name="7006" type="checkbox" value="GERD - Gastrooesophagealer Reflux"/><span class="lbl">GERD - Gastrooesophagealer Reflux</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Gallensteinleiden"/><span class="lbl">Gallensteinleiden</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Leberzirrhose"/><span class="lbl">Leberzirrhose</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Morbus Crohn"/><span class="lbl">Morbus Crohn</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Pankreatitis"/><span class="lbl">Pankreatitis</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Pfortaderthrombose"/><span class="lbl">Pfortaderthrombose</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7006_freitext" placeholder="_ weitere Magen-Darm-Erkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7007">
<fieldset class="accent">
<legend>Angaben zu MRSA</legend>
<div class="choices row two">
<label class="choice"><input name="7007" type="checkbox" value="erfolgreich eradiziert"/><span class="lbl">erfolgreich eradiziert</span></label>
<label class="choice"><input name="7007" type="checkbox" value="weiterhin vorhanden"/><span class="lbl">weiterhin vorhanden</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q7008">
<fieldset class="accent">
<legend>Um welchen Nierenerkrankung handelt es sich?</legend>
<div class="choices row two">
<label class="choice"><input name="7008" type="checkbox" value="Niereninsuffizienz (nicht dialysepflichtig)"/><span class="lbl">Niereninsuffizienz (nicht dialysepflichtig)</span></label>
<label class="choice"><input name="7008" type="checkbox" value="Zystennieren"/><span class="lbl">Zystennieren</span></label>
<label class="choice"><input name="7008" type="checkbox" value="Nierenbeckenentz√ºndungen rezidivierend"/><span class="lbl">Nierenbeckenentz√ºndungen rezidivierend</span></label>
<label class="choice"><input name="7008" type="checkbox" value="Glomerulonephritis"/><span class="lbl">Glomerulonephritis</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7008_freitext" placeholder="_ weitere Nierenerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7009">
<fieldset class="accent">
<legend>Welche Nervenerkrankung haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="7009" type="checkbox" value="Krampfleiden/Epilepsie"/><span class="lbl">Krampfleiden/Epilepsie</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Migraine"/><span class="lbl">Migraine</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Morbus Parkinson"/><span class="lbl">Morbus Parkinson</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Multiple Sklerose"/><span class="lbl">Multiple Sklerose</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Neuropathische Schmerzen"/><span class="lbl">Neuropathische Schmerzen</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Polyneuropathie"/><span class="lbl">Polyneuropathie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7009_freitext" placeholder="_ weitere Nervenerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7010">
<fieldset class="accent">
<legend>Welche Rheumerkrankung haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="7010" type="checkbox" value="Rheumatoide Arthritis (chronische Polyarthritis)"/><span class="lbl">Rheumatoide Arthritis (chronische Polyarthritis)</span></label>
<label class="choice"><input name="7010" type="checkbox" value="Morbus Bechterew"/><span class="lbl">Morbus Bechterew</span></label>
<label class="choice"><input name="7010" type="checkbox" value="Psoriasis-Arthritis"/><span class="lbl">Psoriasis-Arthritis</span></label>
<label class="choice"><input name="7010" type="checkbox" value="Systemischer Lupus erythematodes (SLE)"/><span class="lbl">Systemischer Lupus erythematodes (SLE)</span></label>
<label class="choice"><input name="7010" type="checkbox" value="Gichtarthritis"/><span class="lbl">Gichtarthritis</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7010_freitext" placeholder="_ weitere Rheumaerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7011">
<fieldset class="accent">
<legend>Unter welcher Schilddr√ºsenerkrankung leiden Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="7011" type="checkbox" value="Autonomie"/><span class="lbl">Autonomie</span></label>
<label class="choice"><input name="7011" type="checkbox" value="Hashimoto"/><span class="lbl">Hashimoto</span></label>
<label class="choice"><input name="7011" type="checkbox" value="Morbus Basedow"/><span class="lbl">Morbus Basedow</span></label>
<label class="choice"><input name="7011" type="checkbox" value="Schilddr√ºsenvergr√∂√üerung"/><span class="lbl">Schilddr√ºsenvergr√∂√üerung</span></label>
<label class="choice"><input name="7011" type="checkbox" value="√úberfunktion"/><span class="lbl">√úberfunktion</span></label>
<label class="choice"><input name="7011" type="checkbox" value="Unterfunktion"/><span class="lbl">Unterfunktion</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7011_freitext" placeholder="_ weitere Schilddr√ºsenerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q8000">
<fieldset class="accent">
<legend>Gab es bei Ihnen bereits folgende Erkrankungen oder Eingriffe?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q8001" name="8000" type="checkbox" value="Aneurysma"/><span class="lbl">Aneurysma</span></label>
<label class="choice"><input data-toggle="#q8003" name="8000" type="checkbox" value="Arterielle Durchblutungsst√∂rung"/><span class="lbl">Arterielle Durchblutungsst√∂rung</span></label>
<label class="choice"><input data-toggle="#q8005,#q8006" name="8000" type="checkbox" value="Beinvenenthrombose"/><span class="lbl">Beinvenenthrombose</span></label>
<label class="choice"><input data-toggle="#q8007" name="8000" type="checkbox" value="Gef√§√üeingriffe/Herzoperation(OP)"/><span class="lbl">Gef√§√üeingriffe/Herzoperation(OP)</span></label>
<label class="choice"><input data-toggle="#q8008" name="8000" type="checkbox" value="Herzinfarkt"/><span class="lbl">Herzinfarkt</span></label>
<label class="choice"><input data-toggle="#q8016" name="8000" type="checkbox" value="Infektionskrankheiten"/><span class="lbl">Infektionskrankheiten</span></label>
<label class="choice"><input data-toggle="#q8010" name="8000" type="checkbox" value="Krebs"/><span class="lbl">Krebs</span></label>
<label class="choice"><input data-toggle="#q8013" name="8000" type="checkbox" value="Lungenarterienembolie"/><span class="lbl">Lungenarterienembolie</span></label>
<label class="choice"><input data-toggle="#q8014" name="8000" type="checkbox" value="Organtransplantation"/><span class="lbl">Organtransplantation</span></label>
<label class="choice"><input data-toggle="#q8015" name="8000" type="checkbox" value="Schlaganfall"/><span class="lbl">Schlaganfall</span></label>
<label class="choice"><input name="8000" type="checkbox" value="keine"/><span class="lbl">keine</span></label></div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8000_freitext" placeholder="_ Freitextfeld ‚Äì hier k√∂nnen Sie weitere Angaben machen" type="text"/>
</fieldset>
</section>
<!-- /moved -->
<script id="gate-q8800">(function(){/* disabled per request */ return; })();</script>
<!-- Pr√§ventions-/Screening-Prompts (Option C) -->
<section class="q" hidden="" id="q8501">
<fieldset class="accent">
<legend>Mammographie-Screening (Frauen ‚â• 50 Jahre)</legend>
<div class="choices row two" role="radiogroup">
<label class="choice"><input name="8501" type="radio" value="Teilnahme in den letzten 2 Jahren"/><span class="lbl">Teilnahme in den letzten 2 Jahren</span></label>
<label class="choice"><input name="8501" type="radio" value="keine Teilnahme in den letzten 2 Jahren"/><span class="lbl">keine Teilnahme in den letzten 2 Jahren</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8501_freitext" placeholder="_ Hinweise/Wunsch nach Terminvermittlung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q8502">
<fieldset class="accent">
<legend>Prostata-Tastuntersuchung (M√§nner ‚â• 45 Jahre)</legend>
<div class="choices row two" role="radiogroup">
<label class="choice"><input name="8502" type="radio" value="in den letzten 12 Monaten erfolgt"/><span class="lbl">in den letzten 12 Monaten erfolgt</span></label>
<label class="choice"><input name="8502" type="radio" value="&gt; 12 Monate oder noch nie"/><span class="lbl">&gt; 12 Monate oder noch nie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8502_freitext" placeholder="_ Beschwerden/Anmerkungen" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q8503">
<fieldset class="accent">
<legend>Bauchaortenaneurysma-Screening (M√§nner ‚â• 65 Jahre, einmalig)</legend>
<div class="choices row two" role="radiogroup">
<label class="choice"><input name="8503" type="radio" value="bereits durchgef√ºhrt (einmalig)"/><span class="lbl">bereits durchgef√ºhrt (einmalig)</span></label>
<label class="choice"><input name="8503" type="radio" value="noch nicht durchgef√ºhrt"/><span class="lbl">noch nicht durchgef√ºhrt</span></label>
</div>
<small class="hint">Hinweis: f√ºr fr√ºhere oder aktuelle Raucher besonders relevant.</small>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8503_freitext" placeholder="_ Befunde/Terminwunsch" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q8504">
<fieldset class="accent">
<legend>Menopausen-Status (Frauen ‚â• 40 Jahre, optional)</legend>
<div class="choices row two" role="radiogroup">
<label class="choice"><input name="8504" type="radio" value="pr√§menopausal"/><span class="lbl">pr√§menopausal</span></label>
<label class="choice"><input name="8504" type="radio" value="perimenopausal"/><span class="lbl">perimenopausal</span></label>
<label class="choice"><input name="8504" type="radio" value="postmenopausal"/><span class="lbl">postmenopausal</span></label>
<label class="choice"><input name="8504" type="radio" value="nicht angeben"/><span class="lbl">nicht angeben</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8504_freitext" placeholder="_ Zyklusver√§nderungen/HRT" type="text"/>
</fieldset>
</section>
<!-- P√§diatrieblock eingef√ºgt: qP000 (Platzhalter) -->
<!-- P√§diatrisches Modul q1P00‚Äìq1P99 -->
<section class="q" hidden="" id="q1P00">
<div class="accent">
<fieldset>
<legend>Kinder- und Jugendmedizin ¬∑ Basisangaben</legend>
<div class="choices full">
<label class="choice"><span class="lbl">Wie kam Ihr Kind zur Welt?</span>
<select name="1P00_geburtsmodus">
<option>Bitte w√§hlen‚Ä¶</option>
<option>Spontan</option>
<option>Sectio</option>
<option>Saugglocke</option>
<option>Forceps</option>
</select>
</label>
<label class="choice"><input name="1P00_frueh_neonatal" type="checkbox" value="Fr√ºhgeburt/Neugeborenenprobleme"/><span class="lbl">Gab es Startprobleme nach der Geburt? (z.‚ÄØB. Gelbsucht, Atemnot)</span></label>
<label class="choice"><span class="lbl">Wie wurde Ihr Kind im 1. Jahr ern√§hrt?</span>
<select name="1P00_ernaehrung1LJ">
<option>Bitte w√§hlen‚Ä¶</option>
<option>Stillen</option>
<option>Mischform (Stillen/Flasche)</option>
<option>Flasche</option>
<option>Beikost altersgerecht</option>
</select>
</label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1P00_freitext" placeholder="Weitere Angaben zur Geburt oder Ern√§hrung" type="text"/>
<div class="row three" id="q1P00_birthdata_row"><label>Geburtsgewicht (g)<input max="7000" min="300" name="1P00_geburtsgewicht_g" placeholder="z. B. 3450" step="10" type="number"/></label><label>Geburtsl√§nge (cm)<input max="65" min="20" name="1P00_geburtslaenge_cm" placeholder="z. B. 50" step="0.5" type="number"/></label><label>SSW bei Geburt (Wochen+Tage)<input inputmode="numeric" name="1P00_ssw" pattern="^\d{1,2}\+\d{1}$" placeholder="z. B. 39+5" type="text"/><small class="hint">Format: Wochen+Tage, z.‚ÄØB. 38+0</small></label></div>
</fieldset>
</div>
</section>
<section class="q" hidden="" id="q1P10">
<div class="accent">
<fieldset>
<legend>Entwicklung und Wachstum</legend>
<div class="choices full">
<label class="choice"><span class="lbl">Motorik</span>
<select name="1P10_motorik">
<option>Bitte w√§hlen‚Ä¶</option>
<option>Unauff√§llig</option>
<option>Verz√∂gert</option>
<option>Unsicher</option>
</select>
</label>
<label class="choice"><span class="lbl">Sprache</span>
<select name="1P10_sprache">
<option>Bitte w√§hlen‚Ä¶</option>
<option>Unauff√§llig</option>
<option>Verz√∂gert</option>
</select>
</label>
<label class="choice"><input name="1P10_lernen" type="checkbox" value="Lern-/Konzentrationsprobleme"/><span class="lbl">Lern- oder Konzentrationsprobleme?</span></label>
<label class="choice"><span class="lbl">Beginn der Pubert√§t</span>
<select name="1P10_pubertaet">
<option>Bitte w√§hlen‚Ä¶</option>
<option>Fr√ºh</option>
<option>Normal</option>
<option>Sp√§t</option>
</select>
</label>
<label class="choice"><span class="lbl">Wachstum bisher</span>
<select name="1P10_wachstum">
<option>Bitte w√§hlen‚Ä¶</option>
<option>Unauff√§llig</option>
<option>Auff√§llig</option>
</select>
</label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1P10_freitext" placeholder="Hinweise zur Entwicklung oder Auff√§lligkeiten" type="text"/>
</fieldset>
</div>
</section>
<section class="q" hidden="" id="q1P20">
<div class="accent">
<fieldset>
<legend>Impfstatus und Infektionen</legend>
<div class="choices full">
<label class="choice"><span class="lbl">Impfungen laut STIKO</span>
<select name="1P20_stiko">
<option>Bitte w√§hlen‚Ä¶</option>
<option>Vollst√§ndig</option>
<option>Unvollst√§ndig</option>
<option>Unbekannt</option>
</select>
</label>
<label class="choice"><input name="1P20_mmrw" type="checkbox" value="MMRW durchgemacht"/><span class="lbl">Kinderkrankheiten durchgemacht (Masern/Mumps/R√∂teln/Windpocken)</span></label>
<label class="choice"><input name="1P20_mmrw_impf" type="checkbox" value="MMRW geimpft"/><span class="lbl">Gegen Kinderkrankheiten geimpft (Masern/Mumps/R√∂teln/Windpocken)</span></label>
<label class="choice"><input name="1P20_infekte" type="checkbox" value="H√§ufige Infekte &gt;6/Jahr"/><span class="lbl">Mehr als 6 Infekte pro Jahr?</span></label>
<label class="choice"><input name="1P20_hno" type="checkbox" value="Otitis media rezidiv"/><span class="lbl">Ohrentz√ºndungen wiederkehrend?</span></label>
<label class="choice"><input name="1P20_bronchitiden" type="checkbox" value="Bronchitiden rezidiv"/><span class="lbl">Bronchitiden wiederkehrend?</span></label>
<label class="choice"><input name="1P20_tonsillitis" type="checkbox" value="Tonsillitiden rezidiv"/><span class="lbl">Mandelentz√ºndungen wiederkehrend?</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1P20_freitext" placeholder="Zus√§tzliche Bemerkungen zu Impfungen oder Infekten" type="text"/>
</fieldset>
</div>
</section>
<section class="q" hidden="" id="q1P30">
<div class="accent">
<fieldset>
<legend>Chronische oder angeborene Erkrankungen</legend>
<div class="choices full">
<label class="choice"><input name="1P30_asthma" type="checkbox" value="Asthma bronchiale"/><span class="lbl">Asthma bronchiale</span></label>
<label class="choice"><input name="1P30_dermatitis" type="checkbox" value="Neurodermitis"/><span class="lbl">Neurodermitis</span></label>
<label class="choice"><input name="1P30_allergien" type="checkbox" value="Allergien/Nahrungsmittelunvertr√§glichkeiten"/><span class="lbl">Allergien/Nahrungsmittelunvertr√§glichkeiten?</span></label>
<label class="choice"><input name="1P30_herz" type="checkbox" value="Herzfehler"/><span class="lbl">Herzfehler</span></label>
<label class="choice"><input name="1P30_stoffwechsel" type="checkbox" value="Stoffwechsel-/Hormonst√∂rung"/><span class="lbl">Stoffwechsel- oder Hormonst√∂rung?</span></label>
<label class="choice"><input name="1P30_fehlbildungen" type="checkbox" value="Fehlbildungen/genetische Erkrankungen"/><span class="lbl">Fehlbildungen/genetische Erkrankungen?</span></label>
<label class="choice"><input name="1P30_medikation" type="checkbox" value="Regelm√§√üige Medikamente"/><span class="lbl">Nimmt Ihr Kind regelm√§√üig Medikamente?</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1P30_freitext" placeholder="_ (bitte hier zus√§tzliche Angaben machen)" type="text"/>
</fieldset>
</div>
</section>
<section class="q" hidden="" id="q1P40">
<div class="accent">
<fieldset>
<legend>Soziale und psychische Aspekte</legend>
<div class="choices full">
<label class="choice"><span class="lbl">Geht Ihr Kind in ‚Ä¶?</span>
<select name="1P40_betreuung">
<option>Bitte w√§hlen‚Ä¶</option>
<option>Kindergarten</option>
<option>Schule</option>
<option>Tagesst√§tte</option>
<option>Keine Einrichtung</option>
</select>
</label>
<label class="choice"><input name="1P40_leistung" type="checkbox" value="Leistungs-/Anpassungsschwierigkeiten"/><span class="lbl">Schwierigkeiten in Schule/Kita?</span></label>
<label class="choice"><input name="1P40_schlaf" type="checkbox" value="Schlafst√∂rungen"/><span class="lbl">Schlafst√∂rungen</span></label>
<label class="choice"><input name="1P40_aengste" type="checkbox" value="√Ñngste/auff√§lliges Verhalten"/><span class="lbl">√Ñngste/auff√§lliges Verhalten?</span></label>
<label class="choice"><input name="1P40_familie" type="checkbox" value="Besondere Belastungen zuhause?"/><span class="lbl">Besondere Belastungen zuhause?</span></label>
<label class="choice"><span class="lbl">Mediennutzung</span>
<select name="1P40_medien">
<option>Bitte w√§hlen‚Ä¶</option>
<option>altersgerecht</option>
<option>erh√∂ht</option>
<option>problematisch</option>
</select>
</label>
<label class="choice"><span class="lbl">Freizeit/Bewegung</span>
<select name="1P40_bewegung">
<option>Bitte w√§hlen‚Ä¶</option>
<option>ausreichend</option>
<option>zu wenig</option>
</select>
</label>
<label class="choice"><span class="lbl">Ern√§hrung</span>
<select name="1P40_ernaehrung">
<option>Bitte w√§hlen‚Ä¶</option>
<option>ausgewogen</option>
<option>verbesserungsbed√ºrftig</option>
</select>
</label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1P40_freitext" placeholder="_ (bitte hier zus√§tzliche Angaben machen)" type="text"/>
</fieldset>
</div>
</section>
<section class="q" hidden="" id="q1P51">
<div class="accent">
<fieldset>
<legend>Neonatologie ¬∑ Spezialmodul</legend>
<div class="choices full">
<label class="choice"><input name="1P51_beatmung" type="checkbox" value="Beatmung/Intensivaufenthalt"/><span class="lbl">Beatmung, Intensivaufenthalt</span></label>
<label class="choice"><span class="lbl">Apgar (1/5/10)</span>
<div class="row three">
<label>Apgar-Wert nach 1 Minute
        <select name="P_apgar_1min" required="">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>0‚Äì3 (Poor)</option>
<option>4‚Äì6 (Mittelgradig beeintr√§chtigt)</option>
<option>7‚Äì10 (Gut)</option>
</select>
</label>
<label>Apgar-Wert nach 5 Minuten
        <select name="P_apgar_5min">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>0‚Äì3 (Poor)</option>
<option>4‚Äì6 (Mittelgradig beeintr√§chtigt)</option>
<option>7‚Äì10 (Gut)</option>
</select>
</label>
<label>Apgar-Wert nach 10 Minuten
        <select name="P_apgar_10min">
<option value="">Bitte w√§hlen‚Ä¶</option>
<option>0‚Äì3 (Poor)</option>
<option>4‚Äì6 (Mittelgradig beeintr√§chtigt)</option>
<option>7‚Äì10 (Gut)</option>
</select>
</label>
</div>
</label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1P51_freitext" placeholder="_ (bitte hier zus√§tzliche Angaben machen)" type="text"/>
</fieldset>
</div>
</section>
<section class="q" hidden="" id="q1P52">
<div class="accent">
<fieldset>
<legend>Adoleszenz ¬∑ Spezialmodul</legend>
<div class="choices full">
<label class="choice"><input name="1P52_substanz" type="checkbox" value="Substanzgebrauch"/><span class="lbl">Substanzgebrauch</span></label>
<label class="choice"><span class="lbl">Menarche/Spermarche</span>
<select name="1P52_reife">
<option>Bitte w√§hlen‚Ä¶</option>
<option>Erfolgt</option>
<option>Nicht erfolgt</option>
<option>Unklar</option>
</select>
</label>
<label class="choice"><input name="1P52_koerperbild" type="checkbox" value="K√∂rperbild-Thematik"/><span class="lbl">K√∂rperbild-Thematik</span></label>
<label class="choice"><input name="1P52_sexual" type="checkbox" value="Sexualverhalten relevant"/><span class="lbl">Sexualverhalten relevant</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1P52_freitext" placeholder="_ (bitte hier zus√§tzliche Angaben machen)" type="text"/>
</fieldset>
</div>
</section>
<section class="q" hidden="" id="q1P53">
<div class="accent">
<fieldset>
<legend>Allergologie ¬∑ Spezialmodul</legend>
<div class="choices full">
<label class="choice"><input name="1P53_atopie_familie" type="checkbox" value="Atopische Familienanamnese"/><span class="lbl">Atopische Familienanamnese</span></label>
<label class="choice"><input name="1P53_expo" type="checkbox" value="Expositionsfaktoren"/><span class="lbl">Expositionsfaktoren</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="1P53_freitext" placeholder="_ (bitte hier zus√§tzliche Angaben machen)" type="text"/>
</fieldset>
</div>
</section>
<section class="q" hidden="" id="q1P54">
<div class="accent">
<fieldset>
<legend>Impfaufkl√§rung ¬∑ Spezialmodul</legend>
<div class="choices full">
<label class="choice"><input name="1P54_elternentscheidung" type="checkbox" value="Elternentscheidung dokumentiert"/><span class="lbl">Elternentscheidung dokumentiert</span></label>
<label class="choice"><input name="1P54_nebenwirkungen" type="checkbox" value="Nebenwirkungen dokumentiert"/><span class="lbl">Dokumentierte Nebenwirkungen</span></label>
</div>
<span class="freitext-spacer"></span>
<input autocomplete="off" class="freitext-blue" name="1P54_freitext" placeholder="_ Freitextfeld ‚Äì erg√§nzende Angaben" type="text"/>
</fieldset>
</div>
</section>
<!-- ===== Additions: Diarrh√∂ Unterfragen 1230‚Äì1233 ===== -->
<section class="q" hidden="" id="q1230">
<fieldset class="accent">
<legend>Durchfall ‚Äì H√§ufigkeit und Dehydratation</legend>
<div class="row two">
<label>Anzahl ungeformter St√ºhle / 24 h
        <input min="0" name="1230_stuehle_24h" placeholder="z.‚ÄØB. 5" step="1" type="number"/>
</label>
<label>N√§chtliches Aufwachen
        <div class="choices">
<label class="choice"><input name="1230_nacht" type="radio" value="ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="1230_nacht" type="radio" value="nein"/><span class="lbl">Nein</span></label>
</div>
</label>
</div>
<div class="choices row two">
<label class="choice"><input name="1230_dranginko" type="checkbox" value="Dranginkontinenz"/><span class="lbl">Dranginkontinenz</span></label>
<label class="choice"><input name="1230_tenesmen" type="checkbox" value="Tenesmen"/><span class="lbl">Tenesmen</span></label>
<label class="choice"><input name="1230_durst" type="checkbox" value="starker Durst"/><span class="lbl">starker Durst</span></label>
<label class="choice"><input name="1230_orthostat" type="checkbox" value="Schwindel beim Aufstehen"/><span class="lbl">Schwindel beim Aufstehen</span></label>
<label class="choice"><input name="1230_oligurie" type="checkbox" value="reduzierte Urinmenge"/><span class="lbl">reduzierte Urinmenge</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1231">
<fieldset class="accent">
<legend>Durchfall ‚Äì Stuhlcharakter</legend>
<div class="choices row two">
<label class="choice"><input name="1231_char" type="checkbox" value="Blut"/><span class="lbl">Blut</span></label>
<label class="choice"><input name="1231_char" type="checkbox" value="Schleim"/><span class="lbl">Schleim</span></label>
<label class="choice"><input name="1231_char" type="checkbox" value="Eiter"/><span class="lbl">Eiter</span></label>
<label class="choice"><input name="1231_char" type="checkbox" value="w√§ssrig"/><span class="lbl">w√§ssrig</span></label>
<label class="choice"><input name="1231_char" type="checkbox" value="breiig"/><span class="lbl">breiig</span></label>
<label class="choice"><input name="1231_char" type="checkbox" value="fettig/√∂lig"/><span class="lbl">fettig/√∂lig</span></label>
<label class="choice"><input name="1231_char" type="checkbox" value="√ºbel riechend"/><span class="lbl">√ºbel riechend</span></label>
<label class="choice"><input name="1231_char" type="checkbox" value="klebt (Steatorrhoe)"/><span class="lbl">‚Äûklebt‚Äú (Steatorrhoe)</span></label>
<label class="choice"><input name="1231_char" type="checkbox" value="hell"/><span class="lbl">hell</span></label>
<label class="choice"><input name="1231_char" type="checkbox" value="schwarz"/><span class="lbl">schwarz</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1232">
<fieldset class="accent">
<legend>Durchfall ‚Äì Exposition/Risiko</legend>
<div class="choices row two">
<label class="choice"><input name="1232_expo" type="checkbox" value="Reise letzte 4 Wochen"/><span class="lbl">Reise letzte 4 Wochen</span></label>
<label class="choice"><input name="1232_expo" type="checkbox" value="Trinkwasser/Eisw√ºrfel"/><span class="lbl">Trinkwasser/Eisw√ºrfel</span></label>
<label class="choice"><input name="1232_expo" type="checkbox" value="Street-Food"/><span class="lbl">Street-Food</span></label>
<label class="choice"><input name="1232_expo" type="checkbox" value="Gefl√ºgel"/><span class="lbl">Gefl√ºgel</span></label>
<label class="choice"><input name="1232_expo" type="checkbox" value="Eier"/><span class="lbl">Eier</span></label>
<label class="choice"><input name="1232_expo" type="checkbox" value="Meeresfr√ºchte"/><span class="lbl">Meeresfr√ºchte</span></label>
<label class="choice"><input name="1232_expo" type="checkbox" value="Rohmilch"/><span class="lbl">Rohmilch</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q1233">
<fieldset class="accent">
<legend>Durchfall ‚Äì Umfeld &amp; Kontakte</legend>
<div class="choices row two">
<label class="choice"><input name="1233_umfeld" type="checkbox" value="Erkrankte im Umfeld"/><span class="lbl">Erkrankte im Umfeld</span></label>
<label class="choice"><input name="1233_umfeld" type="checkbox" value="Gemeinschaftsverpflegung"/><span class="lbl">Gemeinschaftsverpflegung</span></label>
<label class="choice"><input name="1233_umfeld" type="checkbox" value="Kita/Heim"/><span class="lbl">Kita/Heim</span></label>
<label class="choice"><input name="1233_umfeld" type="checkbox" value="Tierkontakte (Reptilien)"/><span class="lbl">Tierkontakte (insb. Reptilien)</span></label>
</div>
</fieldset>
</section>
<!-- ===== End Additions: 1230‚Äì1233 ===== -->
</form></main>
<script id="logic-2002-format">
(function() {
  function pad2(n){ return n<10 ? '0'+n : String(n); }
  function ensure2002Format(){
    var src = document.querySelector('input[name="2002_date"]');
    if(!src) return;
    var v = (src.value||'').trim(); // expected yyyy-mm-dd
    var hid = document.getElementById('id_2002_format');
    if(!hid){
      hid = document.createElement('input');
      hid.type='hidden'; hid.name='2002_format'; hid.id='id_2002_format';
      (src.parentNode || document.body).appendChild(hid);
    }
    if(v && /^\d{4}-\d{2}-\d{2}$/.test(v)){ 
      var parts = v.split('-'); 
      var y = parts[0], m = parts[1], d = parts[2];
      hid.value = pad2(+d)+'.'+pad2(+m)+'.'+y;
    } else {
      hid.value = '';
    }
  }
  document.addEventListener('change', function(e){
    if(e.target && e.target.name==='2002_date') ensure2002Format();
  }, {passive:true});
  document.addEventListener('input', function(e){
    if(e.target && e.target.name==='2002_date') ensure2002Format();
  }, {passive:true});
  if(document.readyState==='loading'){ 
    document.addEventListener('DOMContentLoaded', ensure2002Format); 
  } else { ensure2002Format(); }
})();
</script>
<script id="q2082_q2084_format">
(function(){
  function pad2(n){ const x=parseInt(n,10); return isNaN(x)? "" : (x<10?("0"+x):String(x)); }
  function syncDate(srcName, tgtId){
    const el = document.querySelector(`input[name="${srcName}_date"]`);
    const out = document.getElementById(`id_${srcName}_format`);
    if(!el || !out) return;
    if(!el.value){ out.value=""; return; }
    const parts = el.value.split("-"); // yyyy-mm-dd
    if(parts.length===3){
      const [y,m,d] = parts;
      out.value = pad2(d) + "." + pad2(m) + "." + y;
    } else {
      out.value="";
    }
  }
  ["2082","2084"].forEach(id=>{
    document.addEventListener("change", e=>{
      if(e.target && e.target.name===id+"_date"){ syncDate(id,id+"_format"); }
    }, {passive:true});
    document.addEventListener("input", e=>{
      if(e.target && e.target.name===id+"_date"){ syncDate(id,id+"_format"); }
    }, {passive:true});
  });
})();
</script>
<script id="stars-compact-logic">
(function(){
  function showRating(){
    var el = document.getElementById('q9900');
    if(el){ el.hidden = false; el.removeAttribute('hidden'); }
  }
  function onReady(fn){
    if(document.readyState === 'loading'){ document.addEventListener('DOMContentLoaded', fn, {once:true}); } else { fn(); }
  }
  onReady(function(){
    var btnSummary = document.getElementById('btnSummary');
    if(btnSummary){ btnSummary.addEventListener('click', showRating, {passive:true}); }
    var sendBtn = document.getElementById('btnSendMail') || document.querySelector('button[name="sendMail"]');
    if(sendBtn){ sendBtn.addEventListener('click', showRating, {passive:true}); }
    var confirm = document.getElementById('confirm_email');
    if(confirm){ confirm.addEventListener('change', function(e){ if(e.target.checked) showRating(); }, {passive:true}); }
  });
})();
</script>
<script id="contacts_gesamt_sync">
(function(){
  const $  = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from((r||document).querySelectorAll(s));

  const emailSources = [
    'input[name="9001"]',           // q9001
    '#rev_email',
    'input[name="9001_email_review"]',
    'input[name="n9001_email_review"]',
    'input[name="3003"]'            // Fallback
  ];
  const mobileSources = [
    'input[name="9002"]',           // q9002
    '#rev_mobile',
    'input[name="9002_mobile_review"]',
    'input[name="n9002_mobile_review"]',
    'input[name="3004"]'            // Fallback
  ];

  function firstNonEmpty(selectors){
    for (const sel of selectors){
      const el = $(sel);
      if (!el) continue;
      const v = (el.value||'').trim();
      if (v) return v;
    }
    return '';
  }

  function syncContactsGesamt(){
    let e = $('#id_9001_gesamt');
    if (!e){
      e = document.createElement('input');
      e.type='hidden'; e.name='9001_gesamt'; e.id='id_9001_gesamt';
      const host = $('#q9001') || document.body;
      host.appendChild(e);
    }
    let m = $('#id_9002_gesamt');
    if (!m){
      m = document.createElement('input');
      m.type='hidden'; m.name='9002_gesamt'; m.id='id_9002_gesamt';
      const host = $('#q9001') || document.body;
      host.appendChild(m);
    }
    e.value = firstNonEmpty(emailSources);
    m.value = firstNonEmpty(mobileSources);
  }

  document.addEventListener('DOMContentLoaded', syncContactsGesamt, {once:true});
  document.addEventListener('input', (ev)=>{
    const n = ev.target && ev.target.name || '';
    if (['9001','9002','3003','3004','9001_email_review','9002_mobile_review','n9001_email_review','n9002_mobile_review'].includes(n)){
      syncContactsGesamt();
    }
  }, {passive:true});
  document.addEventListener('change', (ev)=>{
    const n = ev.target && ev.target.name || '';
    if (['9001','9002','3003','3004','9001_email_review','9002_mobile_review','n9001_email_review','n9002_mobile_review'].includes(n)){
      syncContactsGesamt();
    }
  }, {passive:true});
})();
</script>
<script id="summary-ensure-900x">
(function(){
  function $(s, r){ return (r||document).querySelector(s); }
  function val(sel){ var el=$(sel); return el ? (el.value||'').trim() : ''; }
  function ensure900xInSummary(){
    var sum = $('#summary');
    if (!sum) return;
    var txt = (sum.value||'').trim();
    var e = val('#id_9001_gesamt') || val('input[name="9001"]') || val('#rev_email') || val('input[name="9001_email_review"]') || val('input[name="n9001_email_review"]') || val('input[name="3003"]');
    var m = val('#id_9002_gesamt') || val('input[name="9002"]') || val('#rev_mobile') || val('input[name="9002_mobile_review"]') || val('input[name="n9002_mobile_review"]') || val('input[name="3004"]');
    function hasKey(k){ return new RegExp('(^|\b)' + k + '\s*:').test(txt); }
    var parts = [];
    if (e && !hasKey('9001')) parts.push('9001: ' + e);
    if (m && !hasKey('9002')) parts.push('9002: ' + m);
    if (parts.length){
      sum.value = (txt ? (txt + ' / ') : '') + parts.join(' / ');
    }
  }
  document.addEventListener('click', function(ev){
    var id = ev.target && ev.target.id || '';
    if (id === 'btnSummary' || id === 'btnSendMail') {
      setTimeout(ensure900xInSummary, 0);
    }
  }, {passive:true});
})();
</script>
<script id="summary-ensure-9900">
(function(){
  function $(s, r){ return (r||document).querySelector(s); }
  function getRating(){
    var sel = document.querySelector('input[name="9900"]:checked');
    return sel ? sel.value.trim() : '';
  }
  function getNote(){
    var f = document.querySelector('input[name="9900_freitext"]');
    return f && f.value ? f.value.trim() : '';
  }
  function hasKey(txt, k){
    try{ return new RegExp('(^|\\b)'+k+'\\s*:').test(txt); }catch(e){ return txt.indexOf(k+':')>=0; }
  }
  function append9900(){
    var sum = $('#summary') || document.querySelector('textarea[name="summary"]');
    if(!sum) return;
    var txt = (sum.value||'').trim();
    var rating = getRating();
    var note = getNote();
    if(!rating) return; // nothing selected
    if(!hasKey(txt, '9900')){
      var frag = '9900: ' + rating + ' Sterne';
      if(note) frag += ' (' + note + ')';
      sum.value = (txt ? (txt + ' / ') : '') + frag;
    }
  }
  document.addEventListener('click', function(ev){
    var id = ev.target && ev.target.id || '';
    if(id==='btnSummary' || id==='btnSendMail'){
      // run after potential summary builders
      setTimeout(append9900, 0);
    }
  }, {passive:true});
})();
</script>
<script id="q600x-autoadvance">
(function(){
  function $(s, r){ return (r||document).querySelector(s); }
  function $$(s, r){ return Array.from((r||document).querySelectorAll(s)); }
  function anyChecked(name){ return $$(`input[name="${name}"]:checked`).length > 0; }
  function hasText(name){ var el = $(`input[name="${name}_freitext"]`); return !!(el && el.value && el.value.trim()); }
  function show(sel){ var el=$(sel); if(el){ el.hidden=false; el.removeAttribute('hidden'); } }

  function wire(name, nextSel){
    // Initial
    if (anyChecked(name) || hasText(name)) show(nextSel);
    // Live
    document.addEventListener('input', function(e){
      if(!e || !e.target) return;
      if(e.target.name === name || e.target.name === name + '_freitext'){
        if (anyChecked(name) || hasText(name)) show(nextSel);
      }
    }, {passive:true});
    document.addEventListener('change', function(e){
      if(!e || !e.target) return;
      if(e.target.name === name){
        if (anyChecked(name) || hasText(name)) show(nextSel);
      }
    }, {passive:true});
  }

  wire('6001', '#q6002');
  wire('6003', '#q6004');
})();
</script>
<script id="summary-ensure-700x">
(function(){
  function $(s, r){ return (r||document).querySelector(s); }
  function getAll(fd, k){ try{ return fd.getAll(k) || []; }catch(e){ return []; } }
  function hasKey(txt, k){
    try{ return new RegExp('(^|\\b)'+k+'\\s*:').test(txt); }catch(e){ return txt.indexOf(k+':')>=0; }
  }
  function append700x(){
    var sum = $('#summary');
    if(!sum) return;
    var txt = (sum.value||'').trim();
    var form = $('#form') || document.forms[0] || document;
    var fd = new FormData(form);
    var parts = [];
    // collect q7001..q7099 except 7000
    fd.forEach(function(v,k){
      if(!/^700\d+$/.test(k)) return;
      if(k === '7000') return;
      var vals = getAll(fd, k).filter(function(x){ return x && x !== 'Bitte w√§hlen‚Ä¶'; });
      // also include optional freitext for this key
      var ft = (fd.get(k+'_freitext')||'').toString().trim();
      if (ft) vals.push(ft);
      if (!vals.length) return;
      if (!hasKey(txt, k)){
        parts.push(k + ': ' + Array.from(new Set(vals)).join(' / '));
      }
    });
    if(parts.length){
      sum.value = (txt ? (txt + ' / ') : '') + parts.join(' / ');
    }
  }
  document.addEventListener('click', function(ev){
    var id = ev.target && ev.target.id || '';
    if(id==='btnSummary' || id==='btnSendMail'){
      setTimeout(append700x, 0);
    }
  }, {passive:true});
})();
</script>
<script id="summary-ensure-6000gdb">
(function(){
  function $(s, r){ return (r||document).querySelector(s); }
  function getAll(fd, k){ try{ return fd.getAll(k) || []; }catch(e){ return []; } }
  function hasKeyBlock(txt, key){ return new RegExp('(^|\\b)'+key+'\\s*:').test(txt); }
  function append6000(){
    var sum = $('#summary'); if(!sum) return;
    var txt = (sum.value||'').trim();
    var form = $('#form') || document.forms[0] || document;
    var fd = new FormData(form);

    var parts = [];
    var gdb = (fd.get('6000_gdb')||'').toString().trim();
    if (gdb && !hasKeyBlock(txt, '6000_gdb')) parts.push('6000_gdb: ' + gdb);

    var mz = getAll(fd, '6000_merkzeichen').map(function(x){ return (x||'').trim(); }).filter(Boolean);
    if (mz.length && !hasKeyBlock(txt, '6000_merkzeichen')){
      parts.push('6000_merkzeichen: ' + Array.from(new Set(mz)).join(' / '));
    }
    if (parts.length){
      sum.value = (txt ? (txt + ' / ') : '') + parts.join(' / ');
    }
  }
  document.addEventListener('click', function(ev){
    var id = ev.target && ev.target.id || '';
    if(id==='btnSummary' || id==='btnSendMail'){
      setTimeout(append6000, 0);
    }
  }, {passive:true});
})();
</script>
<script id="generic-toggle-handler-master">
(function(){
  const $ = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));
  document.addEventListener('change', function(e){
    const t = e.target;
    if(!t || !t.matches('input[type=radio], input[type=checkbox], select')) return;
    const shows = (t.getAttribute('data-toggle') || t.getAttribute('data-next') || '').split(',').map(s=>s.trim()).filter(Boolean);
    const hides = (t.getAttribute('data-hide') || '').split(',').map(s=>s.trim()).filter(Boolean);
    // For radios, hide all targets of same group before showing
    if (t.type === 'radio'){
      $$('input[type=radio][name="'+t.name+'"]').forEach(function(r){
        const sel = (r.getAttribute('data-toggle') || r.getAttribute('data-next') || '');
        sel.split(',').map(s=>s.trim()).filter(Boolean).forEach(function(s){
          const el = $(s); if(el) el.hidden = true;
        });
      });
    }
    hides.forEach(function(s){ const el=$(s); if(el) el.hidden = true; });
    if (t.type==='checkbox' && !t.checked){
      shows.forEach(function(s){ const el=$(s); if(el) el.hidden = true; });
    } else {
      shows.forEach(function(s){ const el=$(s); if(el){ el.hidden = false; el.removeAttribute('hidden'); } });
    }
  }, {passive:true});
})();
</script>
<script id="logic-6000">
(function(){
  function $(s, r){ return (r||document).querySelector(s); }
  function vis(id,on){
    var el = document.getElementById(id);
    if(!el) return;
    el.hidden = !on;
    if(on) el.removeAttribute('hidden');
    if(!on){
      el.querySelectorAll('input,select,textarea').forEach(function(n){
        if(n.type==="radio"||n.type==="checkbox"){ n.checked=false; }
        else {
      vis(\'q6000_pflegegrad\', false);
n.value=""; }
      });
    }
  }
  function apply(){
    var v = ($('input[name="6000"]:checked')||{}).value || '';
    if(v === 'Ja'){
            vis(\'q6000_pflegegrad\', true);
vis('q6000_gdb', true);
      vis('q6001', true);
      vis('q6002', false);
    } else if(v === 'Nein'){
      vis('q6000_gdb', false);
      vis('q6001', false);
      vis('q6002', true);
    } else {
      vis('q6000_gdb', false);
      vis('q6001', false);
      vis('q6002', false);
    }
  }
  document.addEventListener('change', function(e){
    if(!e || !e.target) return;
    if(e.target.name === '6000' && e.target.type === 'radio'){
      apply();
    }
  }, {passive:true});
  if (document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', apply);
  } else { apply(); }
})();
</script>
<script id="custom-reset-script">
(function(){
  const $ = (s, r=document)=>r.querySelector(s);
  document.addEventListener('DOMContentLoaded', function(){
    const btn = $('#btnCustomReset');
    if(!btn) return;
    btn.addEventListener('click', function(){
      if(confirm('Wollen Sie wirklich alle Eingaben r√ºckg√§ngig machen?')){
        const form = $('#form') || document.forms[0];
        if(form) form.reset();
        // Clear hidden summary and gesamt fields
        const sum = $('#summary'); if(sum) sum.value='';
        document.querySelectorAll('input[name$="_gesamt"]').forEach(el=>el.value='');
        // Hide all questions except q0000
        document.querySelectorAll('.q').forEach(sec=>{
          if(sec.id !== 'q0000'){ sec.hidden=true; sec.setAttribute('hidden',''); }
          else{ sec.hidden=false; sec.removeAttribute('hidden'); }
        });
        // Scroll top
        window.scrollTo(0,0);
      }
    }, {passive:true});
  }, {once:true});
})();
</script>
<script id="validation-helper-q3000-900x">
(function(){
  const form = document.getElementById('form') || document.querySelector('form');
  if(!form) return;
  const showMsg = function(el){
    if(el && !el.checkValidity()){
      el.reportValidity();
      return true;
    }
    return false;
  };
  form.addEventListener('submit', function(ev){
    const fields = ['3000','3003','3004','9001','9002']
      .map(n => form.querySelector('[name="'+n+'"]'))
      .filter(Boolean);
    for(const f of fields){
      // Skip empty non-required fields; let native required handle others
      if(!f.required && !f.value.trim()) continue;
      if(showMsg(f)){
        ev.preventDefault();
        return;
      }
    }
  }, {passive:false});
})();
</script><script id="inline-errors-q3000-900x">
(function(){
  function msgFor(name){
    switch(name){
      case "3000": return "Bitte 5-stellige deutsche PLZ.";
      case "3003": return "Bitte g√ºltige E-Mail-Adresse.";
      case "9001": return "Bitte g√ºltige E-Mail-Adresse.";
      case "3004": return "Bitte g√ºltige Telefonnummer (mind. 6 Ziffern, optional +49).";
      case "9002": return "Bitte g√ºltige Telefonnummer (mind. 6 Ziffern, optional +49).";
      default: return "Bitte g√ºltigen Wert eingeben.";
    }
  }
  const form = document.getElementById('form') || document.querySelector('form');
  if(!form) return;
  const fields = ["3000","3003","3004","9001","9002"]
    .map(n => form.querySelector('[name="'+n+'"]'))
    .filter(Boolean);
  const errorBox = n => form.querySelector('.field-error[data-for="'+n+'"]');
  function updateField(f, showIfEmptySubmit){
    const n = f.getAttribute('name');
    const box = errorBox(n);
    if(!box) return;
    const val = (f.value||"").trim();
    // If not required and empty: no error unless it's a submit-triggered empty that is required
    if(!val){
      if(f.required && showIfEmptySubmit){
        box.textContent = msgFor(n);
        box.classList.add('show');
      }else{
        box.textContent = "";
        box.classList.remove('show');
      }
      return;
    }
    if(f.checkValidity()){
      box.textContent = "";
      box.classList.remove('show');
    }else{
      box.textContent = msgFor(n);
      box.classList.add('show');
    }
  }
  fields.forEach(f => {
    f.addEventListener('input', function(){ updateField(this, false); });
    f.addEventListener('blur', function(){ updateField(this, false); });
  });
  form.addEventListener('submit', function(ev){
    let anyInvalid = false;
    fields.forEach(f => {
      // On submit, show errors even if empty and required
      const before = f.checkValidity();
      updateField(f, true);
      if(!f.checkValidity()){
        anyInvalid = true;
      }
    });
    if(anyInvalid){
      ev.preventDefault();
      // move focus to first invalid field
      const firstInvalid = fields.find(f => !f.checkValidity());
      if(firstInvalid){ firstInvalid.focus(); }
    }
  }, {passive:false});
})();
</script>
<script id="final-append-80xx">
(function(){
  function $(s, r){ return (r||document).querySelector(s); }
  function $$ (s, r){ return Array.from((r||document).querySelectorAll(s)); }
  function hasKey(txt, k){
    try{ return new RegExp('(^|\\b)'+k+'\\s*:').test(txt); }catch(e){ return txt.indexOf(k+':')>=0; }
  }
  function build80xxParts(){
    var form = $('#form') || document.forms[0] || document;
    var fd = new FormData(form);
    var parts = [];
    // Collect 8001..8099 excluding 8000; include companion *_freitext values
    var keys = Array.from(new Set(Array.from(fd.keys())));
    keys.forEach(function(k){
      if(!/^80\d{2}(?:_freitext)?$/.test(k)) return;
      var base = k.replace(/_freitext$/,'');
      if(base === '8000') return;
      var vals = fd.getAll(base).concat(fd.get(base + '_freitext')||'').map(function(v){return (v||'').toString().trim();}).filter(function(v){return v && v !== 'Bitte w√§hlen‚Ä¶';});
      if(!vals.length) return;
      var uniq = Array.from(new Set(vals));
      parts.push([base, uniq.join(' / ')]);
    });
    // Also scan DOM for any 80xx outside <form> and merge
    $$('input[name^="80"], select[name^="80"], textarea[name^="80"]').forEach(function(n){
      var name = n.name||'';
      if(!/^80\d{2}(?:_freitext)?$/.test(name)) return;
      var base = name.replace(/_freitext$/,'');
      if(base === '8000') return;
      var val = '';
      if(n.type === 'checkbox'){ if(n.checked) val = n.value||''; }
      else if(n.type === 'radio'){ if(n.checked) val = n.value||''; }
      else { val = n.value||''; }
      val = val.trim();
      if(!val || val === 'Bitte w√§hlen‚Ä¶') return;
      var i = parts.findIndex(function(p){ return p[0]===base; });
      if(i<0) parts.push([base, val]);
      else {
        var now = parts[i][1].split(' / ');
        if(now.indexOf(val) < 0){ now.push(val); parts[i][1] = now.join(' / '); }
      }
    });
    // Sort by key for stable ordering
    parts.sort(function(a,b){ return a[0].localeCompare(b[0]); });
    return parts;
  }
  function append80xxToSummary(){
    var sum = $('#summary'); if(!sum) return;
    var txt = (sum.value||'').trim();
    var parts = build80xxParts();
    if(!parts.length) return;
    // Avoid duplicates by checking existing keys in txt
    var add = parts.filter(function(p){ return !hasKey(txt, p[0]); }).map(function(p){ return p[0] + ': ' + p[1]; });
    if(add.length){
      sum.value = (txt ? (txt + ' / ') : '') + add.join(' / ');
    }
  }
  // Run strictly after all other summary writers
  document.addEventListener('click', function(ev){
    var id = ev && ev.target && ev.target.id || '';
    if(id==='btnSummary' || /^btnSendMail/.test(id)){
      setTimeout(append80xxToSummary, 0);
    }
  }, {passive:true});
})();
</script>
<script id="summary-ensure-8800-8900">
(function(){
  function $(s,r){return (r||document).querySelector(s);}
  function $$(s,r){return Array.from((r||document).querySelectorAll(s));}
  function getAll(fd,k){try{return fd.getAll(k)||[];}catch(e){return[];}}
  function hasKey(txt,k){
    try { return new RegExp('(^|\b)'+k+'\s*:').test(txt); }
    catch(e){ return txt.indexOf(k+':')>=0; }
  }
  function domCollect(name){
    var vals = [];
    $$('[name="'+name+'"]').forEach(function(n){
      var v = '';
      if(n.type==='radio' || n.type==='checkbox'){ if(n.checked) v=n.value||''; } else { v=n.value||''; }
      v = (v||'').trim();
      if(v && v!=='Bitte w√§hlen‚Ä¶') vals.push(v);
    });
    return Array.from(new Set(vals));
  }
  function appendExtra(){
    var sum = $('#summary'); if(!sum) return;
    var txt = (sum.value||'').trim();
    var form = $('#form') || document.forms[0] || document;
    var fd = new FormData(form);
    var parts = [];
    ['8800','8900'].forEach(function(k){
      var vals = getAll(fd,k).filter(function(x){ return x && x!=='Bitte w√§hlen‚Ä¶'; });
      if(!vals.length) vals = domCollect(k);
      var ft = (fd.get(k+'_freitext')||'').toString().trim();
      if(ft) vals.push(ft);
      if(!vals.length) return;
      if(!hasKey(txt,k)){
        parts.push(k+': '+Array.from(new Set(vals)).join(' / '));
      }
    });
    if(parts.length){
      sum.value = (txt ? (txt + ' / ') : '') + parts.join(' / ');
    }
  }
  function runLast(){ setTimeout(function(){ setTimeout(appendExtra,0); }, 0); }
  document.addEventListener('click', function(ev){
    var id = ev.target && ev.target.id || '';
    if(id==='btnSummary' || /^btnSendMail/.test(id)){
      runLast();
    }
  }, {passive:true});
})();
</script>
<script id="logic-q8800-gender-age">(function(){/* disabled per request */ return; })();</script>
<script id="gate-option-c">
(function(){
  const $  = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  function getAge(){
    const iso = $('[name="0003"]')?.value || "";
    if(!iso) return null;
    const d = new Date(iso);
    if(isNaN(d)) return null;
    const today = new Date();
    let age = today.getFullYear() - d.getFullYear();
    const m = today.getMonth() - d.getMonth();
    if(m < 0 || (m === 0 && today.getDate() < d.getDate())) age--;
    return age;
  }

  function getSex(){
    const v = $('[name="0002"]')?.value || "";
    if(!v) return null;
    const lower = v.toLowerCase();
    if(lower.startsWith('m')) return 'm';
    if(lower.startsWith('w')) return 'w';
    return 'x';
  }

  function hasQ2006Answer(){
    const boxes = $$('input[name="2006"]');
    if (boxes.some(b => b.checked)) return true;
    const ft = $('[name="2006_freitext"]');
    return !!(ft && ft.value && ft.value.trim());
  }

  function show(sel, on){
    const el = $(sel);
    if(!el) return;
    el.hidden = !on;
    if(on){
      el.removeAttribute('hidden');
    }else{
      // optional: clear values when block is hidden
      const inputs = el.querySelectorAll('input,select,textarea');
      inputs.forEach(inp=>{
        const type = (inp.type || "").toLowerCase();
        if(type === 'checkbox' || type === 'radio'){
          inp.checked = false;
        }else{
          inp.value = "";
        }
      });
    }
  }

  function applyGates(){
    const age = getAge();
    const sex = getSex();
    const ready = (age !== null) && !!sex && hasQ2006Answer();
    if(!ready){
      ['#q8501','#q8502','#q8503','#q8504'].forEach(id => show(id,false));
      return;
    }
    show('#q8501', sex === 'w' && age >= 50);
    show('#q8502', sex === 'm' && age >= 45);
    show('#q8503', sex === 'm' && age >= 65);
    show('#q8504', sex === 'w' && age >= 40);
  }

  document.addEventListener('change', (e)=>{
    const n = e.target?.name || "";
    if(['0002','0003_tag','0003_monat','0003_jahr','2006','2006_freitext'].includes(n)) {
      setTimeout(applyGates, 0);
    }
  }, {passive:true});

  applyGates();
})();
</script>
<script id="gate-q6008-q6011">
(function(){
  const $  = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  function getAge(){
    const iso = $('[name="0003"]')?.value || "";
    if(!iso) return null;
    const d = new Date(iso);
    if(isNaN(d)) return null;
    const today = new Date();
    let age = today.getFullYear() - d.getFullYear();
    const m = today.getMonth() - d.getMonth();
    if(m < 0 || (m === 0 && today.getDate() < d.getDate())) age--;
    return age;
  }

  function hasAnswered6006(){
    return !!$$('input[name="6006"]:checked').length;
  }

  function hasAnyAnswerInSection(id){
    const sec = $(id);
    if(!sec) return false;
    const inps = sec.querySelectorAll('input,select,textarea');
    for(const inp of inps){
      const type = (inp.type || "").toLowerCase();
      if(type === 'checkbox' || type === 'radio'){
        if(inp.checked) return true;
      }else if(String(inp.value || "").trim() !== ""){
        return true;
      }
    }
    return false;
  }

  function show(id, on){
    const sec = $(id);
    if(!sec) return;
    sec.hidden = !on;
    if(on){
      sec.removeAttribute('hidden');
    }
  }

  function applyGeriatricGate(){
    const age = getAge();
    const baseOk = age !== null && age >= 65 && hasAnswered6006();

    const ids = ['#q6008','#q6009','#q6010','#q6011'];
    if(!baseOk){
      ids.forEach(id=>show(id, false));
      return;
    }
    // sequentielle Sichtbarkeit
    show('#q6008', true);
    show('#q6009', hasAnyAnswerInSection('#q6008'));
    show('#q6010', hasAnyAnswerInSection('#q6009'));
    show('#q6011', hasAnyAnswerInSection('#q6010'));
  }

  document.addEventListener('change', function(e){
    const n = e.target && e.target.name;
    if(!n) return;
    if(['0003_tag','0003_monat','0003_jahr','6006','6008','6009_sturz','6010'].includes(n)){
      setTimeout(applyGeriatricGate, 0);
    }
  }, {passive:true});

  // Initial
  applyGeriatricGate();
})();
</script>


<script>
(function() {
  // Option C: q1121 tempor√§r an Block 7000 verschieben
  var lungSelector = 'input[name="7000"][type="checkbox"][value*="Lungenerkrankung"]';
  var anchor = document.getElementById('q7000_anchor');
  var q1121 = document.getElementById('q1121');

  function setup(){
    var lung = document.querySelector(lungSelector);
    if (!lung || !anchor || !q1121) return;

    var placeholder = null, originalParent = null, originalNext = null;

    function moveToAnchor(){
      if (!placeholder) {
        placeholder = document.createComment('q1121_placeholder');
        originalParent = q1121.parentNode;
        originalNext = q1121.nextSibling;
        originalParent.insertBefore(placeholder, originalNext);
      }
      q1121.classList.remove('hidden');
      anchor.classList.remove('hidden');
      anchor.parentNode.insertBefore(q1121, anchor.nextSibling);
    }

    function moveBack(){
      if (!placeholder || !originalParent) return;
      if (placeholder.parentNode === originalParent) {
        originalParent.insertBefore(q1121, placeholder);
        anchor.classList.add('hidden');
      } else {
        originalParent.appendChild(q1121);
      }
    }

    function update(){
      if (lung.checked) moveToAnchor();
      else moveBack();
    }

    lung.addEventListener('change', update);
    update();
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', setup);
  } else {
    setup();
  }
})();
</script>
<script id="optionC_q1121_to_7000">
(function() {
  // Option C: q1121 tempor√§r ans Ende von Block 7000 verschieben, wenn 'Lungenerkrankung' (q7000) aktiv
  var anchor = document.getElementById('q7000_anchor');
  var q1121 = document.getElementById('q1121');
  if (!anchor || !q1121) return;

  function findLung(){
    // Match sowohl "Lungenerkrankung" als auch "Chronische Lungenerkrankung (Asthma/COPD)"
    return document.querySelector('input[name="7000"][type="checkbox"][value*="Lungenerkrankung"]');
  }

  var placeholder = null, originalParent = null, originalNext = null;

  function ensureVisible(el){
    if (!el) return;
    try { el.classList.remove('hidden'); } catch(e){}
    if (el.hasAttribute && el.hasAttribute('hidden')) el.removeAttribute('hidden');
  }

  function moveToAnchor(){
    if (!placeholder) {
      placeholder = document.createComment('q1121_placeholder');
      originalParent = q1121.parentNode;
      originalNext = q1121.nextSibling;
      originalParent.insertBefore(placeholder, originalNext);
    }
    ensureVisible(anchor);
    ensureVisible(q1121);
    anchor.parentNode.insertBefore(q1121, anchor.nextSibling);
  }

  function moveBack(){
    if (!placeholder || !originalParent) return;
    if (placeholder.parentNode === originalParent) {
      originalParent.insertBefore(q1121, placeholder);
      anchor.classList.add('hidden');
    } else {
      originalParent.appendChild(q1121);
    }
    // Sichtbarkeit danach ggf. durch generische Logik gesteuert
  }

  function update(){
    var lung = findLung();
    if (lung && lung.checked) moveToAnchor();
    else moveBack();
  }

  document.addEventListener('change', function(e){
    var t = e.target;
    if(!t) return;
    if (t.name === '7000') update();
  });

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function(){ setTimeout(update, 0); }, {once:true});
  } else {
    setTimeout(update, 0);
  }
})();
</script>
<script id="q1006_peds_hide_under16">
(function(){
  const $ = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  function getBirthIso(){
    // Use hidden ISO if present, else compute from selects
    const iso = $('#id_0003_iso')?.value || "";
    if (iso) return iso;
    const d = $('select[name="0003_tag"]')?.value || "";
    const m = $('select[name="0003_monat"]')?.value || "";
    const y = $('select[name="0003_jahr"]')?.value || "";
    if (!(d && m && y)) return "";
    const mm = String(m).padStart(2,'0');
    const dd = String(d).padStart(2,'0');
    return `${y}-${mm}-${dd}`;
  }

  function calcAge(iso){
    if(!iso) return null;
    const parts = iso.split('-').map(Number);
    if(parts.length < 3 || !parts[0]) return null;
    const dob = new Date(parts[0], (parts[1]||1)-1, parts[2]||1);
    const today = new Date();
    let age = today.getFullYear() - dob.getFullYear();
    const m = today.getMonth() - dob.getMonth();
    if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) age--;
    return age;
  }

  const VALUES_TO_HIDE = new Set([
    "Augenbeschwerden",
    "Urologische/Gyn√§kologische Beschwerden",
    "Psychische/Psychosomatische Beschwerden"
  ]);

  function updatePedsHide(){
    const iso = getBirthIso();
    const age = calcAge(iso);
    // Only act if age is a number
    const under16 = (typeof age === 'number') && (age < 16);
    const q = $('#q1006');
    if(!q) return;
    // Find all labels in q1006; each has an input with value attribute
    $$('#q1006 label.choice').forEach(lbl => {
      const inp = lbl.querySelector('input[name="1006"]');
      if(!inp) return;
      const shouldHide = under16 && VALUES_TO_HIDE.has(inp.value);
      lbl.style.display = shouldHide ? 'none' : '';
      // Do NOT uncheck or disable (Variante A). Only hide visually.
    });
  }

  // Observe relevant changes
  ['input','change'].forEach(ev=>{
    document.addEventListener(ev, e=>{
      const n = e.target && e.target.name || "";
      if (["0003_tag","0003_monat","0003_jahr"].includes(n) || n === "1006") {
        updatePedsHide();
      }
    }, {passive:true});
  });

  // Also run once on DOM ready and after a short delay to catch dynamic reveals
  document.addEventListener('DOMContentLoaded', updatePedsHide, {once:true});
  setTimeout(updatePedsHide, 300);
})();</script>
<script id="logic-peds-age-and-q2005">
(function(){
  const $$=(s,r=document)=>Array.from(r.querySelectorAll(s));
  function getAge(){
    const d = +document.querySelector('[name="0003_tag"]')?.value || 0;
    const m = +document.querySelector('[name="0003_monat"]')?.value || 0;
    const y = +document.querySelector('[name="0003_jahr"]')?.value || 0;
    if(!d||!m||!y) return NaN;
    const dob = new Date(y, m-1, d);
    const now = new Date();
    let a = now.getFullYear() - dob.getFullYear();
    if (now.getMonth() < dob.getMonth() || (now.getMonth() === dob.getMonth() && now.getDate() < dob.getDate())) a--;
    return a;
  }
  function isQ2005No(){
    const v = document.querySelector('input[name="2005"]:checked')?.value || '';
    return v === 'Nein';
  }
  function toggle(el, on){ if(!el) return; el.hidden = !on; if(on) el.removeAttribute('hidden'); }
  function apply(){
    const show = (getAge() < 16) && isQ2005No();
    $$('#form section.q[id^="qP"], #form section.q[id^="q1P"]').forEach(sec => toggle(sec, show));
  }
  document.addEventListener('change', e=>{
    const n = e.target && e.target.name || e.target && e.target.id || '';
    if(['0003_tag','0003_monat','0003_jahr','2005'].includes(n)) apply();
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); }
  else { apply(); }
})();
</script>
<script id="logic-peds-age-q2005-detailed">
(function(){
  const $  = (s,r=document)=>r.querySelector(s);
  const $$ = (s,r=document)=>Array.from(r.querySelectorAll(s));

  function getAge(){
    const d = +$('[name="0003_tag"]')?.value || 0;
    const m = +$('[name="0003_monat"]')?.value || 0;
    const y = +$('[name="0003_jahr"]')?.value || 0;
    if(!d||!m||!y) return NaN;
    const dob = new Date(y, m-1, d);
    const now = new Date();
    let a = now.getFullYear() - dob.getFullYear();
    if (now.getMonth() < dob.getMonth() || (now.getMonth() === dob.getMonth() && now.getDate() < dob.getDate())) a--;
    return a;
  }
  function ans2005(){
    return document.querySelector('input[name="2005"]:checked')?.value || '';
  }
  function visible(el, on){
    if(!el) return;
    el.hidden = !on;
    if(on) el.removeAttribute('hidden');
    else{
      // clear inputs when hiding to avoid stale answers
      el.querySelectorAll('input,select,textarea').forEach(n=>{
        if(n.type==="checkbox"||n.type==="radio") n.checked=false;
        else n.value="";
      });
    }
  }
  function showId(id, on){
    const el = document.getElementById(id);
    if(!el) return;
    visible(el, on);
    // Wenn wir einen neuen Block anzeigen, √∂ffnen wir den Akkordeon-Abschnitt automatisch
    if(on){
      var header = el.querySelector('.q-accordion-header');
      var body = el.querySelector('.q-body');
      if(header && body && body.style.display === 'none'){
        header.setAttribute('aria-expanded','true');
        body.style.display = '';
      }
    }
  }
  function showPeds(on){ $$('#form section.q[id^="qP"], #form section.q[id^="q1P"]).forEach(sec=>visible(sec,on)); }

  function apply(){
    const age = getAge();
    const isChild = age < 16;
    const isLittleChild = age < 6;
    const v = ans2005();

    // Standard: q4002 darf bei Kindern nie erscheinen
    if (isChild) { showId('q4002', false); }

    if (v === 'Nein'){
      // Neue Patient:innen: Kontaktblock q3000‚Äìq3004 √∂ffnen
      ['q3000','q3001','q3002','q3003','q3004'].forEach(id => showId(id, true));
      // P√§diatrie nur bei kleinen Kindern (< 6 Jahre) sichtbar
      if(isLittleChild){
        showPeds(true);
      } else {
        showPeds(false);
      }
    } else if (v === 'Ja'){
      // Bestandspatient: nur E-Mail und Mobilrufnummer offen halten
      ['q3003','q3004'].forEach(id => showId(id, true));
      ['q3000','q3001','q3002'].forEach(id => showId(id, false));
      showPeds(false);
    } else {
      // Unbestimmt: P√§diatrie aus, Kontaktbereich unver√§ndert
      showPeds(false);
    }
  }

  // Wire listeners
  ['change','input'].forEach(ev=>{
    document.addEventListener(ev, e=>{
      const n = e.target && (e.target.name || e.target.id) || '';
      if(['2005','0003_tag','0003_monat','0003_jahr'].includes(n)) apply();
    }, {passive:true});
  });
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); }
  else { apply(); }
})();
</script>
<script id="logic-peds-q2005-age-gate-v2">
(function(){
  const $  = (s,r=document)=>r.querySelector(s);
  const $$ = (s,r=document)=>Array.from(r.querySelectorAll(s));

  function getAge(){
    const d = +$('[name="0003_tag"]')?.value || 0;
    const m = +$('[name="0003_monat"]')?.value || 0;
    const y = +$('[name="0003_jahr"]')?.value || 0;
    if(!d||!m||!y) return NaN;
    const dob = new Date(y, m-1, d);
    const now = new Date();
    let a = now.getFullYear() - dob.getFullYear();
    if(now.getMonth() < dob.getMonth() || (now.getMonth() === dob.getMonth() && now.getDate() < dob.getDate())) a--;
    return a;
  }
  function q2005(){
    return document.querySelector('input[name="2005"]:checked')?.value || '';
  }
  function showId(id, on){
    const el = document.getElementById(id);
    if(!el) return;
    el.hidden = !on;
    if(on){
      el.removeAttribute('hidden');
    } else {
      el.querySelectorAll('input,select,textarea').forEach(n=>{
        if(n.type==="checkbox"||n.type==="radio") n.checked=false;
        else n.value="";
      });
    }
    // Akkordeon: automatisch √∂ffnen, wenn Abschnitt sichtbar gemacht wird
    if(on){
      var header = el.querySelector('.q-accordion-header');
      var body = el.querySelector('.q-body');
      if(header && body && body.style.display === 'none'){
        header.setAttribute('aria-expanded','true');
        body.style.display = '';
      }
    }
  }
  function showPeds(on){
    $$('#form section.q[id^="qP"], #form section.q[id^="q1P"]').forEach(sec=>{
      sec.hidden = !on;
      if(on) sec.removeAttribute('hidden');
      else {
        sec.querySelectorAll('input,select,textarea').forEach(n=>{
          if(n.type==="checkbox"||n.type==="radio") n.checked=false;
          else n.value="";
        });
      }
    });
  }

  function apply(){
    const age = getAge();
    const isChild = age < 16;
    const isLittleChild = age < 6;
    const a2005 = q2005();

    // Standard: bei Kindern q4002 nie anzeigen
    if (isChild) { showId('q4002', false); }

    if (a2005 === 'Nein'){
      // Neue Patient:innen: Kontaktblock q3000‚Äìq3004 √∂ffnen
      ['q3000','q3001','q3002','q3003','q3004'].forEach(id=>showId(id,true));
      // P√§diatrieblock nur bei kleinen Kindern (< 6 Jahre) sichtbar
      if(isLittleChild){
        showPeds(true);
      } else {
        showPeds(false);
      }
    } else if (a2005 === 'Ja'){
      // Bestandspatient: nur E-Mail und Mobilrufnummer
      ['q3003','q3004'].forEach(id=>showId(id,true));
      ['q3000','q3001','q3002'].forEach(id=>showId(id,false));
      showPeds(false);
    } else {
      // Unbestimmt: Peds aus
      showPeds(false);
    }
  }

  ['change','input'].forEach(ev=>{
    document.addEventListener(ev, e=>{
      const n = e.target && (e.target.name || e.target.id) || '';
      if(['2005','0003_tag','0003_monat','0003_jahr'].includes(n)) apply();
    }, {passive:true});
  });
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); }
  else { apply(); }
})();
</script>
<script id="q9000-reset-ensure-visible">
document.addEventListener('DOMContentLoaded', function(){
  var form = document.querySelector('form');
  if(!form) return;
  form.addEventListener('reset', function(){
    setTimeout(function(){
      var sec = document.getElementById('q9000');
      if(sec){
        // ensure section is visible
        sec.removeAttribute('hidden');
        sec.style.display = '';
      }
      // call common helpers if present
      try{ if(typeof vis==='function'){ vis('q9000', true); } }catch(e){}
      try{ if(typeof showId==='function'){ showId('q9000', true); } }catch(e){}
      // enable action buttons in q9000
      try{
        if(sec){
          sec.querySelectorAll('button, input[type="submit"], [data-action]').forEach(function(b){
            if(b) b.disabled = false;
          });
        }
      }catch(e){}
    }, 0);
  });
});
</script><script id="reset-preserve-q0000-q0001">
document.addEventListener('DOMContentLoaded', function(){
  var form = document.querySelector('form');
  if(!form) return;

  function snapshotSectionValues(sectionId){
    var sec = document.getElementById(sectionId);
    var data = {};
    if(!sec) return data;
    sec.querySelectorAll('input, select, textarea').forEach(function(el){
      var key = el.name || el.id;
      if(!key) return;
      if(el.type === 'checkbox' || el.type === 'radio'){
        data[key] = el.checked;
      }else{
        data[key] = el.value;
      }
    });
    return data;
  }

  function restoreSectionValues(sectionId, data){
    var sec = document.getElementById(sectionId);
    if(!sec || !data) return;
    var evInput = new Event('input', {bubbles:true});
    var evChange = new Event('change', {bubbles:true});
    sec.querySelectorAll('input, select, textarea').forEach(function(el){
      var key = el.name || el.id;
      if(!(key in data)) return;
      var val = data[key];
      if(el.type === 'checkbox' || el.type === 'radio'){
        el.checked = !!val;
      }else{
        try{ el.value = val; }catch(e){}
      }
      try{ el.dispatchEvent(evInput); el.dispatchEvent(evChange); }catch(e){}
    });
  }

  form.addEventListener('reset', function(){
    // snapshot only q0000 and q0001
    var snap_q0000 = snapshotSectionValues('q0000');
    var snap_q0001 = snapshotSectionValues('q0001');

    // let native reset run, then restore wanted fields
    setTimeout(function(){
      // ensure q9000 visible and buttons enabled
      (function(){
        var sec = document.getElementById('q9000');
        if(sec){
          sec.removeAttribute('hidden');
          sec.style.display = '';
          try{ if(typeof vis==='function'){ vis('q9000', true); } }catch(e){}
          try{ if(typeof showId==='function'){ showId('q9000', true); } }catch(e){}
          try{ sec.querySelectorAll('button, input[type="submit"], [data-action]').forEach(function(b){ b.disabled = false; }); }catch(e){}
        }
      })();

      // restore only q0000 and q0001
      restoreSectionValues('q0000', snap_q0000);
      restoreSectionValues('q0001', snap_q0001);

      // explicitly do NOT restore q0002/q0003 (native reset already cleared)

      // optional: retrigger global age/logic recalculations if present
      try{ if(typeof window.apply==='function'){ window.apply(); } }catch(e){}
      try{ if(typeof window.updateAgeDependentVisibility==='function'){ window.updateAgeDependentVisibility(); } }catch(e){}
      try{ document.dispatchEvent(new Event('form-updated')); }catch(e){}
    }, 0);
  });
});
</script>
<script id="progress-framed-controller">
(function(){
  const fill = document.getElementById('progressFill');
  const text = document.getElementById('progressText');

  function isEdited(section){
    if(!section) return false;
    const inputs = section.querySelectorAll('input, select, textarea');
    for(const el of inputs){
      if(el.disabled) continue;
      if(el.type === 'checkbox' || el.type === 'radio'){
        if(el.checked) return true;
      }else if(el.tagName === 'SELECT'){
        if(el.selectedIndex > 0) return true;
      }else{
        if((el.value || '').trim() !== '') return true;
      }
    }
    return false;
  }

  function byId(id){ return document.getElementById(id); }

  function computePercent(){
    let sum = 0;
    const baseIds = ["q0000","q1000","q2000","q3000","q4000","q5000","q6000","q7000","q8000"];
    baseIds.forEach(id => {
      const sec = byId(id);
      if(sec && !sec.hidden && isEdited(sec)) sum += 10;
    });
    const b8900 = byId("q8900");
    if(b8900 && !b8900.hidden && isEdited(b8900)) sum += 10;

    let q2005Yes = false;
    const sec2005 = byId("q2005");
    const scopes = [];
    if(sec2005) scopes.push(sec2005);
    scopes.push(document);
    for(const scope of scopes){
      const rc = scope.querySelectorAll('input[name*="q2005" i], input[id*="q2005" i]');
      for(const el of rc){
        if((el.type === 'radio' || el.type === 'checkbox') && el.checked){
          const val = (el.value || '').toLowerCase();
          if(val === 'ja' || val === 'yes' || val === 'y' || val === 'true' || val === '1'){ q2005Yes = true; break; }
          let lbl = '';
          try{ const lab = el.closest('label'); if(lab) lbl = lab.textContent || ''; }catch(_){}
          if(lbl && /(^|\s)ja(\s|$)/i.test(lbl)) { q2005Yes = true; break; }
        }
      }
      if(q2005Yes) break;
      const sels = scope.querySelectorAll('select[name*="q2005" i], select[id*="q2005" i]');
      for(const s of sels){
        const opt = s.options[s.selectedIndex] || null;
        const txt = (opt ? opt.textContent : '').trim().toLowerCase();
        if(txt === 'ja' || /(^|\s)ja(\s|$)/i.test(txt)){ q2005Yes = true; break; }
        const val = (s.value || '').toLowerCase();
        if(val === 'ja' || val === 'yes' || val === 'y' || val === 'true' || val === '1'){ q2005Yes = true; break; }
      }
      if(q2005Yes) break;
    }
    if(q2005Yes) sum += 30;

    const pIds = ["qP00","qP10","qP20","qP20√ü","qP30","qP40"];
    const seen = new Set();
    pIds.forEach(id => {
      const sec = byId(id);
      if(sec && !sec.hidden && isEdited(sec)){
        const key = id.replace('qP20√ü','qP20');
        if(!seen.has(key)){
          sum += 10;
          seen.add(key);
        }
      }
    });

    return sum;
  }

  function updateUI(){
    const pctSum = computePercent();
    const pctBar = Math.max(0, Math.min(100, pctSum));
    if(fill){
      fill.style.width = pctBar.toFixed(2) + '%';
      if(pctBar >= 99.5){ fill.classList.add('complete'); } else { fill.classList.remove('complete'); }
    }
    if(text){
      text.textContent = Math.round(pctSum) + '%';
    }
  }

  document.addEventListener('input', updateUI, {passive:true});
  document.addEventListener('change', updateUI, {passive:true});
  window.addEventListener('scroll', updateUI, {passive:true});
  window.addEventListener('resize', updateUI, {passive:true});
  document.addEventListener('DOMContentLoaded', updateUI);
  updateUI();
})();
</script>
<script id="weighted-progress">
(function () {
  const $ = (s, r = document) => r.querySelector(s);
  const $$ = (s, r = document) => Array.from(r.querySelectorAll(s));

  const progressFill = $('#progressFill') || $('#progressBar');
  const progressText = $('#progressText');

  function isAnsweredByName(name, predicate = null) {
    const els = $$(`[name="${name}"]`);
    if (!els.length) return false;

    if (els[0].type === 'radio') {
      const checked = els.find(el => el.checked);
      if (!checked) return false;
      return predicate ? predicate(checked.value ?? '') : true;
    }
    if (els[0].type === 'checkbox') {
      const any = els.some(el => el.checked);
      if (!any) return false;
      if (!predicate) return true;
      const chosen = els.find(el => el.checked);
      return predicate(chosen?.value ?? '');
    }
    const el = els[0];
    const val = (el.value || '').trim();
    if (!val) return false;
    return predicate ? predicate(val) : true;
  }

  function anyAnsweredByRegex(re, excludeBases = []) {
    const nodes = $$('input[name], select[name], textarea[name]');
    for (const n of nodes) {
      const name = n.name || '';
      if (!re.test(name)) continue;
      const base = name.replace(/_freitext$/, '');
      if (excludeBases.includes(base)) continue;

      if (n.tagName === 'INPUT') {
        const type = (n.type || '').toLowerCase();
        if (type === 'checkbox' || type === 'radio') { if (n.checked) return true; }
        else if ((n.value || '').trim()) return true;
      } else {
        const val = (n.value || '').trim();
        if (val && val !== 'Bitte w√§hlen‚Ä¶') return true;
      }
    }
    return false;
  }

  function computeProgress() {
    let p = 0;

    const ten = [
      {name: '1000', pred: v => String(v).toLowerCase() === 'nein'},
      {name: '2000'}, {name: '2006'}, {name: '3003'}, {name: '5000'},
      {name: '6000', pred: v => String(v).toLowerCase() === 'nein'},
      {name: '7000'}, {name: '8000'}, {name: '8900'},
      {name: '1P00'}, {name: '1P10'}, {name: '1P20'}, {name: '1P30'}, {name: '1P40'}
    ];
    ten.forEach(({name, pred}) => { if (isAnsweredByName(name, pred)) p += 10; });

    // Count any 70xx/80xx (excluding 7000/8000) for the capped 5% per block
    if (anyAnsweredByRegex(/^7\d{3}(?:_freitext)?$/, ['7000'])) p += 5;
    if (anyAnsweredByRegex(/^8\d{3}(?:_freitext)?$/, ['8000'])) p += 5;
    if (isAnsweredByName('7000', v => String(v).toLowerCase() === 'keine')) p += 15;
    if (isAnsweredByName('8000', v => String(v).toLowerCase() === 'keine')) p += 15;

    [
      '1001_select','1002_select','1003','1004_select','1006',
      '6001','6002','6003','6004','6005'
    ].forEach(n => { if (isAnsweredByName(n)) p += 2; });

    if (p > 100) p = 100;
    if (p < 0) p = 0;
    return Math.round(p);
  }

  function render() {
    const p = computeProgress();
    if (progressFill) {
      if (progressFill.id === 'progressFill') progressFill.style.width = `${p}%`;
      else progressFill.style.width = `${p}%`;
      progressFill.classList.toggle('complete', p === 100);
    }
    if (progressText) progressText.textContent = `${p}%`;
  }

  ['input', 'change'].forEach(ev => document.addEventListener(ev, render, {passive: true}));
  render();
})();
</script>
<script id="route-q4002-by-age-and-2005">
(function(){
  const DOB = ['0003_tag','0003_monat','0003_jahr'];
  function q(sel, r=document){ return r.querySelector(sel); }
  function $all(sel){ return Array.from(document.querySelectorAll(sel)); }
  function toInt(v){ const n = parseInt(v,10); return Number.isFinite(n) ? n : null; }
  function age(){
    const d = toInt(q('select[name="0003_tag"]')?.value || '');
    const m = toInt(q('select[name="0003_monat"]')?.value || '');
    const y = toInt(q('select[name="0003_jahr"]')?.value || '');
    if(!(d && m && y)) return null;
    const now = new Date();
    const dob = new Date(y, m-1, d);
    let A = now.getFullYear() - dob.getFullYear();
    const md = now.getMonth() - dob.getMonth();
    if (md < 0 || (md === 0 && now.getDate() < dob.getDate())) A--;
    return A;
  }
  function show(el){ if(!el) return; el.hidden=false; el.removeAttribute('hidden'); }
  function hide(el){ if(!el) return; el.hidden=true; el.setAttribute('hidden',''); }
  function is2005Nein(){
    // Accept radio or checkbox group named "2005" with value "Nein"
    return $all('input[name="2005"]').some(x => x.checked && String(x.value).toLowerCase()==='nein');
  }
  function apply(){
    const sec = q('#q4002');
    if(!sec) return;
    const a = age();
    if (a !== null && a < 16){ hide(sec); return; }
    if (a !== null && a >= 16 && is2005Nein()){ show(sec); return; }
    hide(sec);
  }
  // Only react to DOB and 2005
  document.addEventListener('change', (e)=>{
    const n = e.target && e.target.name || '';
    if (DOB.includes(n) || n === '2005') apply();
  }, {passive:true});
  document.addEventListener('input', (e)=>{
    const n = e.target && e.target.name || '';
    if (DOB.includes(n) || n === '2005') apply();
  }, {passive:true});
  document.addEventListener('DOMContentLoaded', apply, {once:true});
  apply();
})();
</script>
<script id="summary-ensure-7000-final">
(function(){
  function $(s, r){ return (r||document).querySelector(s); }
  function $$ (s, r){ return Array.from((r||document).querySelectorAll(s)); }
  function hasKey(txt, k){
    try{ return new RegExp('(^|\\b)'+k+'\s*:').test(txt); }catch(e){ return txt.indexOf(k+':')>=0; }
  }
  function uniq(arr){ return Array.from(new Set(arr.filter(Boolean))); }
  function collectVals(fd, base){
    var vals = [];
    try{ vals = (fd.getAll(base) || []).filter(function(v){ return v && v!=='Bitte w√§hlen‚Ä¶'; }); }catch(e){}
    if(!vals.length){
      $$('[name="'+base+'"]').forEach(function(n){
        var v = '';
        if(n.type==='radio'){ if(n.checked) v = n.value||''; }
        else if(n.type==='checkbox'){ if(n.checked) v = n.value||''; }
        else { v = n.value||''; }
        v=(v||'').trim();
        if(v && v!=='Bitte w√§hlen‚Ä¶') vals.push(v);
      });
    }
    var ft = (fd.get(base+'_freitext')||'').toString().trim(); if(ft) vals.push(ft);
    ['_text','_select','_date','_time'].forEach(function(suf){
      var x = (fd.get(base+suf)||'').toString().trim();
      if(x && x!=='Bitte w√§hlen‚Ä¶') vals.push(x);
    });
    return uniq(vals);
  }
  function ensure7000(){
    var sum = $('#summary'); if(!sum) return;
    var txt = (sum.value||'').trim();
    var form = $('#form') || document.forms[0] || document;
    try{ if(typeof buildAllGesamtDynamic==='function'){ buildAllGesamtDynamic(); } }catch(e){}
    var fd = new FormData(form);
    var parts = [];
    for(var i=1;i<100;i++){
      var k = String(7000 + i); // handles names like "7001", "7002", ...
      var vals = collectVals(fd, k);
      if(!vals.length) continue;
      if(!hasKey(txt, k)){
        parts.push(k + ': ' + vals.join(' / '));
      }
    }
    if(parts.length){
      sum.value = (txt ? (txt + ' / ') : '') + parts.join(' / ');
    }
  }
  function runLast(){
    setTimeout(function(){ ensure7000(); }, 0);
  }
  document.addEventListener('click', function(ev){
    var id = ev.target && ev.target.id || '';
    if(id==='btnSummary' || /^btnSendMail/.test(id)){
      runLast();
    }
  }, {passive:true});
})();
</script>
<script id="freitext-prefill-guard">
// Robust guard: prevent address (q3002) from auto-filling pediatric/text freitext fields
(function(){
  const $  = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  function street(){
    const el = $('input[name="3002"]');
    return el ? (el.value||'').trim() : '';
  }

  function isCandidate(el){
    if(!el) return false;
    const n = el.name || "";
    const type = (el.getAttribute('type')||'').toLowerCase();
    const tag = el.tagName.toLowerCase();
    const isTextual = (tag === 'textarea') || ['text','search','email','tel','url'].includes(type);
    if(!isTextual) return false;
    // Match any *_freitext OR any 1P**_* fields (e.g., 1P54_elternentscheidung)
    return /_freitext$/.test(n) || /^1P\d+_/.test(n);
  }

  function harden(el){
    try{
      el.setAttribute('autocomplete','off');
      el.autocomplete = 'off';
      el.autocapitalize = 'off';
      el.autocorrect = 'off';
      el.spellcheck = false;
      el.setAttribute('data-keep','freitext');
    }catch(e){}
  }

  function candidates(){
    return $$('input, textarea').filter(isCandidate);
  }

  function clearClones(){
    const s = street();
    if(!s) return;
    candidates().forEach(el=>{
      harden(el);
      const v = (el.value||'').trim();
      if(v === s){
        el.value = '';
        el.dispatchEvent(new Event('input', {bubbles:true}));
      }
    });
  }

  function init(){
    candidates().forEach(harden);
    clearClones();
  }

  document.addEventListener('input', (e)=>{
    const t = e && e.target;
    if(!t) return;
    if(t.name === '3002' || /_freitext$/.test(t.name||'') || /^1P\d+_/.test(t.name||'')){
      clearClones();
    }
  }, {passive:true});

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
  let n=0; const timer=setInterval(()=>{ clearClones(); if(++n>10) clearInterval(timer); }, 300);
})();
</script>
<script id="placeholder-hide-guard">
(function(){
  function hidePlaceholder(el){
    if(!el) return;
    const val = (el.value||'').trim();
    if(val){
      if(!el.dataset.ph) el.dataset.ph = el.getAttribute('placeholder') || '';
      el.setAttribute('placeholder','');
    }else{
      if(el.dataset && 'ph' in el.dataset){
        el.setAttribute('placeholder', el.dataset.ph);
      }
    }
  }
  function init(){
    const nodes = Array.from(document.querySelectorAll('input.freitext-blue[name="1P54_freitext"], textarea.freitext-blue[name="1P54_freitext"]'));
    nodes.forEach(n=>{
      hidePlaceholder(n);
      n.addEventListener('input', function(){ hidePlaceholder(n); }, {passive:true});
      n.addEventListener('blur', function(){ hidePlaceholder(n); }, {passive:true});
      n.addEventListener('focus', function(){ hidePlaceholder(n); }, {passive:true});
    });
  }
  if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init); else init();
  // Also retry for late-inserted nodes
  let tries=0; const t=setInterval(()=>{ init(); if(++tries>10) clearInterval(t); }, 300);
})();
</script>
<script id="gate-q1137-female-age-erbrechen">
(function(){
  const $ = (s,r=document)=>r.querySelector(s);

  function getAge(){
    const d = parseInt(($('[name="0003_tag"]')||{}).value||0,10);
    const m = parseInt(($('[name="0003_monat"]')||{}).value||0,10);
    const y = parseInt(($('[name="0003_jahr"]')||{}).value||0,10);
    if(!d||!m||!y) return null;
    const dob = new Date(y, m-1, d);
    const now = new Date();
    let a = now.getFullYear() - dob.getFullYear();
    const md = now.getMonth() - dob.getMonth();
    if (md < 0 || (md === 0 && now.getDate() < dob.getDate())) a--;
    return a;
  }
  function isFemale(){
    const v = ($('[name="0002"]')||{}).value || '';
    return v === 'weiblich' || /weib/i.test(v);
  }
  function hasErbrechen(){
    const el = document.querySelector('input[name="1030"][value="Erbrechen"]');
    return !!(el && el.checked);
  }
  function clearInputs(el){
    if(!el) return;
    el.querySelectorAll('input,select,textarea').forEach(n=>{
      if(n.type==='radio'||n.type==='checkbox') n.checked=false;
      else n.value='';
    });
  }
  function apply(){
    const age = getAge();
    const show = isFemale() && age!==null && age>=14 && age<=50 && hasErbrechen();
    const sec = document.getElementById('q1137');
    if(!sec) return;
    if(show){ sec.hidden=false; sec.removeAttribute('hidden'); }
    else { sec.hidden=true; clearInputs(sec); }
  }
  function schedule(){ setTimeout(apply,0); }

  ['change','input'].forEach(ev=>{
    document.addEventListener(ev, e=>{
      const n = e.target && e.target.name || '';
      if(['0002','0003_tag','0003_monat','0003_jahr','1030'].includes(n)) schedule();
    }, {passive:true});
  });

  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); }
  else { apply(); }

  // safety run after other toggle scripts
  setTimeout(apply, 200);
})();
</script>
<script id="gate-q1030-durchfall">
(function(){
  function vis(ids, on){
    ids.forEach(function(id){
      var sec = document.getElementById(id);
      if(!sec) return;
      sec.hidden = !on;
      if(on){ sec.removeAttribute('hidden'); }
      else {
        sec.querySelectorAll('input,select,textarea').forEach(function(n){
          if(n.type==='radio' || n.type==='checkbox') n.checked = false;
          else n.value = '';
        });
      }
    });
  }
  function isDurchfallChecked(){
    var el = document.querySelector('input[name="1030"][value="Durchfall"]');
    return !!(el && el.checked);
  }
  function apply(){ vis(['q1230','q1231','q1232','q1233'], isDurchfallChecked()); }
  document.addEventListener('change', function(e){
    if(e && e.target && e.target.name==='1030') apply();
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); }
  else { apply(); }
  setTimeout(apply, 150);
})();
</script>
<script id="gate-q1030-koliken">
(function(){
  function clearInputs(el){
    if(!el) return;
    el.querySelectorAll('input,select,textarea').forEach(function(n){
      if(n.type==='radio' || n.type==='checkbox') n.checked=false;
      else n.value='';
    });
  }
  function vis(id, on){
    var sec = document.getElementById(id);
    if(!sec) return;
    if(on){ sec.hidden=false; sec.removeAttribute('hidden'); }
    else { sec.hidden=true; clearInputs(sec); }
  }
  function hasKoliken(){
    var el = document.querySelector('input[name="1030"][value="Koliken"]');
    return !!(el && el.checked);
  }
  function getAge(){
    var d = parseInt((document.querySelector('[name="0003_tag"]')||{}).value||0,10);
    var m = parseInt((document.querySelector('[name="0003_monat"]')||{}).value||0,10);
    var y = parseInt((document.querySelector('[name="0003_jahr"]')||{}).value||0,10);
    if(!d||!m||!y) return null;
    var dob = new Date(y, m-1, d);
    var now = new Date();
    var a = now.getFullYear() - dob.getFullYear();
    var md = now.getMonth() - dob.getMonth();
    if (md < 0 || (md === 0 && now.getDate() < dob.getDate())) a--;
    return a;
  }
  function isFemale(){
    var v = (document.querySelector('[name="0002"]')||{}).value||'';
    return /weiblich/i.test(v);
  }
  function apply(){
    var kolik = hasKoliken();
    vis('q1330', kolik);
    vis('q1331', kolik);
    vis('q1332', kolik);
    var age = getAge();
    var gyn = kolik && isFemale() && age!==null && age>=14 && age<=50;
    vis('q1334', gyn);
  }
  document.addEventListener('change', function(e){
    var n = e && e.target && e.target.name || '';
    if(n==='1030' || n==='0002' || n==='0003_tag' || n==='0003_monat' || n==='0003_jahr'){ apply(); }
  }, {passive:true});
  document.addEventListener('input', function(e){
    var n = e && e.target && e.target.name || '';
    if(n==='0003_tag' || n==='0003_monat' || n==='0003_jahr'){ apply(); }
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); } else { apply(); }
  setTimeout(apply, 200);
})();
</script>
<script id="gate-q1030-verstopfung">
(function(){
  function clearInputs(el){
    if(!el) return;
    el.querySelectorAll('input,select,textarea').forEach(function(n){
      if(n.type==='radio' || n.type==='checkbox') n.checked=false;
      else n.value='';
    });
  }
  function vis(id, on){
    var sec = document.getElementById(id);
    if(!sec) return;
    if(on){ sec.hidden=false; sec.removeAttribute('hidden'); }
    else { sec.hidden=true; clearInputs(sec); }
  }
  function hasVerstopfung(){
    var nodes = document.querySelectorAll('input[name="1030"]');
    for (var i=0;i<nodes.length;i++){
      var v = (nodes[i].value||'').trim();
      if (v==='Verstopfung' && nodes[i].checked) return true;
      if (v==='Verstopfung' && nodes[i].ariaChecked==='true') return true; // safety if custom widgets
    }
    // fallback direct selector
    var el = document.querySelector('input[name="1030"][value="Verstopfung"]');
    return !!(el && el.checked);
  }
  function apply(){
    var on = hasVerstopfung();
    vis('q1430', on);
    vis('q1431', on);
  }
  document.addEventListener('change', function(e){
    if(!e || !e.target) return;
    if(e.target.name==='1030') apply();
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); }
  else { apply(); }
  setTimeout(apply, 150);
})();
</script>
<script id="gate-q1005-fieber">
(function(){
  function clearInputs(el){
    if(!el) return;
    el.querySelectorAll('input,select,textarea').forEach(function(n){
      if(n.type==='radio' || n.type==='checkbox'){ n.checked=false; }
      else { n.value=''; }
    });
  }
  function vis(id,on){
    var sec=document.getElementById(id);
    if(!sec) return;
    if(on){ sec.hidden=false; sec.removeAttribute('hidden'); }
    else { sec.hidden=true; clearInputs(sec); }
  }
  function hasFieber(){
    var nodes=document.querySelectorAll('input[name="1005"]');
    for(var i=0;i<nodes.length;i++){
      if((nodes[i].value||'').trim()==='Fieber' && nodes[i].checked) return true;
    }
    return false;
  }
  function apply(){
    var on = hasFieber();
    var ids = ['q1105','q1205','q1305','q1405'];
    // Only show the first Fieber question when selected; hide the rest until answered
    ids.forEach(function(id, idx){
      vis(id, on && idx === 0);
    });
  }
  document.addEventListener('change', function(e){
    if(e && e.target && e.target.name==='1005') apply();
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); } else { apply(); }
  setTimeout(apply, 200);
})();
</script>
<script id="gate-q1005-gewichtsverlust-1505-1705">
(function(){
  function clearInputs(el){
    if(!el) return;
    el.querySelectorAll('input,select,textarea').forEach(function(n){
      if(n.type==='radio' || n.type==='checkbox'){ n.checked=false; }
      else { n.value=''; }
    });
  }
  function vis(id,on){
    var sec=document.getElementById(id);
    if(!sec) return;
    if(on){ sec.hidden=false; sec.removeAttribute('hidden'); }
    else { sec.hidden=true; clearInputs(sec); }
  }
  function hasGewichtsverlust(){
    var el = document.querySelector('input[name="1005"][value="ungewollter Gewichtsverlust"]');
    return !!(el && el.checked);
  }
  function apply(){
    var on = hasGewichtsverlust();
    var ids = ['q1505','q1605','q1705'];
    // Only show the first Gewichtsverlust question when selected; hide the rest until answered
    ids.forEach(function(id, idx){
      vis(id, on && idx === 0);
    });
  }
  document.addEventListener('change', function(e){
    if(e && e.target && e.target.name==='1005') apply();
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); } else { apply(); }
  setTimeout(apply, 200);
})();
</script>
<script id="gate-q1005-kraftlosigkeit-1805-1835">
(function(){
  function clearInputs(el){
    if(!el) return;
    el.querySelectorAll('input,select,textarea').forEach(function(n){
      if(n.type==='radio' || n.type==='checkbox'){ n.checked=false; }
      else { n.value=''; }
    });
  }
  function show(id,on){
    var sec=document.getElementById(id);
    if(!sec) return;
    if(on){ sec.hidden=false; sec.classList.remove('hidden'); }
    else { sec.hidden=true; sec.classList.add('hidden'); clearInputs(sec); }
  }
  function isKraftlosigkeitChecked(){
    // q1005 is a checkbox list; accept slight variants
    var nodes = Array.from(document.querySelectorAll('input[name="1005"]'));
    if(!nodes.length) return false;
    return nodes.some(function(n){
      if(!n.checked) return false;
      var v = String(n.value||'').trim().toLowerCase();
      return v === 'kraftlosigkeit';
    });
  }
  function apply(){
    var on = isKraftlosigkeitChecked();
    var ids = ['q1805','q1815','q1825','q1835'];
    // Only show the first Kraftlosigkeit question when selected; hide the rest until answered
    ids.forEach(function(id, idx){
      show(id, on && idx === 0);
    });
  }
  document.addEventListener('change', function(e){
    if(e && e.target && e.target.name==='1005') apply();
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); } else { apply(); }
  setTimeout(apply, 200);
})();
</script>
<script id="gate-q1090-zyklus-1190-1194">
(function(){
  function clearInputs(el){
    if(!el) return;
    el.querySelectorAll('input,select,textarea').forEach(function(n){
      if(n.type==='radio' || n.type==='checkbox'){ n.checked=false; }
      else { n.value=''; }
    });
  }
  function show(id,on){
    var sec=document.getElementById(id);
    if(!sec) return;
    if(on){ sec.hidden=false; sec.classList.remove('hidden'); }
    else { sec.hidden=true; sec.classList.add('hidden'); clearInputs(sec); }
  }
  function matchTerm(v){
    v = String(v||'').trim().toLowerCase();
    return v==='zyklusst√∂rungen' || v==='zyklusstoerungen' || v==='zyklusunregelm√§√üigkeiten' || v==='zyklusunregelmaessigkeiten';
  }
  function hasZyklus(){
    var nodes = Array.from(document.querySelectorAll('[name="1090"],[name="q1090"]'));
    if(!nodes.length) return false;
    // radios/checkboxes
    if(nodes.some(function(n){ return n.type==='radio' || n.type==='checkbox'; })){
      if(nodes.some(function(n){ return n.checked && matchTerm(n.value); })) return true;
    }
    // select
    var sel = nodes.find(function(n){ return n.tagName==='SELECT'; });
    if(sel && matchTerm(sel.value)) return true;
    // text
    var txt = nodes.find(function(n){ return n.tagName==='INPUT' && n.type==='text'; });
    if(txt && matchTerm(txt.value)) return true;
    // explicit hidden injected option by id
    var el = document.querySelector('#opt1090_zyklus_wrap input');
    if(el && el.checked) return true;
    return false;
  }
  function apply(){
    var on = hasZyklus();
    ['q1190','q1191','q1192','q1193','q1194'].forEach(function(id){ show(id,on); });
  }
  document.addEventListener('change', function(e){
    var n = e && e.target && e.target.name || '';
    if(n==='1090' || n==='q1090') apply();
  }, {passive:true});
  document.addEventListener('input', function(e){
    var n = e && e.target && e.target.name || '';
    if(n==='1090' || n==='q1090') apply();
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); } else { apply(); }
  setTimeout(apply, 200);
})();
</script>
<script id="gate-q1090-female14-50">
(function(){
  function pad2(n){ n=parseInt(n,10); return isNaN(n)? "": (n<10?("0"+n):String(n)); }
  function birthISO(){
    var v = "";
    var hid = document.getElementById('id_0003_iso') || document.getElementById('id_q0003_iso');
    if(hid && hid.value) return hid.value;
    var dateInp = document.querySelector('input[name="0003"][type="date"], input[name="q0003"][type="date"]');
    if(dateInp && dateInp.value) return dateInp.value;
    var d = (document.querySelector('[name="0003_tag"],[name="q0003_tag"]')||{}).value||"";
    var m = (document.querySelector('[name="0003_monat"],[name="q0003_monat"]')||{}).value||"";
    var y = (document.querySelector('[name="0003_jahr"],[name="q0003_jahr"]')||{}).value||"";
    if(d && m && y) return y + "-" + pad2(m) + "-" + pad2(d);
    return "";
  }
  function calcAge(iso){
    try{
      var p = String(iso||"").split("-");
      var Y = parseInt(p[0],10), M = parseInt(p[1],10), D = parseInt(p[2],10);
      if(!Y || !M || !D) return null;
      var now = new Date();
      var age = now.getFullYear() - Y;
      var mm = (now.getMonth()+1) - M;
      var dd = now.getDate() - D;
      if(mm < 0 || (mm === 0 && dd < 0)) age--;
      return age;
    }catch(e){ return null; }
  }
  function getSex(){
    var chk = document.querySelector('[name="0002"]:checked, [name="q0002"]:checked');
    var v = "";
    if(chk && typeof chk.value==='string'){ v = chk.value; }
    else{
      var el = document.querySelector('select[name="0002"], select[name="q0002"], input[name="0002"], input[name="q0002"]');
      if(el){
        if(el.tagName==='SELECT'){
          v = el.value || (el.options[el.selectedIndex] && el.options[el.selectedIndex].text) || "";
        }else{
          v = el.value || "";
        }
      }
    }
    return String(v).trim().toLowerCase();
  }
  function isFemaleVal(val){
    return /weib/.test(val) || val==='f' || val==='w' || val==='female';
  }
  function condFemale14to50(){
    var age = calcAge(birthISO());
    var okAge = (age !== null) && age >= 14 && age <= 50;
    var sex = getSex();
    return isFemaleVal(sex) && okAge;
  }
  function setWrap(id, on){
    var wrap = document.getElementById(id);
    if(!wrap) return;
    if(on){
      wrap.hidden = false; wrap.classList.remove('hidden'); wrap.style.display='';
    }else{
      wrap.hidden = true; wrap.classList.add('hidden'); wrap.style.display='none';
      var inp = wrap.querySelector('input'); if(inp){ inp.checked = false; }
    }
  }
  function apply(){
    var on = condFemale14to50();
    setWrap('opt1090_zyklus_wrap', on);
    setWrap('opt1090_schwangerschaft_wrap', on);
  }
  function maybe(e){
    var n = (e && e.target && e.target.name) || '';
    if(n==='0002' || n==='q0002' || n==='0003' || n==='q0003' || n==='0003_tag' || n==='q0003_tag' || n==='0003_monat' || n==='q0003_monat' || n==='0003_jahr' || n==='q0003_jahr'){ apply(); }
  }
  document.addEventListener('change', maybe, {passive:true});
  document.addEventListener('input', maybe, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); } else { apply(); }
  setTimeout(apply, 250);
})();
</script>
<script id="gate-q1090-schwangerschaftsprobleme-1290-1390">
(function(){
  function clearInputs(el){
    if(!el) return;
    el.querySelectorAll('input,select,textarea').forEach(function(n){
      if(n.type==='radio' || n.type==='checkbox'){ n.checked=false; }
      else { n.value=''; }
    });
  }
  function show(id,on){
    var sec=document.getElementById(id);
    if(!sec) return;
    if(on){ sec.hidden=false; sec.classList.remove('hidden'); }
    else { sec.hidden=true; sec.classList.add('hidden'); clearInputs(sec); }
  }
  function matchTerm(v){
    v = String(v||'').trim().toLowerCase();
    return v==='schwangerschaftsprobleme' || v==='schawangerschaftsprobleme';
  }
  function hasPreg(){
    var nodes = Array.from(document.querySelectorAll('[name="1090"],[name="q1090"]'));
    if(!nodes.length) return false;
    // radios/checkboxes
    if(nodes.some(function(n){ return n.type==='radio' || n.type==='checkbox'; })){
      if(nodes.some(function(n){ return n.checked && matchTerm(n.value); })) return true;
    }
    // select
    var sel = nodes.find(function(n){ return n.tagName==='SELECT'; });
    if(sel && matchTerm(sel.value)) return true;
    // text
    var txt = nodes.find(function(n){ return n.tagName==='INPUT' && n.type==='text'; });
    if(txt && matchTerm(txt.value)) return true;
    // Direct injected option wrapper
    var el = document.querySelector('#opt1090_schwangerschaft_wrap input');
    if(el && el.checked) return true;
    return false;
  }
  function apply(){
    var on = hasPreg();
    ['q1290','q1390'].forEach(function(id){ show(id,on); });
  }
  document.addEventListener('change', function(e){
    var n = e && e.target && e.target.name || '';
    if(n==='1090' || n==='q1090') apply();
  }, {passive:true});
  document.addEventListener('input', function(e){
    var n = e && e.target && e.target.name || '';
    if(n==='1090' || n==='q1090') apply();
  }, {passive:true});
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', apply, {once:true}); } else { apply(); }
  setTimeout(apply, 200);
})();
</script>
<script id="export-all-fields-opt1">
(function(){
  function byNameAsc(a,b){
    const an=(a.name||"")+""; const bn=(b.name||"")+"";
    const ai=/^\d+/.test(an)?parseInt(an,10):NaN;
    const bi=/^\d+/.test(bn)?parseInt(bn,10):NaN;
    if(!Number.isNaN(ai)&&!Number.isNaN(bi)) return ai-bi;
    if(!Number.isNaN(ai)) return -1; if(!Number.isNaN(bi)) return 1;
    return an.localeCompare(bn);
  }
  function collectAll(form){
    const controls=[...form.querySelectorAll('input,select,textarea')].filter(el=>el.name);
    const by=new Map();
    for(const el of controls){ if(!by.has(el.name)) by.set(el.name,[]); by.get(el.name).push(el); }
    const entries=[];
    for(const [name, els] of by){
      const t=(els[0].type||"").toLowerCase();
      const tag=els[0].tagName;
      if(t==='radio'){
        const sel=els.find(e=>e.checked);
        if(sel && sel.value!=='') entries.push([name, sel.value]);
        continue;
      }
      if(t==='checkbox'){
        const vals=els.filter(e=>e.checked).map(e=>e.value).filter(v=>v!=='');
        if(vals.length) entries.push([name, vals.join(', ')]);
        continue;
      }
      if(tag==='SELECT'){
        const v=els[0].value;
        if(v!=='') entries.push([name, v]);
        continue;
      }
      const v=els[0].value;
      if(v!=='') entries.push([name, v]);
    }
    entries.sort((a,b)=>byNameAsc({name:a[0]},{name:b[0]}));
    return entries.map(([k,v])=>`${k}: ${v}`).join(' / ');
  }
  function findMailtoAnchor(){
    const btn=document.getElementById('btnSendMail');
    if(btn && btn.tagName==='A') return btn;
    return document.querySelector('a[href^="mailto:"]');
  }
  function rewriteMailto(a, bodyText){
    try{
      const href=a.getAttribute('href')||'';
      const m=href.match(/^mailto:([^?]+)(?:\?(.*))?$/i);
      const to=m?decodeURIComponent(m[1]):'';
      const qs=new URLSearchParams(m&&m[2]?m[2]:''); const subj=qs.get('subject')||'';
      const np=new URLSearchParams(); if(subj) np.set('subject', subj); np.set('body', bodyText);
      a.setAttribute('href', `mailto:${encodeURIComponent(to)}?${np.toString()}`);
      return true;
    }catch(e){ return false; }
  }
  function handleSend(ev){
    const form=document.getElementById('form')||document.forms[0];
    if(!form) return;
    const body=collectAll(form);
    const a=findMailtoAnchor();
    if(a){ rewriteMailto(a, body); if(ev && ev.type==='submit'){ ev.preventDefault(); a.click(); } }
  }
  function bind(){
    const form=document.getElementById('form');
    if(form){ form.addEventListener('submit', handleSend, {capture:true}); }
    const btn=document.getElementById('btnSendMail');
    if(btn){
      if(btn.tagName==='A'){
        btn.addEventListener('click', handleSend, {capture:true});
      }else{
        btn.addEventListener('click', function(e){ e.preventDefault(); handleSend(e); }, {capture:true});
      }
    }
  }
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', bind, {once:true}); } else { bind(); }
})();
</script>
<script id="new-section-highlight-js">
(function(){
  function markNew(sec){
    if(!sec) return;
    sec.classList.add('section-new','section-pulse');
    // Fokus auf erstes Eingabeelement
    var first = sec.querySelector('input, select, textarea, button');
    if(first){ try{ first.focus({preventScroll:true}); }catch(e){} }
    // Scroll mittig
    try{ sec.scrollIntoView({behavior:'smooth', block:'center'}); }catch(e){ try{ sec.scrollIntoView(true); }catch(_){} }
    // Nach 2500 ms zur√ºcksetzen
    setTimeout(function(){ sec.classList.remove('section-new','section-pulse'); }, 2500);
  }

  function observeSections(){
    var secs = document.querySelectorAll('section.q');
    if(!secs.length) return;
    var obs = new MutationObserver(function(muts){
      for (var i=0;i<muts.length;i++){
        var m = muts[i];
        if (m.type === 'attributes' && m.attributeName === 'hidden'){
          var sec = m.target;
          if (sec instanceof HTMLElement && sec.classList.contains('q') && sec.hidden === false){
            markNew(sec);
          }
        }
      }
    });
    secs.forEach(function(sec){ obs.observe(sec, {attributes:true, attributeFilter:['hidden']}); });
  }

  if (document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', observeSections, {once:true});
  } else {
    observeSections();
  }
})();
</script>
<script id="plausi-q4000-q4001">
document.addEventListener('DOMContentLoaded', function(){
  function setPlausible(id, min, max){
    const el = document.querySelector('input[name="'+id+'"]');
    if(!el) return;
    el.type = 'number';
    el.step = '1';
    el.min = min;
    el.max = max;
    el.addEventListener('input', function(){
      let v = el.value.replace(',', '.'); // kein Komma zulassen
      if(v.includes('.')){
        v = v.split('.')[0]; // nur Ganzzahlen
        el.value = v;
      }
      const num = parseInt(v,10);
      if(isNaN(num)) return;
      if(num < min || num > max){
        el.classList.add('input-error');
        setTimeout(()=>el.classList.remove('input-error'),2000);
      }
    });
  }
  setPlausible('4000', 70, 250);  // Gr√∂√üe
  setPlausible('4001', 20, 300);  // Gewicht
});
</script>
<style>
.input-error{
  outline:3px solid #dc2626;
  background:#fee2e2;
  transition:background 0.3s ease;
}
</style>
<script id="plausi-postleitzahl">
document.addEventListener('DOMContentLoaded', function(){
  const plz = document.querySelector('input[name="0008"], input[name="plz"], input[name*="postleitzahl" i]');
  if(!plz) return;
  plz.type = 'text';
  plz.inputMode = 'numeric';
  plz.pattern = '\\d{5}';
  plz.maxLength = 5;
  plz.addEventListener('input', function(){
    // Nur Ziffern, maximal 5
    plz.value = plz.value.replace(/\\D/g, '').slice(0,5);
    if(plz.value.length && plz.value.length < 5){
      plz.classList.add('input-error');
      setTimeout(()=>plz.classList.remove('input-error'),2000);
    }
  });
});
</script>
<script id="focus-q2005-conditional-robust">
(function(){
  var GUARD_MS = 1500;
  var guardUntil = 0;
  var targetSel = null; // '[name="3000"]' or '[name="2006"]'

  function parseYesNo(val){
    if(!val) return 'yes';
    var v = (''+val).trim().toLowerCase();
    if(v === 'nein' || v === 'no' || v === '0' || v === 'false' || v.startsWith('n')) return 'no';
    return 'yes';
  }

  function valueOfQ2005(){
    var radios = document.querySelectorAll('input[name="2005"][type="radio"]');
    if (radios.length){
      var c = document.querySelector('input[name="2005"][type="radio"]:checked');
      return c ? (c.value||'') : '';
    }
    var el = document.querySelector('input[name="2005"], select[name="2005"], textarea[name="2005"]');
    return el ? (el.value||'') : '';
  }

  function focusTarget(sel){
    var t = document.querySelector(sel);
    if(!t){
      // fallback: focus first control in the target section
      var sid = sel.replace('[name="','#q').replace('"]','');
      var sec = document.querySelector(sid);
      if (sec) t = sec.querySelector('input,select,textarea,button');
    }
    if(!t) return;
    try{ t.scrollIntoView({behavior:'smooth', block:'center'});}catch(e){ try{ t.scrollIntoView(true);}catch(_){} }
    [0,60,140,260,420].forEach(function(ms){
      setTimeout(function(){ try{ t.focus({preventScroll:true}); }catch(e){ try{ t.focus(); }catch(_){} } }, ms);
    });
  }

  function setGuard(sel){
    targetSel = sel;
    guardUntil = Date.now() + GUARD_MS;
    ensureObservers();
    focusTarget(sel);
  }

  function guardActive(){ return Date.now() < guardUntil && !!targetSel; }

  // Intercept unwanted focus to q4000/q8900 during guard window
  function onFocusIn(e){
    if(!guardActive()) return;
    var t = e.target;
    if(!t || !t.getAttribute) return;
    var nm = t.getAttribute('name') || '';
    var sec = t.closest && t.closest('section.q');
    var sid = sec ? sec.id : '';
    if(nm==='4000' || nm==='8900' || sid==='q4000' || sid==='q8900'){
      e.stopPropagation();
      if (e.preventDefault) e.preventDefault();
      focusTarget(targetSel);
    }
  }

  var visObs = null;
  function ensureObservers(){
    if(visObs) return;
    visObs = new MutationObserver(function(muts){
      if(!guardActive()) return;
      for(var i=0;i<muts.length;i++){
        var m = muts[i];
        if(m.type==='attributes' && m.attributeName==='hidden'){
          var sec = m.target;
          if(sec.hidden===false){
            if(targetSel==='[name="3000"]' && sec.id==='q3000') focusTarget('[name="3000"]');
            if(targetSel==='[name="2006"]' && sec.id==='q2006') focusTarget('[name="2006"]');
          }
        }
      }
    });
    ['q3000','q2006','q4000','q8900'].forEach(function(id){
      var s = document.getElementById(id);
      if(s) visObs.observe(s, {attributes:true, attributeFilter:['hidden']});
    });
  }

  function handle(){
    var v = valueOfQ2005();
    var yn = parseYesNo(v);
    if(yn==='no') setGuard('[name="3000"]');
    else setGuard('[name="2006"]');
  }

  function install(){
    document.addEventListener('focusin', onFocusIn, true);
    var nodes = document.querySelectorAll('input[name="2005"], select[name="2005"], textarea[name="2005"]');
    nodes.forEach(function(n){
      n.addEventListener('change', handle, {capture:true});
      if(n.type !== 'radio'){ n.addEventListener('input', handle, {capture:true}); }
    });
  }

  if(document.readyState==='loading') document.addEventListener('DOMContentLoaded', install, {once:true});
  else install();
})();
</script>
<script id="gate-q1030-gi-scroll"></script>
<script id="gate-q1030-gi-conditional"></script>
<script id="gate-q1030-erbrechen-focus-only">
(function(){
  const $ = (s, r=document)=> (r||document).querySelector(s);
  const sec1006 = $('#q1006');
  function show(el){ if(el){ el.hidden=false; el.removeAttribute('hidden'); } }
  function focusFirst(section){
    if(!section) return;
    const ctrl = section.querySelector('input,select,textarea,button');
    if(ctrl && ctrl.focus){ setTimeout(()=>ctrl.focus({preventScroll:true}), 10); }
  }
  function scrollAboveQ1006(active){
    if(!active || !sec1006) return;
    if(active.hidden || sec1006.hidden) return;
    const a = active.getBoundingClientRect();
    const top = window.scrollY + a.top - 24;
    window.scrollTo({ top: Math.max(0, top), behavior: 'smooth' });
  }
  function handle(e){
    const t = e && e.target;
    if(!t || t.name!=="1030") return;
    if(t.value==="Erbrechen" && t.checked===true){
      const q = document.getElementById('q1130');
      if(q){
        show(q);
        focusFirst(q);
        scrollAboveQ1006(q);
      }
    }
  }
  if(!window.__ERBR_ONLY_FOCUS__){
    window.__ERBR_ONLY_FOCUS__ = true;
    document.addEventListener('change', handle, {passive:true});
  }
})();
</script>
<script id="gate-q1030-mapped-seq"></script>
<script id="gate-q1030-erbrechen-seq">
(function(){
  const $ = (s, r=document)=> (r||document).querySelector(s);
  const $$ = (s, r=document)=> Array.from((r||document).querySelectorAll(s));

  // Hilfsfunktionen
  function present(ids){ return ids.filter(sel => $(sel)); }
  const CHAIN_ERB = present(['#q1130','#q1131','#q1132','#q1133','#q1134','#q1135','#q1136','#q1137']);
  const CHAIN_DURCH = present(['#q1230','#q1231','#q1232','#q1233']);
  const CHAIN_BSCHM = (function(){ const ids=[]; for(let n=1320;n<=1334;n++){ const sel='#q'+n; if($(sel)) ids.push(sel); } return ids; })();
  const CHAIN_VERST = present(['#q1430','#q1431']);

  const sec1006 = $('#q1006');
  function show(el){ if(el){ el.hidden=false; el.removeAttribute('hidden'); } }
  function hide(el){ if(el){ el.hidden=true; } }
  function hideList(ids){ ids.forEach(id=>{ const el=$(id); if(el) hide(el); }); }
  function focusFirst(section){
    if(!section) return;
    const ctrl = section.querySelector('input,select,textarea,button');
    if(ctrl && ctrl.focus){ setTimeout(()=>ctrl.focus({preventScroll:true}), 10); }
  }
  function scrollAboveQ1006(active){
    if(!active || !sec1006) return;
    if(active.hidden || sec1006.hidden) return;
    const a = active.getBoundingClientRect();
    const top = window.scrollY + a.top - 24;
    window.scrollTo({ top: Math.max(0, top), behavior: 'smooth' });
  }
  function hasAnyAnswer(section){
    if(!section) return false;
    const inputs = section.querySelectorAll('input, select, textarea');
    for(const el of inputs){
      if(el.disabled) continue;
      const type = (el.type||'').toLowerCase();
      if(type==='radio' || type==='checkbox'){ if(el.checked) return true; }
      else if(type==='number'){ if(el.value!=='' && !Number.isNaN(Number(el.value))) return true; }
      else if(el.tagName==='SELECT'){ if(el.value && el.value!=='') return true; }
      else { if(el.value && el.value.trim()!=='') return true; }
    }
    return false;
  }
  function lastVisibleIndex(ids){
    let idx = -1;
    ids.forEach((id,i)=>{ const el=$(id); if(el && !el.hidden) idx = i; });
    return idx;
  }
  function enforceSequential(ids){
    const li = lastVisibleIndex(ids);
    ids.forEach((id,i)=>{
      const el=$(id); if(!el) return;
      if(i<=li){ show(el); } else { hide(el); }
    });
  }
  function calcAgeYears(){
    const y = $('select[name="0003_jahr"]')?.value;
    const m = $('select[name="0003_monat"]')?.value;
    const d = $('select[name="0003_tag"]')?.value;
    if(!y || !m || !d) return null;
    try{
      const dob = new Date(parseInt(y,10), parseInt(m,10)-1, parseInt(d,10));
      const now = new Date();
      let age = now.getFullYear() - dob.getFullYear();
      const mo = now.getMonth() - dob.getMonth();
      if(mo < 0 || (mo===0 && now.getDate() < dob.getDate())) age--;
      return age;
    }catch(e){ return null; }
  }
  function gateQ1137(){
    const sec = $('#q1137'); if(!sec) return false;
    const sex = ($('select[name="0002"]')||{}).value || '';
    const age = calcAgeYears();
    const okSex = (sex && sex.toLowerCase().startsWith('weiblich'));
    const okAge = (typeof age==='number' && age>=14 && age<=45);
    if(okSex && okAge){ show(sec); return true; }
    hide(sec); return false;
  }

  // Startfunktion f√ºr eine Kette
  function startChain(ids){
    hideList(CHAIN_ERB); hideList(CHAIN_DURCH); hideList(CHAIN_BSCHM); hideList(CHAIN_VERST);
    if(!ids.length) return;
    const first = $(ids[0]);
    show(first); focusFirst(first); scrollAboveQ1006(first);
  }

  // Strikter Schritt: genau eine weiter, nichts vorschnell √∂ffnen
  function strictStep(ids, target){
    if(!ids.length) return;
    enforceSequential(ids);
    const li = lastVisibleIndex(ids);
    if(li<0) return;
    const curEl = $(ids[li]);
    if(!curEl || !curEl.contains(target)) return;
    if(!hasAnyAnswer(curEl)) return;

    const nextIndex = li+1;
    if(nextIndex >= ids.length) return;

    const nextSel = ids[nextIndex];
    if(nextSel === '#q1137'){
      if(gateQ1137()){
        const nxt = $('#q1137'); show(nxt); focusFirst(nxt); scrollAboveQ1006(nxt);
      } else {
        // Skip if gate fails
      }
      return;
    }
    const nxt = $(nextSel);
    if(!nxt) return;
    show(nxt); focusFirst(nxt); scrollAboveQ1006(nxt);
  }

  // Event-Wiring
  if(!window.__Q1030_ERB_SEQ_V7__){
    window.__Q1030_ERB_SEQ_V7__ = true;

    document.addEventListener('change', function(e){
      const t = e.target;
      if(t && t.name==="1030"){
        if(t.value==="Erbrechen" && t.checked===true){
          startChain(CHAIN_ERB);
        } else if(t.value==="Durchfall" && t.checked===true){
          startChain(CHAIN_DURCH);
        } else if(t.value==="Bauchschmerz" && t.checked===true){
          startChain(CHAIN_BSCHM);
        } else if(t.value==="Verstopfung" && t.checked===true){
          startChain(CHAIN_VERST);
        }
      }
      strictStep(CHAIN_ERB, e.target);
      strictStep(CHAIN_DURCH, e.target);
      strictStep(CHAIN_BSCHM, e.target);
      strictStep(CHAIN_VERST, e.target);
      if(t && ['0002','0003_tag','0003_monat','0003_jahr'].includes(t.name)){
        gateQ1137();
      }
    }, {passive:true});

    document.addEventListener('input', function(e){
      const t = e.target;
      if(!t) return;
      const type = (t.type||'').toLowerCase();
      if(type==='radio' || type==='checkbox'){
        strictStep(CHAIN_ERB, t);
        strictStep(CHAIN_DURCH, t);
        strictStep(CHAIN_BSCHM, t);
        strictStep(CHAIN_VERST, t);
      }
    }, {passive:true});
  }
})();
</script>
<script id="q1030-erbrechen-neutralize-toggle">
(function(){
  // On DOM ready: remove any data-toggle attributes from the "Erbrechen" option in q1030
  function go(){
    var nodes = document.querySelectorAll('section#q1030 input[name="1030"][type="checkbox"]');
    nodes.forEach(function(cb){
      if(cb && cb.value === "Erbrechen"){
        cb.removeAttribute('data-toggle');
        if(cb.dataset){ delete cb.dataset.toggle; }
      }
    });
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', go, {once:true});
  } else {
    go();
  }
})();
</script>
<script id="gate-q1030-erbrechen-seq-fix">
(function(){
  const $ = (s, r=document)=> (r||document).querySelector(s);
  const $$ = (s, r=document)=> Array.from((r||document).querySelectorAll(s));

  function present(ids){ return ids.filter(sel => $(sel)); }

  const CHAIN_ERB = present(['#q1130','#q1131','#q1132','#q1133','#q1134','#q1135','#q1136','#q1137']);
  const CHAIN_DURCH = present(['#q1230','#q1231','#q1232','#q1233']);
  const CHAIN_BSCHM = (function(){ const ids=[]; for(let n=1320;n<=1334;n++){ const sel='#q'+n; if($(sel)) ids.push(sel); } return ids; })();
  const CHAIN_VERST = present(['#q1430','#q1431']);

  const sec1006 = $('#q1006');
  function show(el){ if(el){ el.hidden=false; el.removeAttribute('hidden'); } }
  function hide(el){ if(el){ el.hidden=true; } }
  function hideList(ids){ ids.forEach(id=>{ const el=$(id); if(el) hide(el); }); }
  function focusFirst(section){
    if(!section) return;
    const ctrl = section.querySelector('input,select,textarea,button');
    if(ctrl && ctrl.focus){ setTimeout(()=>ctrl.focus({preventScroll:true}), 10); }
  }
  function scrollAboveQ1006(active){
    if(!active || !sec1006) return;
    if(active.hidden || sec1006.hidden) return;
    const a = active.getBoundingClientRect();
    const top = window.scrollY + a.top - 24;
    window.scrollTo({ top: Math.max(0, top), behavior: 'smooth' });
  }
  function hasAnyAnswer(section){
    if(!section) return false;
    const inputs = section.querySelectorAll('input, select, textarea');
    for(const el of inputs){
      if(el.disabled) continue;
      const type = (el.type||'').toLowerCase();
      if(type==='radio' || type==='checkbox'){ if(el.checked) return true; }
      else if(type==='number'){ if(el.value!=='' && !Number.isNaN(Number(el.value))) return true; }
      else if(el.tagName==='SELECT'){ if(el.value && el.value!=='') return true; }
      else { if(el.value && el.value.trim()!=='') return true; }
    }
    return false;
  }
  function calcAgeYears(){
    const y = $('select[name="0003_jahr"]')?.value;
    const m = $('select[name="0003_monat"]')?.value;
    const d = $('select[name="0003_tag"]')?.value;
    if(!y || !m || !d) return null;
    try{
      const dob = new Date(parseInt(y,10), parseInt(m,10)-1, parseInt(d,10));
      const now = new Date();
      let age = now.getFullYear() - dob.getFullYear();
      const mo = now.getMonth() - dob.getMonth();
      if(mo < 0 || (mo===0 && now.getDate() < dob.getDate())) age--;
      return age;
    }catch(e){ return null; }
  }
  function gateQ1137(){
    const sec = $('#q1137'); if(!sec) return false;
    const sex = ($('select[name="0002"]')||{}).value || '';
    const age = calcAgeYears();
    const okSex = (sex && sex.toLowerCase().startsWith('weiblich'));
    const okAge = (typeof age==='number' && age>=14 && age<=45);
    if(okSex && okAge){ show(sec); return true; }
    hide(sec); return false;
  }

  function startErbrechen(){
    // Hard reset Erbrechen chain and show only q1130
    hideList(CHAIN_ERB);
    const first = $('#q1130');
    if(first){
      show(first);
      focusFirst(first);
      scrollAboveQ1006(first);
    }
  }

  function strictStepErbrechen(eTarget){
    // Step one by one; assumes only Erbrechen chain is active
    const order = CHAIN_ERB;
    // Find last visible
    let li = -1;
    order.forEach((sel,i)=>{ const el=$(sel); if(el && !el.hidden) li = i; });
    if(li < 0) return;
    const cur = $(order[li]);
    if(!cur || !cur.contains(eTarget)) return;
    if(!hasAnyAnswer(cur)) return;
    const nextSel = order[li+1];
    if(!nextSel) return;
    if(nextSel === '#q1137'){
      gateQ1137();
      return;
    }
    const nxt = $(nextSel);
    if(nxt){ show(nxt); focusFirst(nxt); scrollAboveQ1006(nxt); }
  }

  function onQ1030Change(e){
    const t = e && e.target;
    if(!t || t.name!=="1030") return;
    if(t.value==="Erbrechen"){
      if(t.checked===true){
        startErbrechen();
      } else {
        hideList(CHAIN_ERB);
      }
    } else if(t.value==="Durchfall"){
      // No change to Durchfall logic here
      hideList(CHAIN_ERB);
    } else if(t.value==="Bauchschmerz"){
      hideList(CHAIN_ERB);
    } else if(t.value==="Verstopfung"){
      hideList(CHAIN_ERB);
    }
  }

  if(!window.__Q1030_ERB_SEQ_FIX_V8__){
    window.__Q1030_ERB_SEQ_FIX_V8__ = true;
    document.addEventListener('change', function(e){
      onQ1030Change(e);
      strictStepErbrechen(e.target);
    }, {passive:true});
    document.addEventListener('input', function(e){
      const t = e.target;
      if(!t) return;
      const type = (t.type||'').toLowerCase();
      if(type==='radio' || type==='checkbox'){
        strictStepErbrechen(t);
      }
    }, {passive:true});

    // Initialize in case "Erbrechen" is pre-checked
    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', function(){
        const checkedErbrechen = document.querySelector('section#q1030 input[name="1030"][type="checkbox"][value="Erbrechen"]:checked');
        if(checkedErbrechen){ startErbrechen(); }
      }, {once:true});
    } else {
      const checkedErbrechen = document.querySelector('section#q1030 input[name="1030"][type="checkbox"][value="Erbrechen"]:checked');
      if(checkedErbrechen){ startErbrechen(); }
    }
  }
})();
</script>
<style id="q1006_unhide_css">
/* Force-visibility for the three options in q1006 */
#q1006 .choice[style*="display:none"] { display: flex !important; }
#q1006 .choice.hidden, #q1006 .choice[hidden] { display: flex !important; visibility: visible !important; }
#q1006 input[name="1006"][value="Augenbeschwerden"] ~ .lbl,
#q1006 input[name="1006"][value="Psychische/Psychosomatische Beschwerden"] ~ .lbl,
#q1006 input[name="1006"][value="Urologische/Gyn√§kologische Beschwerden"] ~ .lbl { opacity: 1 !important; }
</style>
<script id="q1006_unhide_js">
(function(){
  function unhide(){
    const sec = document.getElementById('q1006');
    if(!sec) return;
    const values = [
      "Augenbeschwerden",
      "Psychische/Psychosomatische Beschwerden",
      "Urologische/Gyn√§kologische Beschwerden"
    ];
    values.forEach(val=>{
      const inp = sec.querySelector('input[name="1006"][value="'+val+'"]');
      if(!inp) return;
      const lab = inp.closest('label.choice') || inp.parentElement;
      if(!lab) return;
      lab.hidden = false;
      lab.classList.remove('hidden','vh');
      lab.style.display = 'flex';
      lab.style.visibility = 'visible';
      // Also ensure ancestors are visible
      let parent = lab.parentElement;
      while(parent && parent !== sec){
        if(parent.hidden) parent.hidden = false;
        if(parent.style && parent.style.display === 'none') parent.style.display = '';
        parent = parent.parentElement;
      }
    });
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', unhide, {once:true});
  } else {
    unhide();
  }
  // Re-apply if some other script hides them later
  document.addEventListener('change', function(e){
    if(e && e.target && e.target.name === '1004_select'){ setTimeout(unhide, 0); }
  }, {passive:true});
})();
</script>
<script id="gate-q1050-angina-seq">
(function(){
  const $ = (s, r=document)=> (r||document).querySelector(s);
  const $$ = (s, r=document)=> Array.from((r||document).querySelectorAll(s));

  const TRIGGER_NAME = "1050";
  const TRIGGER_VALUE = "Brustschmerz/Angina Pectoris";
  const CHAIN = ["#q1150","#q1151","#q1152","#q1153"];

  function show(el){ if(el){ el.hidden=false; el.removeAttribute('hidden'); } }
  function hide(el){ if(el){ el.hidden=true; } }
  function hideList(ids){ ids.forEach(id=>{ const el=$(id); if(el) hide(el); }); }
  function firstCtrl(section){ return section && section.querySelector('input,select,textarea,button'); }
  function focusSection(section){
    const c = firstCtrl(section);
    if(c && c.focus){ setTimeout(()=>{ try{ c.focus({preventScroll:true}); }catch(_){ } }, 20); }
  }
  function isAnswered(section){
    if(!section) return false;
    const inputs = section.querySelectorAll('input, select, textarea');
    for(const el of inputs){
      if(el.disabled) continue;
      const t = (el.type||'').toLowerCase();
      if(t==="radio"||t==="checkbox"){ if(el.checked) return true; }
      else if(t==="number"){ if(el.value!=="" && !Number.isNaN(Number(el.value))) return true; }
      else if(el.tagName==="SELECT"){ if(el.value && el.value!=="") return true; }
      else { if(el.value && el.value.trim()!=="") return true; }
    }
    return false;
  }
  function nextId(curId){
    const i = CHAIN.indexOf(curId);
    return i>=0 ? CHAIN[i+1] : null;
  }

  // Ensure DOM order: q1050 ‚Üí CHAIN ‚Üí q1051
  function ensureOrder(){
    const host = $('#q1050'); if(!host) return;
    const parent = host.parentNode; if(!parent) return;
    let anchor = host;
    for(const sel of CHAIN){
      const el = $(sel);
      if(!el) continue;
      if(el.previousElementSibling !== anchor){
        parent.insertBefore(el, anchor.nextElementSibling);
      }
      anchor = el;
    }
    const q1051 = $('#q1051');
    if(q1051 && q1051.previousElementSibling !== anchor){
      parent.insertBefore(q1051, anchor.nextElementSibling);
    }
  }

  function neutralizeToggle(){
    const cb = document.querySelector('section#q1050 input[name="'+TRIGGER_NAME+'"][value="'+TRIGGER_VALUE+'"]');
    if(cb){ cb.removeAttribute('data-toggle'); if(cb.dataset){ delete cb.dataset.toggle; } }
  }

  function startChain(){
    ensureOrder();
    hideList(CHAIN);
    const first = $(CHAIN[0]);
    if(first){ show(first); focusSection(first); }
  }

  function lastVisibleId(){
    let last = null;
    for(const sel of CHAIN){
      const el = $(sel);
      if(el && !el.hidden) last = sel;
    }
    return last;
  }

  function stepChain(target){
    const curId = lastVisibleId();
    if(!curId) return;
    const cur = $(curId);
    if(!cur.contains(target)) return;
    if(!isAnswered(cur)) return;
    const nid = nextId(curId);
    if(!nid) return;
    const nxt = $(nid);
    if(nxt){ show(nxt); focusSection(nxt); }
  }

  function onChange(e){
    const t = e && e.target;
    if(!t) return;
    if(t.name === TRIGGER_NAME && t.value === TRIGGER_VALUE){
      neutralizeToggle();
      const checked = !!t.checked;
      if(checked){ startChain(); } else { hideList(CHAIN); }
    }
    stepChain(t);
  }

  if(!window.__Q1050_ANGINA_SEQ_Q1150_FIRST__){
    window.__Q1050_ANGINA_SEQ_Q1150_FIRST__ = true;
    document.addEventListener('change', onChange, {passive:true});
    document.addEventListener('input', function(e){
      const t = e.target; if(!t) return;
      const type = (t.type||'').toLowerCase();
      if(type==='radio' || type==='checkbox'){ stepChain(t); }
    }, {passive:true});
    function init(){
      neutralizeToggle();
      const pre = document.querySelector('section#q1050 input[name="'+TRIGGER_NAME+'"][value="'+TRIGGER_VALUE+'"]:checked');
      if(pre){ startChain(); }
    }
    if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init, {once:true}); }
    else { init(); }
  }
})();
</script>
<script id="q1150_dom_order_fix">
(function(){
  function repositionQ1150(){
    var q1050 = document.getElementById('q1050');
    var q1150 = document.getElementById('q1150');
    if(!q1050 || !q1150) return;
    var parent = q1050.parentNode;
    if(!parent) return;
    if(q1050.nextElementSibling !== q1150){
      parent.insertBefore(q1150, q1050.nextElementSibling);
    }
    var q1051 = document.getElementById('q1051');
    if(q1051 && q1150.nextElementSibling !== q1051){
      parent.insertBefore(q1051, q1150.nextElementSibling);
    }
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', repositionQ1150, {once:true});
  } else {
    repositionQ1150();
  }
})();
</script>
<script id="gate-q1050-syncope-seq">
(function(){
  const $ = (s, r=document)=> (r||document).querySelector(s);
  const $$ = (s, r=document)=> Array.from((r||document).querySelectorAll(s));

  const TRIGGER_NAME = "1050";
  const TRIGGER_VALUE = "Ohnmachtsanf√§lle/Schwindel";

  // Build chain with existing sections only
  function present(ids){ return ids.filter(sel => $(sel)); }
  const CHAIN = present(["#q1186","#q1187","#q1188","#q1189"]);

  function show(el){ if(el){ el.hidden=false; el.removeAttribute('hidden'); } }
  function hide(el){ if(el){ el.hidden=true; } }
  function hideList(ids){ ids.forEach(id=>{ const el=$(id); if(el) hide(el); }); }
  function firstCtrl(section){ return section && section.querySelector('input,select,textarea,button'); }
  function focusSection(section){
    const c = firstCtrl(section);
    if(c && c.focus){ setTimeout(()=>{ try{ c.focus({preventScroll:true}); }catch(_){ } }, 20); }
  }
  function isAnswered(section){
    if(!section) return false;
    const inputs = section.querySelectorAll('input, select, textarea');
    for(const el of inputs){
      if(el.disabled) continue;
      const t = (el.type||'').toLowerCase();
      if(t==="radio"||t==="checkbox"){ if(el.checked) return true; }
      else if(t==="number"){ if(el.value!=="" && !Number.isNaN(Number(el.value))) return true; }
      else if(el.tagName==="SELECT"){ if(el.value && el.value!=="") return true; }
      else { if(el.value && el.value.trim()!=="") return true; }
    }
    return false;
  }
  function nextId(curId){
    const i = CHAIN.indexOf(curId);
    return i>=0 ? CHAIN[i+1] : null;
  }

  // Ensure subsections are placed after q1050 and before q1051
  function ensureOrder(){
    const host = $('#q1050'); if(!host) return;
    const parent = host.parentNode; if(!parent) return;
    let anchor = host;
    for(const sel of CHAIN){
      const el = $(sel);
      if(!el) continue;
      if(el.previousElementSibling !== anchor){
        parent.insertBefore(el, anchor.nextElementSibling);
      }
      anchor = el;
    }
    const q1051 = $('#q1051');
    if(q1051 && q1051.previousElementSibling !== anchor){
      parent.insertBefore(q1051, anchor.nextElementSibling);
    }
  }

  function neutralizeToggle(){
    const cb = document.querySelector('section#q1050 input[name="'+TRIGGER_NAME+'"][value="'+TRIGGER_VALUE+'"]');
    if(cb){ cb.removeAttribute('data-toggle'); if(cb.dataset){ delete cb.dataset.toggle; } }
  }

  function startChain(){
    if(!CHAIN.length) return;
    ensureOrder();
    hideList(CHAIN);
    const first = $(CHAIN[0]);
    if(first){ show(first); focusSection(first); }
  }

  function lastVisibleId(){
    let last = null;
    for(const sel of CHAIN){
      const el = $(sel);
      if(el && !el.hidden) last = sel;
    }
    return last;
  }

  function stepChain(target){
    if(!CHAIN.length) return;
    const curId = lastVisibleId();
    if(!curId) return;
    const cur = $(curId);
    if(!cur.contains(target)) return;
    if(!isAnswered(cur)) return;
    const nid = nextId(curId);
    if(!nid) return;
    const nxt = $(nid);
    if(nxt){ show(nxt); focusSection(nxt); }
  }

  function onChange(e){
    const t = e && e.target;
    if(!t) return;
    if(t.name === TRIGGER_NAME && t.value === TRIGGER_VALUE){
      neutralizeToggle();
      const checked = !!t.checked;
      if(checked){ startChain(); } else { hideList(CHAIN); }
    }
    stepChain(t);
  }

  if(!window.__Q1050_SYNCOPE_SEQ__){
    window.__Q1050_SYNCOPE_SEQ__ = true;
    document.addEventListener('change', onChange, {passive:true});
    document.addEventListener('input', function(e){
      const t = e.target; if(!t) return;
      const type = (t.type||'').toLowerCase();
      if(type==='radio' || type==='checkbox'){ stepChain(t); }
    }, {passive:true});
    function init(){
      neutralizeToggle();
      const pre = document.querySelector('section#q1050 input[name="'+TRIGGER_NAME+'"][value="'+TRIGGER_VALUE+'"]:checked');
      if(pre){ startChain(); }
    }
    if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init, {once:true}); }
    else { init(); }
  }
})();
</script>
<script id="gate-q1020-beklemmung-seq">
(function(){
  const $ = (s, r=document)=> (r||document).querySelector(s);
  const $$ = (s, r=document)=> Array.from((r||document).querySelectorAll(s));

  const TRIGGER_NAME = "1020";
  const TRIGGER_VALUE = "Beklemmung im Brustkorb";
  const CHAIN = ["#q1150","#q1151","#q1152","#q1153"];

  function presentAll(){ return CHAIN.every(sel => $(sel)); }

  function show(el){ if(el){ el.hidden=false; el.removeAttribute('hidden'); } }
  function hide(el){ if(el){ el.hidden=true; } }
  function hideList(ids){ ids.forEach(id=>{ const el=$(id); if(el) hide(el); }); }
  function firstCtrl(section){ return section && section.querySelector('input,select,textarea,button'); }
  function focusSection(section){
    const c = firstCtrl(section);
    if(c && c.focus){ setTimeout(()=>{ try{ c.focus({preventScroll:true}); }catch(_){ } }, 20); }
  }
  function isAnswered(section){
    if(!section) return false;
    const inputs = section.querySelectorAll('input, select, textarea');
    for(const el of inputs){
      if(el.disabled) continue;
      const t = (el.type||'').toLowerCase();
      if(t==="radio"||t==="checkbox"){ if(el.checked) return true; }
      else if(t==="number"){ if(el.value!=="" && !Number.isNaN(Number(el.value))) return true; }
      else if(el.tagName==="SELECT"){ if(el.value && el.value!=="") return true; }
      else { if(el.value && el.value.trim()!=="") return true; }
    }
    return false;
  }
  function nextId(curId){
    const i = CHAIN.indexOf(curId);
    return i>=0 ? CHAIN[i+1] : null;
  }

  // Ensure q1150..q1153 sit after q1050 and before q1051
  function ensureOrder(){
    const host = $('#q1050'); if(!host) return;
    const parent = host.parentNode; if(!parent) return;
    let anchor = host;
    for(const sel of CHAIN){
      const el = $(sel);
      if(!el) continue;
      if(el.previousElementSibling !== anchor){
        parent.insertBefore(el, anchor.nextElementSibling);
      }
      anchor = el;
    }
    const q1051 = $('#q1051');
    if(q1051 && q1051.previousElementSibling !== anchor){
      parent.insertBefore(q1051, anchor.nextElementSibling);
    }
  }

  function neutralizeToggle(){
    // Remove any data-toggle on trigger option
    const cb = document.querySelector('section#q1020 input[name="'+TRIGGER_NAME+'"][value="'+TRIGGER_VALUE+'"]');
    if(cb){ cb.removeAttribute('data-toggle'); if(cb.dataset){ delete cb.dataset.toggle; } }
  }

  function startChain(){
    if(!presentAll()) return;
    ensureOrder();
    hideList(CHAIN);
    const first = $(CHAIN[0]);
    if(first){ show(first); focusSection(first); }
  }

  function lastVisibleId(){
    let last = null;
    for(const sel of CHAIN){
      const el = $(sel);
      if(el && !el.hidden) last = sel;
    }
    return last;
  }

  function stepChain(target){
    if(!presentAll()) return;
    const curId = lastVisibleId();
    if(!curId) return;
    const cur = $(curId);
    if(!cur.contains(target)) return;
    if(!isAnswered(cur)) return;
    const nid = nextId(curId);
    if(!nid) return;
    const nxt = $(nid);
    if(nxt){ show(nxt); focusSection(nxt); }
  }

  function onChange(e){
    const t = e && e.target;
    if(!t) return;
    if(t.name === TRIGGER_NAME && t.value === TRIGGER_VALUE){
      neutralizeToggle();
      const checked = !!t.checked;
      if(checked){ startChain(); } else { hideList(CHAIN); }
    }
    stepChain(t);
  }

  if(!window.__Q1020_BEKLEMMUNG_SEQ__){
    window.__Q1020_BEKLEMMUNG_SEQ__ = true;
    document.addEventListener('change', onChange, {passive:true});
    document.addEventListener('input', function(e){
      const t = e.target; if(!t) return;
      const type = (t.type||'').toLowerCase();
      if(type==='radio' || type==='checkbox'){ stepChain(t); }
    }, {passive:true});
    function init(){
      neutralizeToggle();
      const pre = document.querySelector('section#q1020 input[name="'+TRIGGER_NAME+'"][value="'+TRIGGER_VALUE+'"]:checked');
      if(pre){ startChain(); }
    }
    if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init, {once:true}); }
    else { init(); }
  }
})();
</script>
<style id="layout-normalize-css">
/* Ensure the wrapped contact block uses same width and border spacing as other .q sections */
section.q { max-width: var(--q-max-width, 980px); margin-inline: auto; }
section.q fieldset.accent { border-width: 2px; }
</style>
<script id="layout-normalize-q8800-q8900-q9000">
(function(){
  function textMatch(el, needle){
    return el && el.textContent && el.textContent.trim().toLowerCase() === needle.toLowerCase();
  }
  // Ensure q8800/q8900 have standard classes
  ['q8800','q8900'].forEach(function(id){
    var sec = document.getElementById(id);
    if(sec){ sec.classList.add('q'); }
    var fs = sec && sec.querySelector('fieldset');
    if(fs){ fs.classList.add('accent'); }
  });

  // Wrap "Kontaktdaten vor Versand pr√ºfen" heading and the confirm fieldset into a section.q
  function wrapContact(){
    var allH2 = Array.from(document.querySelectorAll('h2'));
    var hdr = allH2.find(h => /Kontaktdaten vor Versand pr√ºfen/i.test(h.textContent||''));
    var fs = document.getElementById('q9000_confirm_wrap');
    if(!hdr || !fs) return;
    // If already wrapped, exit
    if(hdr.closest('section') && hdr.closest('section').id === 'q9000') return;
    var sec = document.createElement('section');
    sec.id = 'q9000';
    sec.className = 'q';
    // Insert sec before q9001 if exists, else before fs
    var after = document.getElementById('q9001') || fs;
    after.parentNode.insertBefore(sec, after);
    sec.appendChild(hdr);
    sec.appendChild(fs);
  }

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', function(){
      wrapContact();
    }, {once:true});
  } else {
    wrapContact();
  }
})();
</script>
<script id="q3003_guard_from_q6006">
(() => {
  if (window.__Q3003_GUARD_V2__) return; window.__Q3003_GUARD_V2__ = true;
  const $  = (s, r=document)=> (r||document).querySelector(s);
  const $$ = (s, r=document)=> Array.from((r||document).querySelectorAll(s));

  let blockFocusUntil = 0;
  let lastQ3003 = '';
  let lastQ3004 = '';

  const get = n => document.querySelector(`[name="${n}"]`);

  function snapshot(){
    const a=get('3003'), b=get('3004');
    if (a && a.value.trim()) lastQ3003 = a.value.trim();
    if (b && b.value.trim()) lastQ3004 = b.value.trim();
  }
  function restore(){
    const a=get('3003'), b=get('3004');
    if (a && (!a.value || !a.value.trim()) && lastQ3003) a.value = lastQ3003;
    if (b && (!b.value || !b.value.trim()) && lastQ3004) b.value = lastQ3004;
  }

  // Find best focus target inside q7000
  function firstTabbable(root){
    if (!root) return null;
    const cand = root.querySelector('input, select, textarea, button, [tabindex]:not([tabindex="-1"])');
    return cand || root;
  }
  function findQ7000(){
    return $('#q7000') || document.querySelector('[data-block="q7000"]') || document.querySelector('[data-id="q7000"]');
  }
  function focusQ7000(){
    const sec = findQ7000();
    const tgt = firstTabbable(sec) || $('#btnSendMail') || document.body;
    if (!tgt) return;
    try { sec && sec.scrollIntoView({block:'center', behavior:'instant'}); } catch(_){}
    try { tgt.focus({preventScroll:true}); } catch(_){}
  }

  function scheduleFocusQ7000(){
    // Guard duration 1500 ms to outweigh programmatic refocus
    blockFocusUntil = performance.now() + 1500;
    // multiple attempts to outlive re-render scripts
    focusQ7000();
    setTimeout(focusQ7000, 30);
    setTimeout(focusQ7000, 150);
    requestAnimationFrame(()=>{ requestAnimationFrame(focusQ7000); });
  }

  // Persist values
  document.addEventListener('input',  e => {
    const n = e.target && e.target.name;
    if (n==='3003' || n==='3004') snapshot();
  }, {passive:true});

  document.addEventListener('change', e => {
    const n = e.target && e.target.name || '';
    if (n==='3003' || n==='3004') snapshot();
    if (n.startsWith('6006')){
      // protect values and redirect focus
      setTimeout(restore, 0);
      setTimeout(restore, 120);
      scheduleFocusQ7000();
    }
  }, {passive:true});

  // Also react to clicks within q6006 block (e.g., buttons/labels)
  const q6006 = $('#q6006') || document.querySelector('[data-block="q6006"]');
  if (q6006){
    q6006.addEventListener('click', () => { snapshot(); setTimeout(restore, 0); scheduleFocusQ7000(); }, {passive:true});
  }

  // Suppress forced refocus back to q3003/3004 while guard is active
  document.addEventListener('focusin', e => {
    const nm = e.target && e.target.name;
    if ((nm==='3003' || nm==='3004') && performance.now() < blockFocusUntil){
      try { e.target.blur(); } catch(_){}
      scheduleFocusQ7000();
    }
  }, {capture:true});

  // As a final safety, watch for attribute changes that toggle visibility and refocus
  const obsTarget = document.body;
  if (obsTarget && window.MutationObserver){
    const mo = new MutationObserver((list)=>{
      if (performance.now() < blockFocusUntil){
        for (const m of list){
          if (m.type==='attributes' || m.type==='childList'){ scheduleFocusQ7000(); break; }
        }
      }
    });
    mo.observe(obsTarget, {attributes:true, childList:true, subtree:true});
    setTimeout(()=>mo.disconnect(), 2000);
  }
})();
</script>
<script id="consent_summary_and_canonical_send">
(() => {
  if (window.__CONSENT_SUMMARY_CANON_SEND__) return; window.__CONSENT_SUMMARY_CANON_SEND__ = true;
  const $  = (s, r=document)=> (r||document).querySelector(s);
  const $$ = (s, r=document)=> Array.from((r||document).querySelectorAll(s));
  const form = $('#form') || document.forms[0];
  if (!form) return;

  // --- helpers
  function tryRun(cb){ try{ cb && cb(); }catch(_){ } }
  function valByNameAny(names){
    for (const n of names){
      const els = $$(`[name="${n}"]`, form);
      if (!els.length) continue;
      const t = (els[0].type||'').toLowerCase();
      if (t==='radio'){
        const hit = els.find(e=>e.checked); if (hit && (hit.value||'').trim()) return (hit.value||'').trim();
      } else if (t==='checkbox'){
        const vs = els.filter(e=>e.checked).map(e=>(e.value||'').trim()).filter(Boolean);
        if (vs.length) return vs.join(', ');
      } else {
        const v = (els[0].value||'').trim(); if (v) return v;
      }
    }
    return '';
  }
  function ensureHidden(name, id){
    let el = form.querySelector(`#${id}`) || form.querySelector(`input[type="hidden"][name="${name}"]`);
    if (!el){
      el = document.createElement('input');
      el.type = 'hidden'; el.name = name; el.id = id;
      form.appendChild(el);
    }
    el.disabled = false;
    return el;
  }
  function compute9900(){
    const sel = $('input[name="9900"]:checked', form);
    const base = sel ? (sel.value||'').trim() : valByNameAny(['9900']);
    const txt  = valByNameAny(['9900_freitext']);
    if (!base) return '';
    return txt ? `${base} Sterne (${txt})` : `${base} Sterne`;
  }

  // --- 1) Summary builder as in mein_Fragebogen
  function buildSummaryLocal(){
    const fd = new FormData(form);
    const get = k => { const v = fd.get(k); return v ? (v+'').trim() : ''; };
    const set = (k,v)=>{ if (v && (v+'').trim()) fd.set(k, (v+'').trim()); };

    // Mirror 3003/3004 to 9001/9002
    const mail1 = get('9001') || get('9001_email_review') || get('n9001_email_review') || get('3003');
    const mail2 = get('9002') || get('9002_mobile_review') || get('n9002_mobile_review') || get('3004');
    set('9001', mail1); set('9002', mail2);

    // 9900 consolidate
    const rVal = $('input[name="9900"]:checked', form)?.value?.trim() || get('9900');
    const rTxt = get('9900_freitext');
    if (rVal) set('9900', rTxt ? `${rVal} Sterne (${rTxt})` : `${rVal} Sterne`);

    const area = $('#summary');
    const head = ['8900','9000','9001','9002','9900'];
    const keys = Array.from(new Set(Array.from(fd.keys()))).filter(k=>!/^MAIL_/.test(k));

    const lines = [];
    head.forEach(k => {
      const vs = fd.getAll(k).map(v=>(v||'').toString().trim()).filter(v=>v && v!=='Bitte w√§hlen‚Ä¶');
      if (vs.length) lines.push(`${k}: ${Array.from(new Set(vs)).join(' / ')}`);
    });
    keys.sort().forEach(k => {
      if (head.includes(k)) return;
      const vs = fd.getAll(k).map(v=>(v||'').toString().trim()).filter(v=>v && v!=='Bitte w√§hlen‚Ä¶');
      if (vs.length) lines.push(`${k}: ${Array.from(new Set(vs)).join(' / ')}`);
    });
    const txt = lines.join('
') || 'Keine Angaben.';
    if (area) area.value = txt;
    return txt;
  }
  function ensureSummarySync(done){
    const area = $('#summary');
    tryRun(()=>window.buildAllGesamtDynamic && window.buildAllGesamtDynamic());
    tryRun(()=>window.ensureSummary && window.ensureSummary());
    tryRun(()=>window.regeneratePreview && window.regeneratePreview());
    requestAnimationFrame(()=>{
      const ok = area && area.value && area.value.trim();
      if (ok){ done && done(); }
      else { buildSummaryLocal(); done && done(); }
    });
  }

  // --- 2) Consent triggers summary immediately (and mirrors 3003‚Üí9001, 3004‚Üí9002)
  function isConsentTarget(el){
    if (!el) return false;
    if (el.matches && el.matches('input[name="9000"], #confirm_email, #confirm9000, #q9000_confirm, #q9000_ok')) return true;
    const btn = el.closest && el.closest('button, a, label, input[type="button"], input[type="submit"]');
    if (!btn) return false;
    const txt = (btn.innerText || btn.textContent || btn.value || '').toLowerCase();
    return /(ich best√§tige|best√§tige|√ºbermitteln|√ºbermittlung|senden|abschicken)/i.test(txt);
  }
  function onConsent(){
    const v1 = valByNameAny(['9001','9001_email_review','n9001_email_review','3003']);
    const v2 = valByNameAny(['9002','9002_mobile_review','n9002_mobile_review','3004']);
    const e1 = form.querySelector('[name="9001"]'); if (e1 && v1) e1.value = v1;
    const e2 = form.querySelector('[name="9002"]'); if (e2 && v2) e2.value = v2;
    ensureSummarySync();
    setTimeout(ensureSummarySync, 60);
  }
  document.addEventListener('click',  e => { if (isConsentTarget(e.target)) onConsent(); }, {capture:true, passive:true});
  document.addEventListener('change', e => { if (isConsentTarget(e.target)) onConsent(); }, {capture:true, passive:true});

  // --- 3) Canonicalize before send: hidden originals + disable duplicates for first submit
  function preSendCanonicalize(){
    const h8900 = ensureHidden('8900','canon_8900');
    const h9000 = ensureHidden('9000','canon_9000');
    const h9001 = ensureHidden('9001','canon_9001');
    const h9002 = ensureHidden('9002','canon_9002');
    const h9900 = ensureHidden('9900','canon_9900');

    h9001.value = valByNameAny(['9001','9001_email_review','n9001_email_review','3003']);
    h9002.value = valByNameAny(['9002','9002_mobile_review','n9002_mobile_review','3004']);
    const consent = valByNameAny(['9000']) || ($('#confirm_email') && $('#confirm_email').checked);
    h9000.value = consent ? 'Zustimmung erteilt' : '';
    h8900.value = valByNameAny(['8900']);
    h9900.value = compute9900();

    const targets = ['8900','9000','9001','9002','9900'];
    const reenable = [];
    targets.forEach(name=>{
      const keep = form.querySelector(`#canon_${name}`);
      $$(`[name="${name}"]`, form).forEach(el=>{
        if (el === keep) return;
        if (!el.disabled){ el.disabled = true; reenable.push(el); }
      });
    });
    setTimeout(()=>{ reenable.forEach(el=>{ el.disabled = false; }); }, 800);
  }

  // --- 4) Force summary before mailto and then rely on existing serializer
  function sendCapture(e){
    // Build summary first
    e.preventDefault(); e.stopImmediatePropagation();
    ensureSummarySync(()=>{
      preSendCanonicalize();
      // re-dispatch click/submit so existing mail code runs with canonical fields and filled summary
      const btn = $('#btnSendMail') || e.target;
      const form = $('#form') || document.forms[0];
      setTimeout(()=>{
        if (e.type === 'submit'){
          try{ form.requestSubmit ? form.requestSubmit() : form.submit(); }catch(_){}
        } else if (btn && btn.click){ btn.click(); }
      }, 50);
    });
  }

  const sendBtn = $('#btnSendMail') || document.querySelector('[data-send="1"]');
  if (sendBtn) sendBtn.addEventListener('click', sendCapture, {capture:true});
  if (form) form.addEventListener('submit', sendCapture, {capture:true});
})();
</script>
<script id="consent_summary_send_unified_v2">
(() => {
  if (window.__CONSENT_SUMMARY_SEND_UNIFIED_V2__) return; window.__CONSENT_SUMMARY_SEND_UNIFIED_V2__ = true;
  const $  = (s, r=document)=> (r||document).querySelector(s);
  const $$ = (s, r=document)=> Array.from((r||document).querySelectorAll(s));
  const form = $('#form') || document.forms[0];
  if (!form) return;

  // ---------- helpers ----------
  function tryRun(cb){ try{ cb && cb(); }catch(_){ } }
  function valByNameAny(names){
    for (const n of names){
      const els = $$(`[name="${n}"]`, form);
      if (!els.length) continue;
      const t = (els[0].type||'').toLowerCase();
      if (t==='radio'){ const hit = els.find(e=>e.checked); if (hit && (hit.value||'').trim()) return (hit.value||'').trim(); }
      if (t==='checkbox'){ const vs = els.filter(e=>e.checked).map(e=>(e.value||'').trim()).filter(Boolean); if (vs.length) return vs.join(', '); }
      const v = (els[0].value||'').trim(); if (v) return v;
    }
    return '';
  }
  function setIf(name, val){
    const el = $(`[name="${name}"]`, form);
    if (el && val) el.value = val;
  }
  function compute9900(){
    const sel = $('input[name="9900"]:checked', form);
    const base = sel ? (sel.value||'').trim() : valByNameAny(['9900']);
    const txt  = valByNameAny(['9900_freitext']);
    if (!base) return '';
    return txt ? `${base} Sterne (${txt})` : `${base} Sterne`;
  }

  // ---------- summary builders ----------
  function triggerOfficialSummary(){
    const btn = $('#btnSummary');
    if (btn && typeof btn.click==='function'){ try{ btn.click(); return true; }catch(_){ } }
    tryRun(()=>window.buildAllGesamtDynamic && window.buildAllGesamtDynamic());
    tryRun(()=>window.ensureSummary && window.ensureSummary());
    tryRun(()=>window.regeneratePreview && window.regeneratePreview());
    return false;
  }
  function buildSummaryLocal(){
    const fd = new FormData(form);
    const get = k => { const v = fd.get(k); return v ? (v+'').trim() : ''; };
    const set = (k,v)=>{ if (v && (v+'').trim()) fd.set(k, (v+'').trim()); };

    // mirrors
    const mail1 = get('9001') || get('9001_email_review') || get('n9001_email_review') || get('3003');
    const mail2 = get('9002') || get('9002_mobile_review') || get('n9002_mobile_review') || get('3004');
    set('9001', mail1); set('9002', mail2);

    const v9900 = compute9900(); if (v9900) set('9900', v9900);

    const area = $('#summary');
    const head = ['8900','9000','9001','9002','9900'];
    const keys = Array.from(new Set(Array.from(fd.keys()))).filter(k=>!/^MAIL_/.test(k));
    const lines = [];
    head.forEach(k=>{
      const vs = fd.getAll(k).map(v=>(v||'').toString().trim()).filter(v=>v && v!=='Bitte w√§hlen‚Ä¶');
      if (vs.length) lines.push(`${k}: ${Array.from(new Set(vs)).join(' / ')}`);
    });
    keys.sort().forEach(k=>{
      if (head.includes(k)) return;
      const vs = fd.getAll(k).map(v=>(v||'').toString().trim()).filter(v=>v && v!=='Bitte w√§hlen‚Ä¶');
      if (vs.length) lines.push(`${k}: ${Array.from(new Set(vs)).join(' / ')}`);
    });
    const txt = lines.join('
') || 'Keine Angaben.';
    if (area) area.value = txt;
    return txt;
  }
  function ensureSummaryReady(cb){
    const area = $('#summary');
    triggerOfficialSummary();
    requestAnimationFrame(()=>{
      if (area && area.value && area.value.trim()){ cb && cb(); return; }
      buildSummaryLocal(); cb && cb();
    });
  }

  // ---------- consent ‚Üí summary immediately ----------
  function isConsentTarget(el){
    if (!el) return false;
    if (el.matches && el.matches('input[name="9000"], #confirm_email, #confirm9000, #q9000_confirm, #q9000_ok')) return true;
    const btn = el.closest && el.closest('button, a, label, input[type="button"], input[type="submit"]');
    if (!btn) return false;
    const txt = (btn.innerText || btn.textContent || btn.value || '').toLowerCase();
    return /(ich best√§tige|best√§tige|√ºbermitteln|√ºbermittlung|senden|abschicken)/i.test(txt);
  }
  function onConsent(){
    // mirror 3003/3004 -> 9001/9002 then build summary
    setIf('9001', valByNameAny(['9001','9001_email_review','n9001_email_review','3003']));
    setIf('9002', valByNameAny(['9002','9002_mobile_review','n9002_mobile_review','3004']));
    ensureSummaryReady(()=>{});
    setTimeout(()=>ensureSummaryReady(()=>{}), 80);
  }
  document.addEventListener('click',  e => { if (isConsentTarget(e.target)) onConsent(); }, {capture:true, passive:true});
  document.addEventListener('change', e => { if (isConsentTarget(e.target)) onConsent(); }, {capture:true, passive:true});

  // ---------- send uses summary on first attempt ----------
  function computeTo(){ return (window.__MAIL_TO__ || '').trim(); }
  function computeSubject(){ return (typeof window.buildSubject==='function') ? window.buildSubject() : (document.title || 'Fragebogen'); }
  function sendWithSummary(e){
    e.preventDefault(); e.stopImmediatePropagation();
    ensureSummaryReady(()=>{
      const body = ($('#summary')?.value||'').trim() || buildSummaryLocal();
      const href = `mailto:${encodeURIComponent(computeTo())}?subject=${encodeURIComponent(computeSubject())}&body=${encodeURIComponent(body)}`;
      let a = $('#mailto_hidden'); if (!a){ a = document.createElement('a'); a.id='mailto_hidden'; a.style.display='none'; document.body.appendChild(a); }
      a.href = href; a.click();
    });
  }
  const sendBtn = $('#btnSendMail') || document.querySelector('[data-send="1"]');
  if (sendBtn) sendBtn.addEventListener('click', sendWithSummary, {capture:true});
  if (form) form.addEventListener('submit', sendWithSummary, {capture:true});
})();
</script>
<script id="consent_button_triggers_summary_exactlabel">
(() => {
  if (window.__CONSENT_BTN_SUMMARY_EXACT__) return; window.__CONSENT_BTN_SUMMARY_EXACT__ = true;
  const BTN_LABEL = 'ich best√§tige, dass ich die daten √ºbermitteln m√∂chte';
  function norm(t){ return (t||'').toString().normalize('NFKC').toLowerCase().replace(/\s+/g,' ').trim(); }
  function $(s, r=document){ return (r||document).querySelector(s); }
  function safeClick(el){ try{ el && el.click && el.click(); }catch(e){} }
  function triggerSummary(){
    const b = $('#btnSummary');
    if (b){ safeClick(b); }
  }
  function isConsentButton(el){
    const btn = el && (el.closest && el.closest('button, a, label, input[type="button"], input[type="submit"]'));
    if (!btn) return false;
    const txt = norm(btn.innerText || btn.textContent || btn.value || '');
    return txt === BTN_LABEL;
  }
  document.addEventListener('click', (e)=>{
    if (isConsentButton(e.target)){
      triggerSummary();
      setTimeout(triggerSummary, 60);
    }
  }, {capture:true, passive:true});
  document.addEventListener('change', (e)=>{
    if (e.target && (e.target.id === 'confirm_email' || e.target.id === 'confirm9000' || (e.target.name === '9000'))){
      if (e.target.type !== 'checkbox' || e.target.checked){
        triggerSummary();
        setTimeout(triggerSummary, 60);
      }
    }
  }, {capture:true, passive:true});
})();
</script>
<script id="logic-q8800-show-on-q8900-female-age">
(function(){
  function vis(id,on){
    var el=document.getElementById(id);
    if(!el) return;
    el.hidden=!on;
    if(on){ el.removeAttribute('hidden'); }
    else {
      el.querySelectorAll('input,select,textarea').forEach(function(i){
        if(i.type==='radio'||i.type==='checkbox') i.checked=false;
        else i.value='';
      });
    }
  }
  function getAge(){
    var y=document.querySelector('select[name="0003_jahr"]')?.value||"";
    if(!y) return null;
    var year=parseInt(y,10);
    if(isNaN(year)) return null;
    var now=new Date().getFullYear();
    return now-year;
  }
  function isFemale(){
    var g=document.querySelector('select[name="0002"]')?.value||"";
    return g.toLowerCase().startsWith("weib");
  }
  function isVisible(el){
    if(!el) return false;
    if(el.hidden) return false;
    var cs=window.getComputedStyle?getComputedStyle(el):null;
    if(cs && (cs.display==="none"||cs.visibility==="hidden")) return false;
    return true;
  }
  function sync(){
    var q8900=document.getElementById('q8900');
    var show=!!(q8900 && isVisible(q8900));
    var age=getAge();
    var female=isFemale();
    var ageOk = (age!==null && age>=14 && age<=45);
    vis('q8800', show && female && ageOk);
  }
  document.addEventListener('change', sync, {passive:true});
  document.addEventListener('input', sync, {passive:true});
  if(document.readyState==='loading'){
    document.addEventListener('DOMContentLoaded', sync);
  } else { sync(); }
})();
</script>
<!-- PATCH v1: mailto hardening: ASCII subject, CRLF plain-text body, summary lines, copy/download fallback -->
<script>
(function(){
  function asciiOnly(s){try{return (s||'').normalize('NFKD').replace(/[^\x20-\x7E]/g,'');}catch(e){return String(s||'').replace(/[^\x20-\x7E]/g,'');}}
  // Wrap existing buildSubject to strip emoji and non-ASCII
  window.buildSubject = (function(prev){
    return function(){
      try{
        let base = typeof prev==='function' ? prev.apply(this, arguments) : (window.summaryTitle || document.title || 'Fragebogen');
        return asciiOnly(String(base).trim());
      }catch(e){ return 'Fragebogen';}
    };
  })(window.buildSubject);

  function toPlainText(s){
    if(!s) return '';
    return String(s)
      .replace(/\s*\/\s/g, '\r\n')      // split " / " into new lines
      .replace(/\r\n/g,'\n').replace(/\r/g,'\n').replace(/\n/g,'\r\n') // normalize to CRLF
      .replace(/[^\t\x20-\x7E\u00A0-\u00FF]/g,''); // drop stray control chars
  }

  function ensureSummaryPatched(){
    try{
      const form = document.getElementById('form') || document.querySelector('form');
      if(!form){
        return (typeof window.ensureSummary==='function' ? toPlainText(window.ensureSummary()) : '');
      }
      const fd = new FormData(form);
      const keys = [...new Set([...fd.keys()])].sort();
      const rows = [];
      keys.forEach(k=>{
        const vals = fd.getAll(k).map(v=>String(v).trim()).filter(v=>v && v!=='Bitte w√§hlen‚Ä¶');
        if(vals.length){ rows.push(`${k}: ${[...new Set(vals)].join(', ')}`); }
      });
      const txt = rows.join('\r\n');
      const area = document.getElementById('summary');
      if(area) area.value = txt;
      return txt;
    }catch(e){
      return (typeof window.ensureSummary==='function' ? toPlainText(window.ensureSummary()) : '');
    }
  }
  window.ensureSummary = ensureSummaryPatched;

  // Wrap openMailClient to enforce plain-text body with CRLF
  window.openMailClient = (function(prev){
    return function(){
      try{
        const subject = encodeURIComponent( (typeof window.buildSubject==='function' ? window.buildSubject() : (document.title||'Fragebogen')) );
        const body    = encodeURIComponent( toPlainText( typeof window.ensureSummary==='function' ? window.ensureSummary() : '' ) );
        // Try to read recipient from existing config if present; else leave empty and let the client prompt
        const mailtoTo = (window.MAILTO_TO) || (document.querySelector('[data-mailto]')?.getAttribute('data-mailto')) || '';
        const href = `mailto:${mailtoTo}?subject=${subject}&body=${body}`;
        let a = document.getElementById('mailto_hidden');
        if(!a){ a = document.createElement('a'); a.id='mailto_hidden'; a.style.display='none'; document.body.appendChild(a); }
        a.href = href; a.click();
      }catch(e){
        if(typeof prev==='function'){ return prev.apply(this, arguments); }
      }
    };
  })(window.openMailClient);

  // Add fallback buttons: copy and TXT download
  function addFallbackButtons(){
    const container = document.getElementById('mailto_buttons') || document.body;
    const wrap = document.createElement('div');
    wrap.style.marginTop='8px';
    wrap.style.display='flex';
    wrap.style.gap='8px';

    const btnCopy = document.createElement('button');
    btnCopy.type='button'; btnCopy.id='btnCopy'; btnCopy.textContent='In Zwischenablage';
    btnCopy.onclick = async ()=>{
      const txt = ensureSummaryPatched();
      try{ await navigator.clipboard.writeText(txt); }catch(e){ /* ignore */ }
    };

    const btnDl = document.createElement('button');
    btnDl.type='button'; btnDl.id='btnDownload'; btnDl.textContent='Als TXT speichern';
    btnDl.onclick = ()=>{
      const txt = ensureSummaryPatched();
      const blob = new Blob([txt], {type:'text/plain;charset=utf-8'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob); a.download = 'fragebogen.txt';
      a.click();
      setTimeout(()=>URL.revokeObjectURL(a.href), 1000);
    };

    wrap.appendChild(btnCopy);
    wrap.appendChild(btnDl);
    container.appendChild(wrap);
  }
  document.addEventListener('DOMContentLoaded', addFallbackButtons);
})();
</script>

<script id="validate-q2006">
(function(){
  function hasQ2006(){
    const boxes = document.querySelectorAll('input[name="2006"]');
    for (const b of boxes){ if (b.checked) return true; }
    const ft = document.querySelector('input[name="2006_freitext"]');
    return !!(ft && ft.value.trim() !== "");
  }

  document.addEventListener('change', function(e){
    const t = e.target;
    if (!t) return;
    const sec = t.closest('section');
    if (!sec) return;
    // Pr√ºfe Pflicht f√ºr q2006 nur, wenn q4000‚Äìq4002 beantwortet werden sollen
    if (sec.id === 'q4000' || sec.id === 'q4001' || sec.id === 'q4002'){
      if (!hasQ2006()){
        alert("Bitte geben Sie Grund Ihres Besuchs an.");
        // √Ñnderung r√ºckg√§ngig machen
        const type = (t.type || "").toLowerCase();
        if (type === "checkbox" || type === "radio"){
          t.checked = false;
        } else {
          t.value = "";
        }
        const q = document.getElementById('q2006');
        if (q){
          try{ q.scrollIntoView({behavior:'smooth', block:'center'}); }catch(e){}
          const first = q.querySelector('input,select,textarea');
          if (first && first.focus){
            try{ first.focus({preventScroll:true}); }catch(e){}
          }
        }
      }
    }
  }, {passive:true});
})();
</script>

<script id="validate-q1006">
(function(){
  function q1000_yes(){
    const r = document.querySelector('input[name="1000"][value="Ja"]');
    return !!(r && r.checked);
  }
  function hasQ1006(){
    const inputs = document.querySelectorAll('#q1006 input, #q1006 select, #q1006 textarea');
    for (const inp of inputs){
      const type = (inp.type || "").toLowerCase();
      if (type === "checkbox" || type === "radio"){
        if (inp.checked) return true;
      } else {
        if (inp.value.trim() !== "") return true;
      }
    }
    return false;
  }

  document.addEventListener('change', function(e){
    const t = e.target;
    if (!t) return;
    const sec = t.closest('section');
    if (!sec) return;
    // Pr√ºfe Pflicht f√ºr q1006 nur, wenn q2000 beantwortet werden soll
    if (sec.id === 'q2000'){
      if (q1000_yes() && !hasQ1006()){
        alert("Bitte benennen Sie Ihre Beschwerden.");
        // √Ñnderung r√ºckg√§ngig machen
        const type = (t.type || "").toLowerCase();
        if (type === "checkbox" || type === "radio"){
          t.checked = false;
        } else {
          t.value = "";
        }
        const q = document.getElementById('q1006');
        if (q){
          try{ q.scrollIntoView({behavior:'smooth', block:'center'}); }catch(e){}
          const first = q.querySelector('input,select,textarea');
          if (first && first.focus){
            try{ first.focus({preventScroll:true}); }catch(e){}
          }
        }
      }
    }
  }, {passive:true});
})();
</script>


<script id="validate-q850x">
(function(){
  function sectionAnswered(id){
    const sec = document.getElementById(id);
    if (!sec) return false;
    const inputs = sec.querySelectorAll('input, select, textarea');
    for (const inp of inputs){
      const type = (inp.type || "").toLowerCase();
      if (type === "checkbox" || type === "radio"){
        if (inp.checked) return true;
      } else {
        if (inp.value && inp.value.trim() !== "") return true;
      }
    }
    return false;
  }

  function any400Answered(){
    // Meldung nur, wenn KEINE der drei Fragen beantwortet wurde
    return sectionAnswered('q4000') 
        || sectionAnswered('q4001') 
        || sectionAnswered('q4002');
  }

  document.addEventListener('change', function(e){
    const t = e.target;
    if (!t) return;
    const sec = t.closest('section');
    if (!sec) return;

    // Nur pr√ºfen, wenn eine der Pr√§ventions-/Screening-Fragen beantwortet wird
    if (sec.id === 'q8501' || sec.id === 'q8502' || sec.id === 'q8503' || sec.id === 'q8504'){
      if (!any400Answered()){
        alert("Beantworten Sie zuerst Fragen zum Rauchstatus und K√∂rperma√üen.");
        // √Ñnderung r√ºckg√§ngig machen
        const type = (t.type || "").toLowerCase();
        if (type === "checkbox" || type === "radio"){
          t.checked = false;
        } else {
          t.value = "";
        }
        const target = document.getElementById('q4000') || sec;
        if (target){
          try{ target.scrollIntoView({behavior:'smooth', block:'center'}); }catch(e){}
          const first = target.querySelector('input,select,textarea');
          if (first && first.focus){
            try{ first.focus({preventScroll:true}); }catch(e){}
          }
        }
      }
    }
  }, {passive:true});
})();
</script>


<script id="validate-q6006-contact">
(function(){
  function fieldFilledByName(name){
    var els = document.querySelectorAll('[name="' + name + '"]');
    if (!els.length) return false;
    for (var i=0; i<els.length; i++){
      var el = els[i];
      var type = (el.type || "").toLowerCase();
      if (type === "checkbox" || type === "radio"){
        if (el.checked) return true;
      } else {
        if (el.value && el.value.trim() !== "") return true;
      }
    }
    return false;
  }

  function contactsComplete(){
    // Pflichtfelder: 3000 (PLZ), 3001 (Wohnort), 3002 (Wohnanschrift), 3003 (E-Mail)
    var required = ["3000","3001","3002","3003"];
    for (var i=0; i<required.length; i++){
      if (!fieldFilledByName(required[i])){
        return false;
      }
    }
    return true;
  }

  function focusFirstMissingContact(){
    var order = ["q3000","q3001","q3002","q3003"];
    for (var i=0; i<order.length; i++){
      var sec = document.getElementById(order[i]);
      if (!sec) continue;
      var input = sec.querySelector("input,select,textarea");
      if (!input) continue;
      var type = (input.type || "").toLowerCase();
      var val = (input.value || "").trim();
      var isChecked = (type === "checkbox" || type === "radio") ? input.checked : (val !== "");
      if (!isChecked){
        try{ sec.scrollIntoView({behavior:"smooth", block:"center"}); }catch(e){}
        try{ input.focus({preventScroll:true}); }catch(e){}
        return;
      }
    }
    // Fallback: gehe zu q3000
    var sec0 = document.getElementById("q3000");
    if (sec0){
      try{ sec0.scrollIntoView({behavior:"smooth", block:"center"}); }catch(e){}
      var first = sec0.querySelector("input,select,textarea");
      if (first && first.focus){
        try{ first.focus({preventScroll:true}); }catch(e){}
      }
    }
  }

  document.addEventListener("change", function(e){
    var t = e.target;
    if (!t) return;
    if (t.name !== "6006") return;
    if (t.value !== "Ja") return;

    if (!contactsComplete()){
      alert("Bitte vervollst√§ndigen Sie Ihre Kontaktdaten.");
      // Auswahl zur√ºcksetzen
      var radios = document.querySelectorAll('input[name="6006"]');
      for (var i=0; i<radios.length; i++){
        radios[i].checked = false;
      }
      focusFirstMissingContact();
    }
  }, false);
})();
</script>


<script id="gate-q5000-q5003-sequential">
(function(){
  function hasAnyAnswerInSection(id){
    var sec = document.getElementById(id);
    if(!sec) return false;
    var inps = sec.querySelectorAll('input,select,textarea');
    for(var i=0;i<inps.length;i++){
      var inp = inps[i];
      if(inp.disabled) continue;
      var type = (inp.type || "").toLowerCase();
      if(type === 'checkbox' || type === 'radio'){
        if(inp.checked) return true;
      }else{
        if((inp.value || '').trim() !== '') return true;
      }
    }
    return false;
  }

  function showSection(id){
    var sec = document.getElementById(id);
    if(!sec) return;
    sec.hidden = false;
    sec.removeAttribute('hidden');
  }

  function hideSection(id, clear){
    var sec = document.getElementById(id);
    if(!sec) return;
    sec.hidden = true;
    if(clear){
      var inps = sec.querySelectorAll('input,select,textarea');
      for(var i=0;i<inps.length;i++){
        var inp = inps[i];
        var type = (inp.type || '').toLowerCase();
        if(type === 'checkbox' || type === 'radio'){
          inp.checked = false;
        }else{
          inp.value = '';
        }
      }
    }
  }

  function applyInitial(){
    // beim Laden Zustand wiederherstellen (z. B. bei Zwischenspeicherung)
    var yes = document.querySelector('input[name="5000"][value="Ja"]');
    if(yes && yes.checked){
      if(hasAnyAnswerInSection('q5001')) showSection('q5001');
      if(hasAnyAnswerInSection('q5002')) showSection('q5002');
      if(hasAnyAnswerInSection('q5003')) showSection('q5003');
    }
  }

  document.addEventListener('change', function(e){
    var t = e.target;
    if(!t) return;
    var name = t.name || '';

    if(name === '5000'){
      if(t.value === 'Ja' && t.checked){
        // Start der Diabetes-Unterfragen
        showSection('q5001');
        hideSection('q5002', false);
        hideSection('q5003', false);
      }else if(t.value !== 'Ja' && t.checked){
        // Bei "Nein" Diabetes-Block wieder schlie√üen
        hideSection('q5001', false);
        hideSection('q5002', false);
        hideSection('q5003', false);
      }
    }

    if(name === '5001'){
      if(hasAnyAnswerInSection('q5001')){
        showSection('q5002');
      }else{
        hideSection('q5002', false);
        hideSection('q5003', false);
      }
    }

    if(name === '5002' || name === '5002_freitext'){
      if(hasAnyAnswerInSection('q5002')){
        showSection('q5003');
      }else{
        hideSection('q5003', false);
      }
    }
  }, {passive:true});

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', applyInitial, {once:true});
  }else{
    applyInitial();
  }
})();
</script>


<script id="q-accordion-init">
(function(){
  if (typeof document === 'undefined') return;

  function buildAccordion(){
    var form = document.querySelector('form');
    if (!form) return;
    var sections = Array.prototype.slice.call(form.querySelectorAll('section.q'));
    if (!sections.length) return;

    // classify sections by ID for color coding
    sections.forEach(function(sec){
      var id = sec.id || "";
      if (!id || id[0] !== 'q') return;
      var num = parseInt(id.substring(1), 10);
      if (isNaN(num)) return;
      if (num >= 0 && num < 1000){
        sec.classList.add('q-type-basis');
      } else if (num >= 1000 && num < 4000){
        sec.classList.add('q-type-beschwerden');
      } else if ((num >= 4000 && num < 5000) || (num >= 8500 && num < 8600)){
        sec.classList.add('q-type-screening');
      } else if (num >= 6000 && num < 7000){
        sec.classList.add('q-type-geriatrie');
      }
    });

    // build accordion structure
    var firstOpenDone = false;
    sections.forEach(function(sec){
      if (sec.dataset.accordionInit === "1") return;
      sec.dataset.accordionInit = "1";

      // move existing children into body
      var body = document.createElement('div');
      body.className = 'q-body';
      while (sec.firstChild){
        body.appendChild(sec.firstChild);
      }

      // determine title
      var labelText = '';
      var h = body.querySelector('h2,h3,legend');
      if (h && h.textContent){
        labelText = h.textContent.trim();
      } else {
        labelText = 'Frageblock';
      }

      // header button
      var btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'q-accordion-header';
      var spanTitle = document.createElement('span');
      spanTitle.className = 'q-accordion-title';
      spanTitle.textContent = labelText;
      var spanIcon = document.createElement('span');
      spanIcon.className = 'q-accordion-icon';
      spanIcon.textContent = '‚ñæ';
      btn.appendChild(spanTitle);
      btn.appendChild(spanIcon);

// initial open/close: alle sichtbaren Bl√∂cke zun√§chst ge√∂ffnet lassen
      var shouldOpen = !sec.hasAttribute('hidden');

      btn.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
      body.style.display = shouldOpen ? '' : 'none';

      // click behaviour: only one open at a time
      btn.addEventListener('click', function(){
        var expanded = btn.getAttribute('aria-expanded') === 'true';
        var makeOpen = !expanded;

        // close all others
        if (makeOpen){
          sections.forEach(function(other){
            if (other === sec) return;
            var obtn = other.querySelector('.q-accordion-header');
            var obody = other.querySelector('.q-body');
            if (obtn && obody){
              obtn.setAttribute('aria-expanded','false');
              obody.style.display = 'none';
            }
          });
        }

        btn.setAttribute('aria-expanded', makeOpen ? 'true' : 'false');
        body.style.display = makeOpen ? '' : 'none';

        if (makeOpen){
          try{
            sec.scrollIntoView({behavior:'smooth', block:'center'});
          }catch(e){
            sec.scrollIntoView();
          }
        }
      });

      // attach header + body
      sec.appendChild(btn);
      sec.appendChild(body);
    });

    // auto-open on focus: when any control gets focus, open its block
    function autoOpenOnFocus(e){
      var t = e.target;
      if (!t) return;
      var sec = t.closest('section.q');
      if (!sec) return;
      var btn = sec.querySelector('.q-accordion-header');
      var body = sec.querySelector('.q-body');
      if (!btn || !body) return;
      if (body.style.display === 'none'){
        // close others
        sections.forEach(function(other){
          if (other === sec) return;
          var obtn = other.querySelector('.q-accordion-header');
          var obody = other.querySelector('.q-body');
          if (obtn && obody){
            obtn.setAttribute('aria-expanded','false');
            obody.style.display = 'none';
          }
        });
        btn.setAttribute('aria-expanded','true');
        body.style.display = '';
        try{
          sec.scrollIntoView({behavior:'smooth', block:'center'});
        }catch(e){
          sec.scrollIntoView();
        }
      }
    }
    document.addEventListener('focusin', autoOpenOnFocus, true);
  }

  if (document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', buildAccordion, {once:true});
  } else {
    buildAccordion();
  }
})();
</script>

<!-- Disable accordion headers and always show bodies for sections q4000 and higher -->
<style id="disable-accordion-after-4000">
  /* Hide accordion headers for question blocks >= 4000 */
  section.q[id^="q4"] > .q-accordion-header,
  section.q[id^="q5"] > .q-accordion-header,
  section.q[id^="q6"] > .q-accordion-header,
  section.q[id^="q7"] > .q-accordion-header,
  section.q[id^="q8"] > .q-accordion-header {
    display: none !important;
  }
  /* Ensure bodies of those sections are always visible */
  section.q[id^="q4"] > .q-body,
  section.q[id^="q5"] > .q-body,
  section.q[id^="q6"] > .q-body,
  section.q[id^="q7"] > .q-body,
  section.q[id^="q8"] > .q-body {
    display: block !important;
  }
</style>

<script id="q-inline-error-and-progress">
(function(){
  if (typeof document === 'undefined') return;
  var origAlert = window.alert;

  function showSectionError(sectionId, msg){
    var sec = document.getElementById(sectionId);
    if (!sec){ origAlert(msg); return; }
    sec.classList.add('q-error','section-error-active');
    var box = sec.querySelector('.section-error');
    if (!box){
      box = document.createElement('div');
      box.className = 'section-error';
      sec.insertBefore(box, sec.firstChild);
    }
    box.textContent = '‚ö†Ô∏é ' + msg;
    box.classList.add('show');

    // open accordion block if closed
    var btn = sec.querySelector('.q-accordion-header');
    var body = sec.querySelector('.q-body');
    if (btn && body && body.style.display === 'none'){
      btn.setAttribute('aria-expanded','true');
      body.style.display = '';
    }
    try{
      sec.scrollIntoView({behavior:'smooth', block:'center'});
    }catch(e){
      sec.scrollIntoView();
    }
  }

  window.__setSectionError = showSectionError;

  window.alert = function(msg){
    if (typeof msg === 'string'){
      if (msg.indexOf('Grund Ihres Besuchs') !== -1){
        return showSectionError('q2006', msg);
      }
      if (msg.indexOf('Ihre Beschwerden') !== -1){
        return showSectionError('q1006', msg);
      }
      if (msg.indexOf('Rauchstatus und K√∂rperma√üen') !== -1){
        return showSectionError('q4000', msg);
      }
      if (msg.indexOf('Kontaktdaten') !== -1){
        return showSectionError('q3000', msg);
      }
    }
    return origAlert(msg);
  };

  function updateSectionStates(){
    var sections = document.querySelectorAll('form .q');
    sections.forEach(function(sec){
      // do not override active error state
      if (sec.classList.contains('section-error-active')) return;
      sec.classList.remove('q-complete');
      var inputs = sec.querySelectorAll('input,select,textarea');
      if (!inputs.length) return;
      var hasAnswer = false;
      var missingRequired = false;

      inputs.forEach(function(inp){
        if (inp.closest('.section-error')) return;
        var type = (inp.type || '').toLowerCase();
        var isVisible = inp.offsetParent !== null;
        if (type === 'checkbox' || type === 'radio'){
          if (inp.checked) hasAnswer = true;
        } else {
          if ((inp.value || '').trim() !== '') hasAnswer = true;
        }
        if (inp.required && isVisible){
          var ok = false;
          if (type === 'checkbox' || type === 'radio'){
            var group = sec.querySelectorAll('input[name="' + inp.name + '"]');
            var anyChecked = false;
            group.forEach(function(g){ if (g.checked) anyChecked = true; });
            ok = anyChecked;
          } else {
            ok = (inp.value || '').trim() !== '';
          }
          if (!ok) missingRequired = true;
        }
      });

      if (!missingRequired && hasAnswer){
        sec.classList.add('q-complete');
      }
    });
  }

  document.addEventListener('change', updateSectionStates, {passive:true});
  document.addEventListener('input', updateSectionStates, {passive:true});

  // clear inline error when user korrigiert im selben Block
  document.addEventListener('input', function(e){
    var t = e.target;
    if (!t) return;
    var sec = t.closest('section.q');
    if (!sec) return;
    if (sec.classList.contains('section-error-active')){
      var box = sec.querySelector('.section-error');
      if (box){
        box.classList.remove('show');
      }
      sec.classList.remove('section-error-active','q-error');
    }
  }, {passive:true});

  if (document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', updateSectionStates, {once:true});
  } else {
    updateSectionStates();
  }
})();
</script>


<script id="accordion-multiselect-guard">
(function(){
  if (typeof document === 'undefined') return;

  const stickyIds = ['q1005','q1105','q1205','q1305','q1405','q1605','q1705'];

  function hasAnyAnswer(sec){
    if(!sec) return false;
    const inputs = sec.querySelectorAll('input,select,textarea');
    for (const inp of inputs){
      const type = (inp.type||'').toLowerCase();
      if(type === 'checkbox' || type === 'radio'){
        if(inp.checked) return true;
      }else if((inp.value||'').trim() !== ''){
        return true;
      }
    }
    return false;
  }

  function ensureOpen(sec){
    if(!sec) return;
    const btn = sec.querySelector('.q-accordion-header');
    const body = sec.querySelector('.q-body');
    if(btn && body){
      btn.setAttribute('aria-expanded','true');
      body.style.display = '';
    }
  }

  function closeSection(id){
    const sec = document.getElementById(id);
    if(!sec) return;
    const btn = sec.querySelector('.q-accordion-header');
    const body = sec.querySelector('.q-body');
    if(btn && body){
      btn.setAttribute('aria-expanded','false');
      body.style.display = 'none';
    }
  }

  document.addEventListener('change', function(e){
    const t = e.target;
    if(!t) return;
    const sec = t.closest('section.q');
    if(!sec) return;
    const id = sec.id;

    if(stickyIds.indexOf(id) !== -1){
      // Block offen halten, solange darin gearbeitet wird
      ensureOpen(sec);
    }

    // Vorfragen erst schlie√üen, wenn Folgeblock beantwortet ist
    if(id === 'q1205' && hasAnyAnswer(sec)){
      closeSection('q1105');
    }
    if(id === 'q1305' && hasAnyAnswer(sec)){
      closeSection('q1205');
    }
    if(id === 'q1405' && hasAnyAnswer(sec)){
      closeSection('q1305');
    }
    if(id === 'q1705' && hasAnyAnswer(sec)){
      closeSection('q1605');
    }
  }, {passive:true});
})();
</script>


</body>
</html>
<html><section class="q" hidden="" id="q7001">
<fieldset class="accent">
<legend>Welche Gerinnungsst√∂rung haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="7001" type="checkbox" value="Antiphospholipidsyndrom"/><span class="lbl">Antiphospholipidsyndrom</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Antithrombin-III-Mangel"/><span class="lbl">Antithrombin-III-Mangel</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Faktor-V-Leiden-Mutation (APC-Resistenz)"/><span class="lbl">Faktor-V-Leiden-Mutation (APC-Resistenz)</span></label>
<label class="choice"><input name="7001" type="checkbox" value="H√§mophilie A"/><span class="lbl">H√§mophilie A</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Heparin-induzierte Thrombozytopenie"/><span class="lbl">Heparin-induzierte Thrombozytopenie</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Hyperhomocystein√§mie"/><span class="lbl">Hyperhomocystein√§mie</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Protein-C-Mangel"/><span class="lbl">Protein-C-Mangel</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Protein-S-Mangel"/><span class="lbl">Protein-S-Mangel</span></label>
<label class="choice"><input name="7001" type="checkbox" value="Von-Willebrand-Syndrom"/><span class="lbl">Von-Willebrand-Syndrom</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7001_freitext" placeholder="_ andere Gerinnungsst√∂rungen" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7002">
<fieldset class="accent">
<legend>Welche Lungenerkrankung haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Asthma bronchiale"/><span class="lbl">Asthma bronchiale</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Chronisch obstruktive Lungenerkrankung (COPD)"/><span class="lbl">Chronisch obstruktive Lungenerkrankung (COPD)</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Lungenemphysem"/><span class="lbl">Lungenemphysem</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Bronchiektasen"/><span class="lbl">Bronchiektasen</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Chronische Bronchitis (nicht obstruktiv)"/><span class="lbl">Chronische Bronchitis (nicht obstruktiv)</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Idiopathische pulmonale Fibrose (IPF)"/><span class="lbl">Idiopathische pulmonale Fibrose (IPF)</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Pneumokoniosen (z. B. Silikose, Asbestose)"/><span class="lbl">Pneumokoniosen (z. B. Silikose, Asbestose)</span></label>
<label class="choice"><input data-toggle="#q7102" name="7002" type="checkbox" value="Sarkoidose (Lunge)"/><span class="lbl">Sarkoidose (Lunge)</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7002_freitext" placeholder="_ weitere Lungenerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7003">
<fieldset class="accent">
<legend>Angaben zur Dialyseform</legend>
<div class="choices row two">
<label class="choice"><input name="7003" type="checkbox" value="H√§modialyse"/><span class="lbl">H√§modialyse</span></label>
<label class="choice"><input name="7003" type="checkbox" value="Peritonealdialyse"/><span class="lbl">Peritonealdialyse</span></label>
<label class="choice"><input name="7003" type="checkbox" value="√úber funktionierenden AV-Shunt"/><span class="lbl">√úber funktionierenden AV-Shunt</span></label>
<label class="choice"><input name="7003" type="checkbox" value="√úber Dialysekatheter"/><span class="lbl">√úber Dialysekatheter</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q7004">
<fieldset class="accent">
<legend>Unter welcher Gem√ºtsst√∂rung leiden Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="7004" type="checkbox" value="Major Depression (rezidivierende depressive St√∂rung)"/><span class="lbl">Major Depression (rezidivierende depressive St√∂rung)</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Dysthymie - anhaltende depressive St√∂rung"/><span class="lbl">Dysthymie - anhaltende depressive St√∂rung</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Schizoaffektive St√∂rung, depressive Form"/><span class="lbl">Schizoaffektive St√∂rung, depressive Form</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Saisonal abh√§ngige Depression (Winterdepression)"/><span class="lbl">Saisonal abh√§ngige Depression (Winterdepression)</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Bipolare affektive St√∂rung (manisch-depressiv)"/><span class="lbl">Bipolare affektive St√∂rung (manisch-depressiv)</span></label>
<label class="choice"><input name="7004" type="checkbox" value="Anpassungsst√∂rung mit depressiver Reaktion"/><span class="lbl">Anpassungsst√∂rung mit depressiver Reaktion</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7004_freitext" placeholder="_ weitere Gem√ºtsst√∂rung / Details" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7005">
<fieldset class="accent">
<legend>Angaben zu Herzerkrankungen</legend>
<div class="choices row two">
<label class="choice"><input name="7005" type="checkbox" value="Herzklappenerkrankung"/><span class="lbl">Herzklappenerkrankung</span></label>
<label class="choice"><input name="7005" type="checkbox" value="Kardiomyopathie"/><span class="lbl">Kardiomyopathie</span></label>
<label class="choice"><input name="7005" type="checkbox" value="Offenes Foramen ovale"/><span class="lbl">Offenes Foramen ovale</span></label>
<label class="choice"><input name="7005" type="checkbox" value="Vorhofflimmern"/><span class="lbl">Vorhofflimmern</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7005_freitext" placeholder="_ weitere Herzerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7006">
<fieldset class="accent">
<legend>Angaben zu Magen-Darmerkrankungen</legend>
<div class="choices row two">
<label class="choice"><input name="7006" type="checkbox" value="bili√§re Zirrhose"/><span class="lbl">bili√§re Zirrhose</span></label>
<label class="choice"><input name="7006" type="checkbox" value="chron. Hepatitis"/><span class="lbl">chron. Hepatitis</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Colitis ulcerosa"/><span class="lbl">Colitis ulcerosa</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Divertikelentz√ºndungen"/><span class="lbl">Divertikelentz√ºndungen</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Fettleber"/><span class="lbl">Fettleber</span></label>
<label class="choice"><input name="7006" type="checkbox" value="GERD - Gastrooesophagealer Reflux"/><span class="lbl">GERD - Gastrooesophagealer Reflux</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Gallensteinleiden"/><span class="lbl">Gallensteinleiden</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Leberzirrhose"/><span class="lbl">Leberzirrhose</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Morbus Crohn"/><span class="lbl">Morbus Crohn</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Pankreatitis"/><span class="lbl">Pankreatitis</span></label>
<label class="choice"><input name="7006" type="checkbox" value="Pfortaderthrombose"/><span class="lbl">Pfortaderthrombose</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7006_freitext" placeholder="_ weitere Magen-Darm-Erkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7007">
<fieldset class="accent">
<legend>Angaben zu MRSA</legend>
<div class="choices row two">
<label class="choice"><input name="7007" type="checkbox" value="erfolgreich eradiziert"/><span class="lbl">erfolgreich eradiziert</span></label>
<label class="choice"><input name="7007" type="checkbox" value="weiterhin vorhanden"/><span class="lbl">weiterhin vorhanden</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q7008">
<fieldset class="accent">
<legend>Um welchen Nierenerkrankung handelt es sich?</legend>
<div class="choices row two">
<label class="choice"><input name="7008" type="checkbox" value="Niereninsuffizienz (nicht dialysepflichtig)"/><span class="lbl">Niereninsuffizienz (nicht dialysepflichtig)</span></label>
<label class="choice"><input name="7008" type="checkbox" value="Zystennieren"/><span class="lbl">Zystennieren</span></label>
<label class="choice"><input name="7008" type="checkbox" value="Nierenbeckenentz√ºndungen rezidivierend"/><span class="lbl">Nierenbeckenentz√ºndungen rezidivierend</span></label>
<label class="choice"><input name="7008" type="checkbox" value="Glomerulonephritis"/><span class="lbl">Glomerulonephritis</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7008_freitext" placeholder="_ weitere Nierenerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q7009">
<fieldset class="accent">
<legend>Welche Nervenerkrankung haben Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="7009" type="checkbox" value="Krampfleiden/Epilepsie"/><span class="lbl">Krampfleiden/Epilepsie</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Migraine"/><span class="lbl">Migraine</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Morbus Parkinson"/><span class="lbl">Morbus Parkinson</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Multiple Sklerose"/><span class="lbl">Multiple Sklerose</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Neuropathische Schmerzen"/><span class="lbl">Neuropathische Schmerzen</span></label>
<label class="choice"><input name="7009" type="checkbox" value="Polyneuropathie"/><span class="lbl">Polyneuropathie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="7009_freitext" placeholder="_ weitere Nervenerkrankung" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q8007">
<fieldset class="accent">
<legend>Welche Gef√§√ü- oder Herzoperationen wurden durchgef√ºhrt?</legend>
<div class="choices row two">
<label class="choice"><input name="8007" type="checkbox" value="Krampfaderoperation (Stripping/Laser)"/><span class="lbl">Krampfaderoperation (Stripping/Laser)</span></label>
<label class="choice"><input name="8007" type="checkbox" value="Operation an der Halsschlagader (TEA/Stent)"/><span class="lbl">Operation an der Halsschlagader (TEA/Stent)</span></label>
<label class="choice"><input name="8007" type="checkbox" value="ACVB (Herzbypass)"/><span class="lbl">ACVB (Herzbypass)</span></label>
<label class="choice"><input name="8007" type="checkbox" value="Herzklappenersatz"/><span class="lbl">Herzklappenersatz</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8007_freitext" placeholder="_ Geben Sie hier andere Operationen an" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8013">
<fieldset class="accent">
<legend>Wann hatten Sie eine Lungenarterienembolie?</legend>
<div class="choices">
<input class="freitext-blue" name="8013" placeholder="z.‚ÄØB. 07/2019; 01/2024" type="text"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8014">
<fieldset class="accent">
<legend>Was wurde transplantiert?</legend>
<div class="choices row two">
<label class="choice"><input name="8014" type="checkbox" value="Herz"/><span class="lbl">Herz</span></label>
<label class="choice"><input name="8014" type="checkbox" value="Leber"/><span class="lbl">Leber</span></label>
<label class="choice"><input name="8014" type="checkbox" value="Lunge"/><span class="lbl">Lunge</span></label>
<label class="choice"><input name="8014" type="checkbox" value="Niere"/><span class="lbl">Niere</span></label>
<label class="choice"><input name="8014" type="checkbox" value="Pankreas"/><span class="lbl">Pankreas</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8014_freitext" placeholder="erg√§nzende Angaben z.B. Jahr" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8015">
<fieldset class="accent">
<legend>Wann hatten Sie Ihren Schlaganfall?</legend>
<div class="choices">
<input class="freitext-blue" name="8015" placeholder="z.‚ÄØB. 09/2017; 02/2023" type="text"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8010">
<fieldset class="accent">
<legend>Welche Krebserkrankungen hatten Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Blutkrebs"/><span class="lbl">Blutkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Brustkrebs"/><span class="lbl">Brustkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Bronchialkrebs"/><span class="lbl">Bronchialkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Darmkrebs"/><span class="lbl">Darmkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Geb√§rmutterhalskrebs"/><span class="lbl">Geb√§rmutterhalskrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Hautkrebs"/><span class="lbl">Hautkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Lymphdr√ºsenkrebs"/><span class="lbl">Lymphdr√ºsenkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Magenkrebs"/><span class="lbl">Magenkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Ovarialkrebs"/><span class="lbl">Ovarialkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Prostatakrebs"/><span class="lbl">Prostatakrebs</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q8011" name="8010_freitext" placeholder="_ andere Krebserkrankungen" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8008">
<fieldset class="accent">
<legend>Wann hatten Sie einen Herzinfarkt?</legend>
<div class="choices">
<input class="freitext-blue" data-toggle="#q8009" name="8008" placeholder="z.‚ÄØB. 03/2018; 11/2022" type="text"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8005">
<fieldset class="accent">
<legend>Wie oft hatten Sie eine Thrombose?</legend>
<div class="choices row two">
<input class="number-input" name="8005" placeholder="Anzahl" type="number"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8006">
<fieldset class="accent">
<legend>Wann und wo (Bein/Arm) hatten Sie eine Thrombose?</legend>
<div class="choices row two">
<input class="freitext-blue" name="8006" placeholder="z.‚ÄØB. 05/2021, linkes Bein ‚Äì V. poplitea" type="text"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8003">
<fieldset class="accent">
<legend>Welche Arterienerkrankung hatten Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q8004" name="8003" type="checkbox" value="Arterienverkalkung (Gef√§√ü-verengung/verschluss)"/><span class="lbl">Arterienverkalkung (Gef√§√ü-verengung/verschluss)</span></label>
<label class="choice"><input data-toggle="#q8004" name="8003" type="checkbox" value="Dissektion"/><span class="lbl">Dissektion</span></label>
<label class="choice"><input data-toggle="#q8004" name="8003" type="checkbox" value="Schaufensterkrankheit"/><span class="lbl">Schaufensterkrankheit</span></label>
<label class="choice"><input data-toggle="#q8004" name="8003" type="checkbox" value="Embolie"/><span class="lbl">Embolie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q8004" name="8003_freitext" placeholder="_ Freitextfeld ‚Äì Andere Gef√§√üerkrankungen" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8002">
<fieldset class="accent">
<legend>Wie wurde das Aneurysma behandelt?</legend>
<div class="choices row two" role="radiogroup">
<label class="choice"><input name="8002" type="radio" value="Operation"/><span class="lbl">Operation</span></label>
<label class="choice"><input name="8002" type="radio" value="Endoprothese"/><span class="lbl">Endoprothese</span></label>
<label class="choice"><input name="8002" type="radio" value="ohne Behandlung - Beobachtung"/><span class="lbl">ohne Behandlung - Beobachtung</span></label>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8001">
<fieldset class="accent">
<legend>Wo befand sich das Aneurysma?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Bauch"/><span class="lbl">Bauch</span></label>
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Brustkorb"/><span class="lbl">Brustkorb</span></label>
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Leiste"/><span class="lbl">Leiste</span></label>
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Kniekehle"/><span class="lbl">Kniekehle</span></label>
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Kopf"/><span class="lbl">Kopf</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q8002" name="8001_freitext" placeholder="_ an anderer Stelle" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q8016">
<fieldset class="accent">
<legend>Welche Infektionskrankheiten hatten Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="8016" type="checkbox" value="Borreliose"/><span class="lbl">Borreliose</span></label>
<label class="choice"><input name="8016" type="checkbox" value="Hepatitis B"/><span class="lbl">Hepatitis B</span></label>
<label class="choice"><input name="8016" type="checkbox" value="Hepatitis C"/><span class="lbl">Hepatitis C</span></label>
<label class="choice"><input name="8016" type="checkbox" value="HIV-Infektion / AIDS"/><span class="lbl">HIV-Infektion / AIDS</span></label>
<label class="choice"><input name="8016" type="checkbox" value="Malaria"/><span class="lbl">Malaria</span></label>
<label class="choice"><input name="8016" type="checkbox" value="Tuberkulose"/><span class="lbl">Tuberkulose</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8016_freitext" placeholder="_ weitere Infektionskrankheiten" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8004">
<fieldset class="accent">
<legend>Welche Behandlungen wurden durchgef√ºhrt?</legend>
<div class="choices row two">
<label class="choice"><input name="8004" type="checkbox" value="Gef√§√üaussch√§lung (TEA)"/><span class="lbl">Gef√§√üaussch√§lung (TEA)</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Bypassoperation"/><span class="lbl">Bypassoperation</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Embolektomie"/><span class="lbl">Embolektomie</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Gef√§√üaufdehnung mit Ballon (PTA)"/><span class="lbl">Gef√§√üaufdehnung mit Ballon (PTA)</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Stent"/><span class="lbl">Stent</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Y-Prothese"/><span class="lbl">Y-Prothese</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8004_freitext" placeholder="_ Andere Behandlungen" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8011">
<fieldset class="accent">
<legend>Welche Behandlung wurde durchgef√ºhrt?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q8012" name="8011" type="checkbox" value="Chemotherapie"/><span class="lbl">Chemotherapie</span></label>
<label class="choice"><input data-toggle="#q8012" name="8011" type="checkbox" value="Immuntherapie"/><span class="lbl">Immuntherapie</span></label>
<label class="choice"><input data-toggle="#q8012" name="8011" type="checkbox" value="Operation"/><span class="lbl">Operation</span></label>
<label class="choice"><input data-toggle="#q8012" name="8011" type="checkbox" value="Strahlentherapie"/><span class="lbl">Strahlentherapie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q8012" name="8011_freitext" placeholder="_ Freitextfeld" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8012">
<fieldset class="accent">
<legend>Ist die Krebsbehandlung abgeschlossen?</legend>
<div class="choices row two" role="radiogroup">
<label class="choice"><input name="8012" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="8012" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8009">
<fieldset class="accent">
<legend>Welche Behandlung wurde durchgef√ºhrt?</legend>
<div class="choices row two">
<label class="choice"><input name="8009" type="checkbox" value="Stent"/><span class="lbl">Stent</span></label>
<label class="choice"><input name="8009" type="checkbox" value="Bypassoperation"/><span class="lbl">Bypassoperation</span></label>
<label class="choice"><input name="8009" type="checkbox" value="Lysetherapie"/><span class="lbl">Lysetherapie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8009_freitext" placeholder="_ Freitextfeld" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8999">
<fieldset class="accent">
<legend>Abschluss ‚Äì Hinweise</legend>
<small class="hint"></small>
</fieldset>
</section><section class="q" hidden="" id="q8800">
<fieldset class="accent">
<legend>Nehmen Sie die Antibabypille?</legend>
<div class="choices">
<label class="choice"><input name="8800" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="8800" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section>
<section class="q" hidden="" id="q8007">
<fieldset class="accent">
<legend>Welche Gef√§√ü- oder Herzoperationen wurden durchgef√ºhrt?</legend>
<div class="choices row two">
<label class="choice"><input name="8007" type="checkbox" value="Krampfaderoperation (Stripping/Laser)"/><span class="lbl">Krampfaderoperation (Stripping/Laser)</span></label>
<label class="choice"><input name="8007" type="checkbox" value="Operation an der Halsschlagader (TEA/Stent)"/><span class="lbl">Operation an der Halsschlagader (TEA/Stent)</span></label>
<label class="choice"><input name="8007" type="checkbox" value="ACVB (Herzbypass)"/><span class="lbl">ACVB (Herzbypass)</span></label>
<label class="choice"><input name="8007" type="checkbox" value="Herzklappenersatz"/><span class="lbl">Herzklappenersatz</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8007_freitext" placeholder="_ Geben Sie hier andere Operationen an" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8013">
<fieldset class="accent">
<legend>Wann hatten Sie eine Lungenarterienembolie?</legend>
<div class="choices">
<input class="freitext-blue" name="8013" placeholder="z.‚ÄØB. 07/2019; 01/2024" type="text"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8014">
<fieldset class="accent">
<legend>Was wurde transplantiert?</legend>
<div class="choices row two">
<label class="choice"><input name="8014" type="checkbox" value="Herz"/><span class="lbl">Herz</span></label>
<label class="choice"><input name="8014" type="checkbox" value="Leber"/><span class="lbl">Leber</span></label>
<label class="choice"><input name="8014" type="checkbox" value="Lunge"/><span class="lbl">Lunge</span></label>
<label class="choice"><input name="8014" type="checkbox" value="Niere"/><span class="lbl">Niere</span></label>
<label class="choice"><input name="8014" type="checkbox" value="Pankreas"/><span class="lbl">Pankreas</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8014_freitext" placeholder="erg√§nzende Angaben z.B. Jahr" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8015">
<fieldset class="accent">
<legend>Wann hatten Sie Ihren Schlaganfall?</legend>
<div class="choices">
<input class="freitext-blue" name="8015" placeholder="z.‚ÄØB. 09/2017; 02/2023" type="text"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8010">
<fieldset class="accent">
<legend>Welche Krebserkrankungen hatten Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Blutkrebs"/><span class="lbl">Blutkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Brustkrebs"/><span class="lbl">Brustkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Bronchialkrebs"/><span class="lbl">Bronchialkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Darmkrebs"/><span class="lbl">Darmkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Geb√§rmutterhalskrebs"/><span class="lbl">Geb√§rmutterhalskrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Hautkrebs"/><span class="lbl">Hautkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Lymphdr√ºsenkrebs"/><span class="lbl">Lymphdr√ºsenkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Magenkrebs"/><span class="lbl">Magenkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Ovarialkrebs"/><span class="lbl">Ovarialkrebs</span></label>
<label class="choice"><input data-toggle="#q8011" name="8010" type="checkbox" value="Prostatakrebs"/><span class="lbl">Prostatakrebs</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q8011" name="8010_freitext" placeholder="_ andere Krebserkrankungen" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8008">
<fieldset class="accent">
<legend>Wann hatten Sie einen Herzinfarkt?</legend>
<div class="choices">
<input class="freitext-blue" data-toggle="#q8009" name="8008" placeholder="z.‚ÄØB. 03/2018; 11/2022" type="text"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8005">
<fieldset class="accent">
<legend>Wie oft hatten Sie eine Thrombose?</legend>
<div class="choices row two">
<input class="number-input" name="8005" placeholder="Anzahl" type="number"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8006">
<fieldset class="accent">
<legend>Wann und wo (Bein/Arm) hatten Sie eine Thrombose?</legend>
<div class="choices row two">
<input class="freitext-blue" name="8006" placeholder="z.‚ÄØB. 05/2021, linkes Bein ‚Äì V. poplitea" type="text"/>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8003">
<fieldset class="accent">
<legend>Welche Arterienerkrankung hatten Sie?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q8004" name="8003" type="checkbox" value="Arterienverkalkung (Gef√§√ü-verengung/verschluss)"/><span class="lbl">Arterienverkalkung (Gef√§√ü-verengung/verschluss)</span></label>
<label class="choice"><input data-toggle="#q8004" name="8003" type="checkbox" value="Dissektion"/><span class="lbl">Dissektion</span></label>
<label class="choice"><input data-toggle="#q8004" name="8003" type="checkbox" value="Schaufensterkrankheit"/><span class="lbl">Schaufensterkrankheit</span></label>
<label class="choice"><input data-toggle="#q8004" name="8003" type="checkbox" value="Embolie"/><span class="lbl">Embolie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q8004" name="8003_freitext" placeholder="_ Freitextfeld ‚Äì Andere Gef√§√üerkrankungen" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8002">
<fieldset class="accent">
<legend>Wie wurde das Aneurysma behandelt?</legend>
<div class="choices row two" role="radiogroup">
<label class="choice"><input name="8002" type="radio" value="Operation"/><span class="lbl">Operation</span></label>
<label class="choice"><input name="8002" type="radio" value="Endoprothese"/><span class="lbl">Endoprothese</span></label>
<label class="choice"><input name="8002" type="radio" value="ohne Behandlung - Beobachtung"/><span class="lbl">ohne Behandlung - Beobachtung</span></label>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8001">
<fieldset class="accent">
<legend>Wo befand sich das Aneurysma?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Bauch"/><span class="lbl">Bauch</span></label>
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Brustkorb"/><span class="lbl">Brustkorb</span></label>
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Leiste"/><span class="lbl">Leiste</span></label>
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Kniekehle"/><span class="lbl">Kniekehle</span></label>
<label class="choice"><input data-toggle="#q8002" name="8001" type="checkbox" value="Kopf"/><span class="lbl">Kopf</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q8002" name="8001_freitext" placeholder="_ an anderer Stelle" type="text"/>
</fieldset>
</section>
<section class="q" hidden="" id="q8016">
<fieldset class="accent">
<legend>Welche Infektionskrankheiten hatten Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="8016" type="checkbox" value="Borreliose"/><span class="lbl">Borreliose</span></label>
<label class="choice"><input name="8016" type="checkbox" value="Hepatitis B"/><span class="lbl">Hepatitis B</span></label>
<label class="choice"><input name="8016" type="checkbox" value="Hepatitis C"/><span class="lbl">Hepatitis C</span></label>
<label class="choice"><input name="8016" type="checkbox" value="HIV-Infektion / AIDS"/><span class="lbl">HIV-Infektion / AIDS</span></label>
<label class="choice"><input name="8016" type="checkbox" value="Malaria"/><span class="lbl">Malaria</span></label>
<label class="choice"><input name="8016" type="checkbox" value="Tuberkulose"/><span class="lbl">Tuberkulose</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8016_freitext" placeholder="_ weitere Infektionskrankheiten" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8004">
<fieldset class="accent">
<legend>Welche Behandlungen wurden durchgef√ºhrt?</legend>
<div class="choices row two">
<label class="choice"><input name="8004" type="checkbox" value="Gef√§√üaussch√§lung (TEA)"/><span class="lbl">Gef√§√üaussch√§lung (TEA)</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Bypassoperation"/><span class="lbl">Bypassoperation</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Embolektomie"/><span class="lbl">Embolektomie</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Gef√§√üaufdehnung mit Ballon (PTA)"/><span class="lbl">Gef√§√üaufdehnung mit Ballon (PTA)</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Stent"/><span class="lbl">Stent</span></label>
<label class="choice"><input name="8004" type="checkbox" value="Y-Prothese"/><span class="lbl">Y-Prothese</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8004_freitext" placeholder="_ Andere Behandlungen" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8011">
<fieldset class="accent">
<legend>Welche Behandlung wurde durchgef√ºhrt?</legend>
<div class="choices row two">
<label class="choice"><input data-toggle="#q8012" name="8011" type="checkbox" value="Chemotherapie"/><span class="lbl">Chemotherapie</span></label>
<label class="choice"><input data-toggle="#q8012" name="8011" type="checkbox" value="Immuntherapie"/><span class="lbl">Immuntherapie</span></label>
<label class="choice"><input data-toggle="#q8012" name="8011" type="checkbox" value="Operation"/><span class="lbl">Operation</span></label>
<label class="choice"><input data-toggle="#q8012" name="8011" type="checkbox" value="Strahlentherapie"/><span class="lbl">Strahlentherapie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" data-toggle="#q8012" name="8011_freitext" placeholder="_ Freitextfeld" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8012">
<fieldset class="accent">
<legend>Ist die Krebsbehandlung abgeschlossen?</legend>
<div class="choices row two" role="radiogroup">
<label class="choice"><input name="8012" type="radio" value="Ja"/><span class="lbl">Ja</span></label>
<label class="choice"><input name="8012" type="radio" value="Nein"/><span class="lbl">Nein</span></label>
</div>
</fieldset>
</section><section class="q" hidden="" id="q8009">
<fieldset class="accent">
<legend>Welche Behandlung wurde durchgef√ºhrt?</legend>
<div class="choices row two">
<label class="choice"><input name="8009" type="checkbox" value="Stent"/><span class="lbl">Stent</span></label>
<label class="choice"><input name="8009" type="checkbox" value="Bypassoperation"/><span class="lbl">Bypassoperation</span></label>
<label class="choice"><input name="8009" type="checkbox" value="Lysetherapie"/><span class="lbl">Lysetherapie</span></label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="8009_freitext" placeholder="_ Freitextfeld" type="text"/>
</fieldset>
</section><section class="q" hidden="" id="q8999">
<fieldset class="accent">
<legend>Abschluss ‚Äì Hinweise</legend>
<small class="hint"></small>
</fieldset>
</section>
<!-- moved inside form: q7000 + q8000 -->
<!-- /moved -->
<section class="q" id="q8900">
<fieldset class="accent">
<legend>üíä Welche Medikamente erhalten Sie?</legend>
<div class="choices row two">
<label class="choice"><input name="8900" type="checkbox" value="Keine Medikamente"/><span class="lbl">Keine Medikamente</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Antihypertensiva (ACE-Hemmer; AT1-Blocker; Betablocker; Calciumantagonisten; Diuretika)"/><span class="lbl">Antihypertensiva (ACE-Hemmer; AT1-Blocker; Betablocker; Calciumantagonisten; Diuretika)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Lipidsenker (Statine; Ezetimib)"/><span class="lbl">Lipidsenker (Statine; Ezetimib)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Antikoagulanzien (DOAK; Marcumar)"/><span class="lbl">Antikoagulanzien (DOAK; Marcumar)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Thrombozytenaggregationshemmer (ASS; Clopidogrel)"/><span class="lbl">Thrombozytenaggregationshemmer (ASS; Clopidogrel)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Antidiabetika (Metformin; Insulin; SGLT2-Hemmer; GLP-1-Analoga)"/><span class="lbl">Antidiabetika (Metformin; Insulin; SGLT2-Hemmer; GLP-1-Analoga)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Schilddr√ºsenpr√§parate (Levothyroxin)"/><span class="lbl">Schilddr√ºsenpr√§parate (Levothyroxin)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Kortikosteroide (systemisch; inhalativ)"/><span class="lbl">Kortikosteroide (systemisch; inhalativ)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Osteoporosemittel (Bisphosphonate; Denosumab)"/><span class="lbl">Osteoporosemittel (Bisphosphonate; Denosumab)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Inhalative Glukokortikoide"/><span class="lbl">Inhalative Glukokortikoide</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Beta-2-Sympathomimetika (langwirksam)"/><span class="lbl">Beta-2-Sympathomimetika (langwirksam)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Anticholinergika (LAMA)"/><span class="lbl">Anticholinergika (LAMA)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Leukotrienantagonisten (Lukaste)"/><span class="lbl">Leukotrienantagonisten (Lukaste)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Protonenpumpenhemmer (Pantoprazol; Omeprazol)"/><span class="lbl">Protonenpumpenhemmer (Pantoprazol; Omeprazol)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Analgetika (NSAR; Paracetamol; Metamizol)"/><span class="lbl">Analgetika (NSAR; Paracetamol; Metamizol)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Opioide (chronische Schmerztherapie)"/><span class="lbl">Opioide (chronische Schmerztherapie)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Antidepressiva (SSRI; SNRI; trizyklisch)"/><span class="lbl">Antidepressiva (SSRI; SNRI; trizyklisch)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Antipsychotika"/><span class="lbl">Antipsychotika</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Antiepileptika"/><span class="lbl">Antiepileptika</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Sedativa / Hypnotika"/><span class="lbl">Sedativa / Hypnotika</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Antidementiva"/><span class="lbl">Antidementiva</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Prostatamedikamente (Alphablocker; 5-Alpha-Reduktasehemmer)"/><span class="lbl">Prostatamedikamente (Alphablocker; 5-Alpha-Reduktasehemmer)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Hormonpr√§parate (√ñstrogene; Gestagene; Testosteron; Schilddr√ºsenhormone)"/><span class="lbl">Hormonpr√§parate (√ñstrogene; Gestagene; Testosteron; Schilddr√ºsenhormone)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Immunsuppressiva / Immunmodulatoren (Methotrexat; Biologika)"/><span class="lbl">Immunsuppressiva / Immunmodulatoren (Methotrexat; Biologika)</span></label>
<label class="choice"><input name="8900" type="checkbox" value="Vitamine / Mineralstoffe (Vitamin D; Calcium; B12)"/><span class="lbl">Vitamine / Mineralstoffe (Vitamin D; Calcium; B12)</span></label>
</div>
<script>(function(){
  const NONE="Keine Medikamente";
  function update(){
    const vals=[...document.querySelectorAll('input[name="8900"]:checked')].map(cb=>(cb.value||"").trim()).filter(Boolean);
    const h=document.querySelector('input[name="8900_gesamt"]');
    if(h) h.value = vals.join(", ");
  }
  document.addEventListener("change", function(e){
    const t=e.target; if(!t||t.name!=="8900") return;
    if(t.value===NONE && t.checked){
      document.querySelectorAll('input[name="8900"]').forEach(cb=>{ if(cb!==t) cb.checked=false; });
    } else if(t.value!==NONE && t.checked){
      const none=document.querySelector('input[name="8900"][value="Keine Medikamente"]');
      if(none) none.checked=false;
    }
    update();
  }, {passive:true});
  update();
})();</script>
<input name="8900_gesamt" type="hidden"/>
</fieldset>
<p class="hint">Alternativ Medikationsplan zum Termin mitbringen</p>
</section>
<section class="q" id="q9900">
<fieldset class="accent">
<legend>Wie zufrieden sind Sie mit diesem Fragebogen?</legend>
<div aria-label="Bewertung in Sternen" class="stars" role="radiogroup">
<input id="s5" name="9900" type="radio" value="5"/><label for="s5" title="5 Sterne">‚òÖ</label>
<input id="s4" name="9900" type="radio" value="4"/><label for="s4" title="4 Sterne">‚òÖ</label>
<input id="s3" name="9900" type="radio" value="3"/><label for="s3" title="3 Sterne">‚òÖ</label>
<input id="s2" name="9900" type="radio" value="2"/><label for="s2" title="2 Sterne">‚òÖ</label>
<input id="s1" name="9900" type="radio" value="1"/><label for="s1" title="1 Stern">‚òÖ</label>
</div>
<span class="freitext-spacer"></span>
<input class="freitext-blue" name="9900_freitext" placeholder="_ kurze Anmerkung (optional)" type="text"/>
<small class="hint">Ihre R√ºckmeldung hilft uns, den Fragebogen weiter zu verbessern.</small>
</fieldset>
</section>
<section class="q" id="q9000">
<h2 aria-label="Kontaktdaten vor Versand pr√ºfen"><strong>Kontaktdaten vor Versand pr√ºfen</strong></h2>
<fieldset class="accent" id="q9000_confirm_wrap"><label class="choice">
<input id="confirm_email" name="confirm_email" type="checkbox" value="Ja"/>
<span class="lbl">Ich best√§tige, dass ich die Daten √ºbermitteln m√∂chte.</span>
</label></fieldset>
<section class="q" hidden="" id="q9001">
<div class="row two">
<label>eMail-Adresse
        <span class="freitext-spacer"></span>
<input class="freitext-blue" name="9001" placeholder="name@example.com" required="required" title="Bitte eine g√ºltige E‚ÄëMail-Adresse eingeben." type="email"/><div aria-live="polite" class="field-error" data-for="9001"></div>
</label>
<label>mobile R√ºckrufnummer
        <span class="freitext-spacer"></span>
<input class="freitext-blue" inputmode="tel" name="9002" pattern="^(?:\+?\d[\d\s()\/-]{5,19})$" placeholder="+49 ‚Ä¶" title="Bitte eine g√ºltige Telefonnummer eingeben (mind. 6 Ziffern, ggf. +49)." type="tel"/><div aria-live="polite" class="field-error" data-for="9002"></div>
</label>
</div>
</section>

<input id="id_9001_gesamt" name="9001_gesamt" type="hidden"/>
<input id="id_9002_gesamt" name="9002_gesamt" type="hidden"/>
<div class="actions">
<button class="btn" id="btnSummary" type="button">Zusammenfassung erzeugen</button>
<button class="btn btn-danger" id="btnCustomReset" type="button">Alle Eingaben zur√ºcksetzen</button>
<button class="btn" disabled="" id="btnSendMail" type="button">üìß Daten √ºbermitteln</button>
</div>
<textarea class="freitext-blue" id="summary" placeholder="Zusammenfassung Ihrer Angaben (Nur-Lesen)" readonly="" rows="12" style="margin-top:1rem;width:100%"></textarea>
<div class="actions">

</div>
<script>
// Enable send button only when checkbox is checked
(function(){
  var cb = document.getElementById("confirm9000");
  var btn = document.getElementById("btnSendMail");
  if(cb && btn){
    cb.addEventListener("change", function(){
      btn.disabled = !cb.checked;
    });
  }
})();
</script>
<!-- FINAL PATCH: ensure summary generation and deduplicate conflicting IDs -->
<script id="final-summary-fix">
document.addEventListener('DOMContentLoaded', function(){
  try{ if(typeof vis==='function'){ vis('q9000', true); } else if(typeof showId==='function'){ showId('q9000', true); } }catch(e){}
  function $(s, r){ return (r||document).querySelector(s); }
  function $$(s, r){ return Array.from((r||document).querySelectorAll(s)); }

  // Deduplicate multiple elements with id="btnSendMail"
  var sends = $$('#btnSendMail');
  if (sends.length > 1){
    sends.slice(1).forEach((el, idx)=>{ el.id = 'btnSendMail_alt'+idx; });
  }

  // Ensure there is a form element reference
  var form = $('#form') || document.forms[0] || document;

  // Build a simple normalized summary from all form fields
  function buildSummaryFromForm(){
var fd = new FormData(form);
    var keys = Array.from(fd.keys());
    var uniq = Array.from(new Set(keys));
    var rows = [];
    uniq.sort().forEach(function(k){
      var vals = fd.getAll(k).filter(function(v){ return v && v !== 'Bitte w√§hlen‚Ä¶'; });
      if (!vals.length) return;
      var uniqueVals = Array.from(new Set(vals));
      if (['1114','1183','1173'].includes(k)) {
        const nums = uniqueVals.map(v => parseFloat(String(v).replace(',', '.'))).filter(n => !Number.isNaN(n));
        if (!nums.some(n => n >= 1)) return;
      }
      var baseKey = (String(k).match(/^\d{3,4}/) || [''])[0] || String(k).replace(/_.*/,'');
if (['1114','1183','1173'].includes(baseKey)){
  const nums = uniqueVals
    .map(v => parseFloat(String(v).replace(',', '.')))
    .filter(n => !Number.isNaN(n));
  if (!nums.some(n => n >= 1)) return; // skip 0 or empty
}
rows.push(k + ': ' + uniqueVals.join(' / '));
    });
    return rows.join(' / ') || 'Keine Angaben.';
  }

  // Wire the "Zusammenfassung erzeugen" button
  var btnSummary = $('#btnSummary');
  var summaryArea = $('#summary');
  if (btnSummary && summaryArea){
    btnSummary.addEventListener('click', function(){
      summaryArea.value = (String(buildSummaryFromForm()).replace(/\s*\n+\s*/g,' / '));
    }, {passive:true});
  }

  // Mirror q3003/q3004 into q9001/q9002 if review fields exist
  function mirrorContacts(){
    var e3003 = document.querySelector('input[name="3003"]');
    var e3004 = document.querySelector('input[name="3004"]');
    var r9001 = $('#rev_email') || document.querySelector('input[name="9001_email_review"]') || document.querySelector('input[name="n9001_email_review"]');
    var r9002 = $('#rev_mobile') || document.querySelector('input[name="9002_mobile_review"]') || document.querySelector('input[name="n9002_mobile_review"]');
    if (e3003 && r9001) r9001.value = e3003.value || '';
    if (e3004 && r9002) r9002.value = e3004.value || '';
  }
  mirrorContacts();
  document.addEventListener('input', function(e){
    if (e && (e.target && (e.target.name === '3003' || e.target.name === '3004'))) mirrorContacts();
  }, {passive:true});
});
</script>
</section>
<script id="bidirectional-toggle-reset">
// Bidirektionale Steuerung f√ºr data-toggle + Reset bei Abwahl (Checkbox/Radio)
// Wir respektieren existierende hidden-Attribute und setzen Unterb√§ume konsistent zur√ºck.

(function(){
  const $ = (s, r=document)=>r.querySelector(s);
  const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));

  function parseTargets(attr){
    if(!attr) return [];
    return attr.split(",").map(s=>s.trim()).filter(Boolean);
  }

  function showSectionBySelector(sel){
    parseTargets(sel).forEach(cs => {
      const sec = $(cs);
      if(!sec) return;
      sec.hidden = false;
      sec.removeAttribute("hidden");
    });
  }

  function hideSectionAndReset(sec){
    if(!sec) return;
    // hide section
    sec.hidden = true;
    // reset inputs inside
    $$("input, select, textarea", sec).forEach(el => {
      if(el.type === "checkbox" || el.type === "radio"){
        // only act if checked to avoid extra events
        if(el.checked){
          el.checked = false;
        }
      }else if(el.tagName === "SELECT"){
        el.selectedIndex = 0; // first option (assumed placeholder)
      }else{
        try{ el.value = ""; }catch(e){}
      }
    });
  }

  function hideSelectorsAndReset(sel){
    parseTargets(sel).forEach(cs => {
      const sec = $(cs);
      if(!sec) return;
      // Zus√§tzlich: rekursiv nach innen toggeln, falls dort data-toggle gesetzt ist
      // damit alle Kinder-Unterb√§ume zuverl√§ssig zugehen.
      // Wir traversieren vor dem Reset alle Inputs mit data-toggle und schlie√üen deren Ziele.
      $$("input[data-toggle], [data-toggle] input", sec).forEach(inp => {
        const t = inp.getAttribute("data-toggle");
        if(t){
          parseTargets(t).forEach(subSel => {
            const sub = $(subSel);
            if(sub){ hideSectionAndReset(sub); }
          });
        }
      });
      hideSectionAndReset(sec);
    });
  }

  function handleCheckboxToggle(input){
    const targets = input.getAttribute("data-toggle");
    if(!targets) return;
    if(input.checked){
      showSectionBySelector(targets);
    }else{
      hideSelectorsAndReset(targets);
    }
  }

  function handleRadioToggle(input){
    // Radios h√§ufig mit data-next oder data-toggle verwendet.
    // Strategie: Bei √Ñnderung zuerst alle Zielbereiche der Radios derselben Gruppe schlie√üen,
    // dann das Ziel der aktuell gew√§hlten Option √∂ffnen.
    const name = input.name;
    const group = $$(`input[type="radio"][name="${CSS.escape(name)}"]`);
    // schlie√üe alle Ziele der Gruppe
    group.forEach(r => {
      ["data-toggle", "data-next"].forEach(attr => {
        const t = r.getAttribute(attr);
        if(t){ hideSelectorsAndReset(t); }
      });
    });
    // √∂ffne Ziel der aktuell gesetzten Option
    if(input.checked){
      const t1 = input.getAttribute("data-toggle");
      const t2 = input.getAttribute("data-next");
      if(t1) showSectionBySelector(t1);
      if(t2) {
        // data-next erlaubt mehrere Ziele per Komma
        showSectionBySelector(t2);
      }
    }
  }

  // Delegierter Listener f√ºr alle √Ñnderungen
  document.addEventListener("change", (e) => {
    const el = e.target;
    if(!(el instanceof HTMLElement)) return;

    if(el.matches('input[type="checkbox"][data-toggle]')){
      handleCheckboxToggle(el);
    }else if(el.matches('input[type="radio"]')){
      // Radios behandeln wir generisch f√ºr data-next und data-toggle
      if(el.hasAttribute("data-next") || el.hasAttribute("data-toggle")){
        handleRadioToggle(el);
      }else{
        // Wenn die Gruppe andere Radios mit data-next hat, trotzdem konsistent schlie√üen
        const name = el.name;
        const group = $$(`input[type="radio"][name="${CSS.escape(name)}"]`);
        const hasTargets = group.some(r => r.hasAttribute("data-next") || r.hasAttribute("data-toggle"));
        if(hasTargets) handleRadioToggle(el);
      }
    }else if(el.matches('input[type="checkbox"]')){
      // Auch Checkboxen ohne data-toggle k√∂nnen in Gruppen mit data-toggle stehen;
      // nichts tun, au√üer sie h√§tten data-toggle (oben abgefangen).
    }
  }, {passive:true});

  // Initialzustand beim Laden korrigieren:
  // 1) √ñffne Ziele bereits gesetzter Checkboxen
  // 2) F√ºr Radio-Gruppen setze den aktiven Zustand konsistent
  function init(){
    $$('input[type="checkbox"][data-toggle]').forEach(inp => {
      if(inp.checked){
        showSectionBySelector(inp.getAttribute("data-toggle"));
      }else{
        hideSelectorsAndReset(inp.getAttribute("data-toggle"));
      }
    });
    // Radios gruppenweise
    const seen = new Set();
    $$('input[type="radio"]').forEach(r => {
      const name = r.name || "";
      if(seen.has(name)) return;
      seen.add(name);
      const group = $$(`input[type="radio"][name="${CSS.escape(name)}"]`);
      const active = group.find(x => x.checked) || null;
      if(active){
        handleRadioToggle(active);
      }else{
        // keine Auswahl ‚Üí alle potentiellen Ziele der Gruppe schlie√üen
        group.forEach(x => {
          ["data-toggle","data-next"].forEach(attr => {
            const t = x.getAttribute(attr);
            if(t) hideSelectorsAndReset(t);
          });
        });
      }
    });
  }

  // Falls DOM schon bereit, sofort; sonst nach DOMContentLoaded
  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", init, {once:true});
  }else{
    init();
  }
})();
</script>
</html>