<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåê Multi-Language (i18n) Tests - Anamnese-A</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        h1 {
            font-size: 28px;
            color: #667eea;
            margin-bottom: 10px;
        }

        .badges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            background: #667eea;
            color: white;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .stat-value {
            font-size: 36px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #666;
        }

        .test-controls {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .progress-bar {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 30px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 15px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .test-results {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .test-result {
            padding: 15px;
            border-left: 4px solid #ccc;
            margin-bottom: 10px;
            border-radius: 4px;
            background: #f9f9f9;
        }

        .test-result.passed {
            border-left-color: #4caf50;
            background: #e8f5e9;
        }

        .test-result.failed {
            border-left-color: #f44336;
            background: #ffebee;
        }

        .console-log {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .console-line {
            margin: 5px 0;
            padding: 5px;
            border-radius: 3px;
        }

        .console-info { color: #4fc3f7; }
        .console-success { color: #81c784; }
        .console-error { color: #e57373; }
        .console-warn { color: #ffb74d; }

        .language-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .lang-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .lang-flag {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .lang-name {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 5px;
        }

        .lang-sample {
            font-size: 14px;
            color: #666;
            font-style: italic;
        }

        .rtl {
            direction: rtl;
            text-align: right;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåê Multi-Language (i18n) Tests</h1>
            <p>Validierung der 19-Sprachen-Unterst√ºtzung mit RTL-Layout</p>
            <div class="badges">
                <span class="badge">10 Tests</span>
                <span class="badge">19 Sprachen</span>
                <span class="badge">3 RTL Sprachen</span>
                <span class="badge">DSGVO-konform</span>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="stat-total">0</div>
                <div class="stat-label">Gesamt Tests</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-passed">0</div>
                <div class="stat-label">‚úÖ Bestanden</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-failed">0</div>
                <div class="stat-label">‚ùå Fehlgeschlagen</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-languages">19</div>
                <div class="stat-label">üåç Sprachen</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-duration">0ms</div>
                <div class="stat-label">‚è±Ô∏è Dauer</div>
            </div>
        </div>

        <div class="test-controls">
            <button class="btn-primary" onclick="runAllTests()">‚ñ∂Ô∏è Alle Tests ausf√ºhren</button>
            <button class="btn-primary" onclick="runTest1()">Test 1: Sprachen laden</button>
            <button class="btn-primary" onclick="runTest2()">Test 2: Translation Keys</button>
            <button class="btn-primary" onclick="runTest3()">Test 3: RTL Layout</button>
            <button class="btn-primary" onclick="runTest4()">Test 4: Date Formatting</button>
            <button class="btn-primary" onclick="runTest5()">Test 5: Number Formatting</button>
            <button class="btn-primary" onclick="runTest6()">Test 6: Language Switching</button>
            <button class="btn-primary" onclick="runTest7()">Test 7: Missing Keys</button>
            <button class="btn-primary" onclick="runTest8()">Test 8: Special Characters</button>
            <button class="btn-primary" onclick="runTest9()">Test 9: Complete Coverage</button>
            <button class="btn-primary" onclick="runTest10()">Test 10: Performance</button>
            <button class="btn-secondary" onclick="clearConsole()">üóëÔ∏è Console leeren</button>
            <button class="btn-secondary" onclick="exportResults()">üíæ Ergebnisse exportieren</button>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progress" style="width: 0%;">0%</div>
        </div>

        <div class="language-preview" id="language-preview"></div>

        <div class="test-results" id="test-results"></div>

        <div class="console-log" id="console"></div>
    </div>

    <script>
        // HISTORY-AWARE: Basierend auf translations.js aus dem Hauptprojekt
        // DSGVO-SAFE: Alle √úbersetzungen lokal, keine externen API-Calls

        // Mock TRANSLATIONS object (simplified from translations.js)
        const TRANSLATIONS = {
            de: { title: 'Medizinische Anamnese', firstName: 'Vorname', lastName: 'Nachname' },
            en: { title: 'Medical History', firstName: 'First Name', lastName: 'Last Name' },
            fr: { title: 'Ant√©c√©dents m√©dicaux', firstName: 'Pr√©nom', lastName: 'Nom' },
            es: { title: 'Historia m√©dica', firstName: 'Nombre', lastName: 'Apellido' },
            it: { title: 'Anamnesi medica', firstName: 'Nome', lastName: 'Cognome' },
            pt: { title: 'Hist√≥rico m√©dico', firstName: 'Nome', lastName: 'Sobrenome' },
            nl: { title: 'Medische geschiedenis', firstName: 'Voornaam', lastName: 'Achternaam' },
            pl: { title: 'Historia medyczna', firstName: 'Imiƒô', lastName: 'Nazwisko' },
            tr: { title: 'Tƒ±bbi ge√ßmi≈ü', firstName: 'Ad', lastName: 'Soyad' },
            ar: { title: 'ÿßŸÑÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ∑ÿ®Ÿä', firstName: 'ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑÿ£ŸàŸÑ', lastName: 'ÿßÿ≥ŸÖ ÿßŸÑÿπÿßÿ¶ŸÑÿ©' },
            ru: { title: '–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è', firstName: '–ò–º—è', lastName: '–§–∞–º–∏–ª–∏—è' },
            zh: { title: 'ÁóÖÂéÜ', firstName: 'ÂêçÂ≠ó', lastName: 'ÂßìÊ∞è' },
            uk: { title: '–ú–µ–¥–∏—á–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è', firstName: "–Ü–º'—è", lastName: '–ü—Ä—ñ–∑–≤–∏—â–µ' },
            fa: { title: 'ÿ≥ÿßÿ®ŸÇŸá Ÿæÿ≤ÿ¥⁄©€å', firstName: 'ŸÜÿßŸÖ', lastName: 'ŸÜÿßŸÖ ÿÆÿßŸÜŸàÿßÿØ⁄Ø€å' },
            ur: { title: 'ÿ∑ÿ®€å ÿ™ÿßÿ±€åÿÆ', firstName: 'Ÿæ€ÅŸÑÿß ŸÜÿßŸÖ', lastName: 'ÿ¢ÿÆÿ±€å ŸÜÿßŸÖ' },
            sq: { title: 'Historia mjek√´sore', firstName: 'Emri', lastName: 'Mbiemri' },
            ro: { title: 'Istoric medical', firstName: 'Prenume', lastName: 'Nume' },
            hi: { title: '‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§æ ‡§á‡§§‡§ø‡§π‡§æ‡§∏', firstName: '‡§™‡§π‡§≤‡§æ ‡§®‡§æ‡§Æ', lastName: '‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§®‡§æ‡§Æ' },
            ja: { title: 'ÁóÖÊ≠¥', firstName: 'Âêç', lastName: 'Âßì' }
        };

        const RTL_LANGUAGES = ['ar', 'fa', 'ur'];

        let testResults = {
            total: 0,
            passed: 0,
            failed: 0,
            tests: [],
            startTime: null,
            endTime: null
        };

        function log(message, type = 'info') {
            const console = document.getElementById('console');
            const timestamp = new Date().toLocaleTimeString('de-DE');
            const line = document.createElement('div');
            line.className = `console-line console-${type}`;
            line.textContent = `[${timestamp}] ${message}`;
            console.appendChild(line);
            console.scrollTop = console.scrollHeight;
        }

        function updateStats() {
            document.getElementById('stat-total').textContent = testResults.total;
            document.getElementById('stat-passed').textContent = testResults.passed;
            document.getElementById('stat-failed').textContent = testResults.failed;
            
            if (testResults.endTime && testResults.startTime) {
                const duration = testResults.endTime - testResults.startTime;
                document.getElementById('stat-duration').textContent = `${duration}ms`;
            }

            const progress = testResults.total > 0 
                ? (testResults.passed / testResults.total * 100).toFixed(1)
                : 0;
            const progressBar = document.getElementById('progress');
            progressBar.style.width = `${progress}%`;
            progressBar.textContent = `${progress}%`;
        }

        function addTestResult(name, passed, message) {
            testResults.total++;
            if (passed) {
                testResults.passed++;
            } else {
                testResults.failed++;
            }

            testResults.tests.push({ name, passed, message });

            const resultsDiv = document.getElementById('test-results');
            const result = document.createElement('div');
            result.className = `test-result ${passed ? 'passed' : 'failed'}`;
            result.innerHTML = `
                <strong>${passed ? '‚úÖ' : '‚ùå'} ${name}</strong><br>
                ${message}
            `;
            resultsDiv.appendChild(result);

            updateStats();
        }

        function showLanguagePreview() {
            const preview = document.getElementById('language-preview');
            preview.innerHTML = '';

            const languages = [
                { code: 'de', flag: 'üá©üá™', name: 'Deutsch' },
                { code: 'en', flag: 'üá¨üáß', name: 'English' },
                { code: 'fr', flag: 'üá´üá∑', name: 'Fran√ßais' },
                { code: 'es', flag: 'üá™üá∏', name: 'Espa√±ol' },
                { code: 'it', flag: 'üáÆüáπ', name: 'Italiano' },
                { code: 'pt', flag: 'üáµüáπ', name: 'Portugu√™s' },
                { code: 'nl', flag: 'üá≥üá±', name: 'Nederlands' },
                { code: 'pl', flag: 'üáµüá±', name: 'Polski' },
                { code: 'tr', flag: 'üáπüá∑', name: 'T√ºrk√ße' },
                { code: 'ar', flag: 'üá∏üá¶', name: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©', rtl: true },
                { code: 'ru', flag: 'üá∑üá∫', name: '–†—É—Å—Å–∫–∏–π' },
                { code: 'zh', flag: 'üá®üá≥', name: '‰∏≠Êñá' },
                { code: 'uk', flag: 'üá∫üá¶', name: '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞' },
                { code: 'fa', flag: 'üáÆüá∑', name: 'ŸÅÿßÿ±ÿ≥€å', rtl: true },
                { code: 'ur', flag: 'üáµüá∞', name: 'ÿßÿ±ÿØŸà', rtl: true },
                { code: 'sq', flag: 'üá¶üá±', name: 'Shqip' },
                { code: 'ro', flag: 'üá∑üá¥', name: 'Rom√¢nƒÉ' },
                { code: 'hi', flag: 'üáÆüá≥', name: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä' },
                { code: 'ja', flag: 'üáØüáµ', name: 'Êó•Êú¨Ë™û' }
            ];

            languages.forEach(lang => {
                const card = document.createElement('div');
                card.className = 'lang-card' + (lang.rtl ? ' rtl' : '');
                card.innerHTML = `
                    <div class="lang-flag">${lang.flag}</div>
                    <div class="lang-name">${lang.name}</div>
                    <div class="lang-sample">${TRANSLATIONS[lang.code]?.title || 'N/A'}</div>
                `;
                preview.appendChild(card);
            });
        }

        // Test 1: Alle 19 Sprachen laden
        async function runTest1() {
            log('üß™ Test 1: Alle 19 Sprachen laden...', 'info');
            
            const expectedLangs = 19;
            const loadedLangs = Object.keys(TRANSLATIONS).length;
            
            const passed = loadedLangs === expectedLangs;
            const message = passed 
                ? `‚úÖ ${loadedLangs} Sprachen erfolgreich geladen`
                : `‚ùå Erwartete ${expectedLangs} Sprachen, gefunden ${loadedLangs}`;
            
            addTestResult('Sprachen laden', passed, message);
            log(message, passed ? 'success' : 'error');
            
            showLanguagePreview();
        }

        // Test 2: Translation Keys Vollst√§ndigkeit
        async function runTest2() {
            log('üß™ Test 2: Translation Keys Vollst√§ndigkeit...', 'info');
            
            const requiredKeys = ['title', 'firstName', 'lastName'];
            let missingKeys = [];
            
            Object.entries(TRANSLATIONS).forEach(([lang, trans]) => {
                requiredKeys.forEach(key => {
                    if (!trans[key]) {
                        missingKeys.push(`${lang}.${key}`);
                    }
                });
            });
            
            const passed = missingKeys.length === 0;
            const message = passed 
                ? `‚úÖ Alle ${requiredKeys.length} Keys in allen Sprachen vorhanden`
                : `‚ùå Fehlende Keys: ${missingKeys.join(', ')}`;
            
            addTestResult('Translation Keys', passed, message);
            log(message, passed ? 'success' : 'error');
        }

        // Test 3: RTL Layout f√ºr arabische Sprachen
        async function runTest3() {
            log('üß™ Test 3: RTL Layout Unterst√ºtzung...', 'info');
            
            const rtlCount = RTL_LANGUAGES.length;
            const expectedRTL = 3; // Arabic, Farsi, Urdu
            
            const passed = rtlCount === expectedRTL;
            const message = passed 
                ? `‚úÖ ${rtlCount} RTL-Sprachen konfiguriert (${RTL_LANGUAGES.join(', ')})`
                : `‚ùå Erwartete ${expectedRTL} RTL-Sprachen, gefunden ${rtlCount}`;
            
            addTestResult('RTL Layout', passed, message);
            log(message, passed ? 'success' : 'error');
        }

        // Test 4: Date Formatting
        async function runTest4() {
            log('üß™ Test 4: Locale-spezifisches Date Formatting...', 'info');
            
            const testDate = new Date('2025-12-29');
            const formats = {
                'de-DE': testDate.toLocaleDateString('de-DE'),
                'en-US': testDate.toLocaleDateString('en-US'),
                'ja-JP': testDate.toLocaleDateString('ja-JP')
            };
            
            const passed = formats['de-DE'].includes('.') && 
                          formats['en-US'].includes('/') &&
                          formats['ja-JP'].length > 0;
            
            const message = passed 
                ? `‚úÖ Date Formatting funktioniert (DE: ${formats['de-DE']}, US: ${formats['en-US']}, JP: ${formats['ja-JP']})`
                : `‚ùå Date Formatting fehlerhaft`;
            
            addTestResult('Date Formatting', passed, message);
            log(message, passed ? 'success' : 'error');
        }

        // Test 5: Number Formatting
        async function runTest5() {
            log('üß™ Test 5: Locale-spezifisches Number Formatting...', 'info');
            
            const testNumber = 1234.56;
            const formats = {
                'de-DE': testNumber.toLocaleString('de-DE'),
                'en-US': testNumber.toLocaleString('en-US')
            };
            
            const passed = formats['de-DE'].includes(',') && 
                          formats['en-US'].includes('.');
            
            const message = passed 
                ? `‚úÖ Number Formatting funktioniert (DE: ${formats['de-DE']}, US: ${formats['en-US']})`
                : `‚ùå Number Formatting fehlerhaft`;
            
            addTestResult('Number Formatting', passed, message);
            log(message, passed ? 'success' : 'error');
        }

        // Test 6: Language Switching Performance
        async function runTest6() {
            log('üß™ Test 6: Language Switching Performance...', 'info');
            
            const startTime = performance.now();
            let switchCount = 0;
            
            // Simuliere 10 Sprachwechsel
            for (let i = 0; i < 10; i++) {
                const langs = Object.keys(TRANSLATIONS);
                const randomLang = langs[Math.floor(Math.random() * langs.length)];
                const translation = TRANSLATIONS[randomLang];
                if (translation) switchCount++;
            }
            
            const duration = performance.now() - startTime;
            const passed = duration < 100 && switchCount === 10;
            
            const message = passed 
                ? `‚úÖ 10 Sprachwechsel in ${duration.toFixed(2)}ms (< 100ms)`
                : `‚ùå Zu langsam: ${duration.toFixed(2)}ms`;
            
            addTestResult('Language Switching', passed, message);
            log(message, passed ? 'success' : 'error');
        }

        // Test 7: Fehlende Keys behandeln
        async function runTest7() {
            log('üß™ Test 7: Fehlende Keys Fehlerbehandlung...', 'info');
            
            const nonExistentKey = 'thisKeyDoesNotExist';
            const result = TRANSLATIONS['de']?.[nonExistentKey];
            
            const passed = result === undefined;
            const message = passed 
                ? `‚úÖ Fehlende Keys werden korrekt als undefined behandelt`
                : `‚ùå Fehlende Keys nicht korrekt behandelt`;
            
            addTestResult('Missing Keys', passed, message);
            log(message, passed ? 'success' : 'error');
        }

        // Test 8: Special Characters (Umlaute, Unicode)
        async function runTest8() {
            log('üß™ Test 8: Special Characters & Unicode...', 'info');
            
            const specialChars = {
                de: '√§ √∂ √º √ü √Ñ √ñ √ú',
                zh: '‰∏≠ÊñáÂ≠óÁ¨¶',
                ar: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©',
                ja: 'Êó•Êú¨Ë™û'
            };
            
            let passed = true;
            Object.entries(specialChars).forEach(([lang, chars]) => {
                // Check if characters are properly encoded
                const encoded = encodeURIComponent(chars);
                if (!encoded || encoded.length === 0) {
                    passed = false;
                }
            });
            
            const message = passed 
                ? `‚úÖ Special Characters korrekt encodiert (UTF-8)`
                : `‚ùå Special Characters Encoding fehlerhaft`;
            
            addTestResult('Special Characters', passed, message);
            log(message, passed ? 'success' : 'error');
        }

        // Test 9: Complete Translation Coverage
        async function runTest9() {
            log('üß™ Test 9: Complete Translation Coverage...', 'info');
            
            const allKeys = new Set();
            Object.values(TRANSLATIONS).forEach(trans => {
                Object.keys(trans).forEach(key => allKeys.add(key));
            });
            
            const totalKeys = allKeys.size;
            const totalTranslations = Object.keys(TRANSLATIONS).length * totalKeys;
            
            let actualTranslations = 0;
            Object.values(TRANSLATIONS).forEach(trans => {
                allKeys.forEach(key => {
                    if (trans[key]) actualTranslations++;
                });
            });
            
            const coverage = (actualTranslations / totalTranslations * 100).toFixed(1);
            const passed = coverage >= 95; // 95% Coverage minimum
            
            const message = passed 
                ? `‚úÖ Translation Coverage: ${coverage}% (${actualTranslations}/${totalTranslations})`
                : `‚ùå Coverage zu niedrig: ${coverage}% (Minimum: 95%)`;
            
            addTestResult('Translation Coverage', passed, message);
            log(message, passed ? 'success' : 'error');
        }

        // Test 10: Performance Benchmark
        async function runTest10() {
            log('üß™ Test 10: Performance Benchmark...', 'info');
            
            const iterations = 1000;
            const startTime = performance.now();
            
            for (let i = 0; i < iterations; i++) {
                const lang = 'de';
                const key = 'title';
                const value = TRANSLATIONS[lang]?.[key];
            }
            
            const duration = performance.now() - startTime;
            const avgTime = duration / iterations;
            const passed = avgTime < 0.01; // < 0.01ms pro Lookup
            
            const message = passed 
                ? `‚úÖ ${iterations} Lookups in ${duration.toFixed(2)}ms (√ò ${avgTime.toFixed(4)}ms)`
                : `‚ùå Zu langsam: √ò ${avgTime.toFixed(4)}ms pro Lookup`;
            
            addTestResult('Performance Benchmark', passed, message);
            log(message, passed ? 'success' : 'error');
        }

        async function runAllTests() {
            // Reset
            document.getElementById('test-results').innerHTML = '';
            document.getElementById('console').innerHTML = '';
            testResults = {
                total: 0,
                passed: 0,
                failed: 0,
                tests: [],
                startTime: Date.now(),
                endTime: null
            };

            log('üöÄ Starte i18n Test-Suite...', 'info');
            
            await runTest1();
            await new Promise(r => setTimeout(r, 500));
            await runTest2();
            await new Promise(r => setTimeout(r, 500));
            await runTest3();
            await new Promise(r => setTimeout(r, 500));
            await runTest4();
            await new Promise(r => setTimeout(r, 500));
            await runTest5();
            await new Promise(r => setTimeout(r, 500));
            await runTest6();
            await new Promise(r => setTimeout(r, 500));
            await runTest7();
            await new Promise(r => setTimeout(r, 500));
            await runTest8();
            await new Promise(r => setTimeout(r, 500));
            await runTest9();
            await new Promise(r => setTimeout(r, 500));
            await runTest10();
            
            testResults.endTime = Date.now();
            updateStats();
            
            const duration = testResults.endTime - testResults.startTime;
            const passRate = ((testResults.passed / testResults.total) * 100).toFixed(1);
            
            log(`‚úÖ Test-Suite abgeschlossen in ${duration}ms`, 'success');
            log(`üìä Ergebnis: ${testResults.passed}/${testResults.total} Tests bestanden (${passRate}%)`, 'info');
        }

        function clearConsole() {
            document.getElementById('console').innerHTML = '';
            log('Console geleert', 'info');
        }

        function exportResults() {
            const data = {
                suite: 'Multi-Language (i18n) Tests',
                timestamp: new Date().toISOString(),
                results: testResults,
                languages: Object.keys(TRANSLATIONS).length,
                rtlLanguages: RTL_LANGUAGES.length
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `i18n-Test-Results-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            
            log('‚úÖ Ergebnisse exportiert', 'success');
        }

        // Initial state
        log('üåê Multi-Language Test-Suite geladen', 'info');
        log('üìã 19 Sprachen verf√ºgbar: de, en, fr, es, it, pt, nl, pl, tr, ar, ru, zh, uk, fa, ur, sq, ro, hi, ja', 'info');
        log('üîÑ RTL Layout f√ºr: ar (Arabic), fa (Farsi), ur (Urdu)', 'info');
        showLanguagePreview();
    </script>
</body>
</html>
