<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Reporting System - Test</title>
</head>
<body>
    <h1>üîç Error Reporting System - Test</h1>
    
    <div style="margin: 20px; font-family: sans-serif;">
        <h2>Test Buttons</h2>
        <button onclick="testJavaScriptError()">1Ô∏è‚É£ JavaScript Error werfen</button>
        <button onclick="testPromiseRejection()">2Ô∏è‚É£ Promise Rejection</button>
        <button onclick="testConsoleError()">3Ô∏è‚É£ Console Error</button>
        <button onclick="testManualError()">4Ô∏è‚É£ Manueller Error</button>
        
        <hr>
        
        <h2>Status</h2>
        <div id="status"></div>
        
        <hr>
        
        <h2>Gespeicherte Fehler</h2>
        <button onclick="showErrors()">Fehler anzeigen</button>
        <pre id="errors" style="background: #f0f0f0; padding: 10px; border-radius: 4px;"></pre>
    </div>
    
    <script src="error-reporting.js"></script>
    <script>
        function testJavaScriptError() {
            throw new Error('Test: JavaScript Error - Diese Nachricht sollte im Modal erscheinen!');
        }
        
        function testPromiseRejection() {
            Promise.reject('Test: Unhandled Promise Rejection - Async Fehler!');
        }
        
        function testConsoleError() {
            console.error('Test: Console Error - Sollte auch erfasst werden!');
            updateStatus('Console Error geworfen');
        }
        
        function testManualError() {
            window.errorReporting.captureError({
                type: 'Manual Test Error',
                message: 'Dies ist ein manuell ausgel√∂ster Fehler f√ºr Testing',
                stack: 'at testManualError (test-error-reporting.html:45:38)',
                timestamp: new Date().toISOString()
            });
            updateStatus('Manueller Error erfasst');
        }
        
        function showErrors() {
            const errors = window.errorReporting.getErrors();
            const count = window.errorReporting.getErrorCount();
            
            document.getElementById('errors').textContent = 
                `Anzahl: ${count}\n\n` + 
                JSON.stringify(errors, null, 2);
            
            updateStatus(`${count} Fehler geladen`);
        }
        
        function updateStatus(message) {
            const status = document.getElementById('status');
            status.innerHTML = `‚úÖ ${message} (${new Date().toLocaleTimeString()})`;
        }
        
        // Initial status
        updateStatus('Error Reporting System geladen');
    </script>
</body>
</html>
